/*!
 * ONNX Runtime Web v1.17.1
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var br=Object.defineProperty;var ja=Object.getOwnPropertyDescriptor;var Ya=Object.getOwnPropertyNames;var Va=Object.prototype.hasOwnProperty;var G=(n,r)=>()=>(n&&(r=n(n=0)),r);var it=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),vt=(n,r)=>{for(var t in r)br(n,t,{get:r[t],enumerable:!0})},qa=(n,r,t,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ya(r))!Va.call(n,a)&&a!==t&&br(n,a,{get:()=>r[a],enumerable:!(u=ja(r,a))||u.enumerable});return n};var ut=n=>qa(br({},"__esModule",{value:!0}),n);var Wt,Ye,Tt,Gt,zt=G(()=>{"use strict";Wt=new Map,Ye=[],Tt=(n,r,t)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let u=Wt.get(n);if(u===void 0)Wt.set(n,{backend:r,priority:t});else{if(u.priority>t)return;if(u.priority===t&&u.backend!==r)throw new Error(`cannot register backend "${n}" using priority ${t}`)}if(t>=0){let a=Ye.indexOf(n);a!==-1&&Ye.splice(a,1);for(let c=0;c<Ye.length;c++)if(Wt.get(Ye[c]).priority<=t){Ye.splice(c,0,n);return}Ye.push(n)}return}throw new TypeError("not a valid backend")},Gt=async n=>{let r=n.length===0?Ye:n,t=[];for(let u of r){let a=Wt.get(u);if(a){if(a.initialized)return a.backend;if(a.aborted)continue;let c=!!a.initPromise;try{return c||(a.initPromise=a.backend.init(u)),await a.initPromise,a.initialized=!0,a.backend}catch(l){c||t.push({name:u,err:l}),a.aborted=!0}finally{delete a.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(u=>`[${u.name}] ${u.err}`).join(", ")}`)}});var bn=G(()=>{"use strict";zt()});var On,vn=G(()=>{"use strict";On="1.17.1"});var Tn,Ve,Or=G(()=>{"use strict";vn();Tn="warning",Ve={wasm:{},webgl:{},webgpu:{},versions:{common:On},set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);Tn=n}},get logLevel(){return Tn}};Object.defineProperty(Ve,"logLevel",{enumerable:!0})});var V,_n=G(()=>{"use strict";Or();V=Ve});var En,Sn,An=G(()=>{"use strict";En=(n,r)=>{let t=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);t.width=n.dims[3],t.height=n.dims[2];let u=t.getContext("2d");if(u!=null){let a,c;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],c=n.dims[3]):(a=n.dims[3],c=n.dims[2]);let l=r?.format!==void 0?r.format:"RGB",i=r?.norm,g,m;i===void 0||i.mean===void 0?g=[255,255,255,255]:typeof i.mean=="number"?g=[i.mean,i.mean,i.mean,i.mean]:(g=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(g[3]=i.mean[3])),i===void 0||i.bias===void 0?m=[0,0,0,0]:typeof i.bias=="number"?m=[i.bias,i.bias,i.bias,i.bias]:(m=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(m[3]=i.bias[3]));let y=c*a,T=0,b=y,_=y*2,R=-1;l==="RGBA"?(T=0,b=y,_=y*2,R=y*3):l==="RGB"?(T=0,b=y,_=y*2):l==="RBG"&&(T=0,_=y,b=y*2);for(let A=0;A<c;A++)for(let M=0;M<a;M++){let I=(n.data[T++]-m[0])*g[0],k=(n.data[b++]-m[1])*g[1],W=(n.data[_++]-m[2])*g[2],z=R===-1?255:(n.data[R++]-m[3])*g[3];u.fillStyle="rgba("+I+","+k+","+W+","+z+")",u.fillRect(M,A,1,1)}if("toDataURL"in t)return t.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},Sn=(n,r)=>{let t=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),u;if(t!=null){let a,c,l;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],c=n.dims[1],l=n.dims[3]):(a=n.dims[3],c=n.dims[2],l=n.dims[1]);let i=r!==void 0&&r.format!==void 0?r.format:"RGB",g=r?.norm,m,y;g===void 0||g.mean===void 0?m=[255,255,255,255]:typeof g.mean=="number"?m=[g.mean,g.mean,g.mean,g.mean]:(m=[g.mean[0],g.mean[1],g.mean[2],255],g.mean[3]!==void 0&&(m[3]=g.mean[3])),g===void 0||g.bias===void 0?y=[0,0,0,0]:typeof g.bias=="number"?y=[g.bias,g.bias,g.bias,g.bias]:(y=[g.bias[0],g.bias[1],g.bias[2],0],g.bias[3]!==void 0&&(y[3]=g.bias[3]));let T=c*a;if(r!==void 0&&(r.format!==void 0&&l===4&&r.format!=="RGBA"||l===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let b=4,_=0,R=1,A=2,M=3,I=0,k=T,W=T*2,z=-1;i==="RGBA"?(I=0,k=T,W=T*2,z=T*3):i==="RGB"?(I=0,k=T,W=T*2):i==="RBG"&&(I=0,W=T,k=T*2),u=t.createImageData(a,c);for(let j=0;j<c*a;_+=b,R+=b,A+=b,M+=b,j++)u.data[_]=(n.data[I++]-y[0])*m[0],u.data[R]=(n.data[k++]-y[1])*m[1],u.data[A]=(n.data[W++]-y[2])*m[2],u.data[M]=z===-1?255:(n.data[z++]-y[3])*m[3]}else throw new Error("Can not access image data");return u}});var vr,Mn,Cn,Rn,Pn,In=G(()=>{"use strict";$t();vr=(n,r)=>{if(n===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:u}=r,a=r.norm??{mean:255,bias:0},c,l;typeof a.mean=="number"?c=[a.mean,a.mean,a.mean,a.mean]:c=[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],typeof a.bias=="number"?l=[a.bias,a.bias,a.bias,a.bias]:l=[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];let i=r.format!==void 0?r.format:"RGBA",g=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",m=t*u,y=g==="RGBA"?new Float32Array(m*4):new Float32Array(m*3),T=4,b=0,_=1,R=2,A=3,M=0,I=m,k=m*2,W=-1;i==="RGB"&&(T=3,b=0,_=1,R=2,A=-1),g==="RGBA"?W=m*3:g==="RBG"?(M=0,k=m,I=m*2):g==="BGR"&&(k=0,I=m,M=m*2);for(let j=0;j<m;j++,b+=T,R+=T,_+=T,A+=T)y[M++]=(n[b]+l[0])/c[0],y[I++]=(n[_]+l[1])/c[1],y[k++]=(n[R]+l[2])/c[2],W!==-1&&A!==-1&&(y[W++]=(n[A]+l[3])/c[3]);return g==="RGBA"?new he("float32",y,[1,4,t,u]):new he("float32",y,[1,3,t,u])},Mn=async(n,r)=>{let t=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,u=typeof ImageData<"u"&&n instanceof ImageData,a=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,c=typeof n=="string",l,i=r??{},g=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},m=y=>y instanceof HTMLCanvasElement||y instanceof OffscreenCanvas?y.getContext("2d"):null;if(t){let y=g();y.width=n.width,y.height=n.height;let T=m(y);if(T!=null){let b=n.height,_=n.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(b=r.resizedHeight,_=r.resizedWidth),r!==void 0){if(i=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=b,i.width=_}else i.tensorFormat="RGBA",i.height=b,i.width=_;T.drawImage(n,0,0),l=T.getImageData(0,0,_,b).data}else throw new Error("Can not access image data")}else if(u){let y,T;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(y=r.resizedHeight,T=r.resizedWidth):(y=n.height,T=n.width),r!==void 0&&(i=r),i.format="RGBA",i.height=y,i.width=T,r!==void 0){let b=g();b.width=T,b.height=y;let _=m(b);if(_!=null)_.putImageData(n,0,0),l=_.getImageData(0,0,T,y).data;else throw new Error("Can not access image data")}else l=n.data}else if(a){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let y=g();y.width=n.width,y.height=n.height;let T=m(y);if(T!=null){let b=n.height,_=n.width;return T.drawImage(n,0,0,_,b),l=T.getImageData(0,0,_,b).data,i.height=b,i.width=_,vr(l,i)}else throw new Error("Can not access image data")}else{if(c)return new Promise((y,T)=>{let b=g(),_=m(b);if(!n||!_)return T();let R=new Image;R.crossOrigin="Anonymous",R.src=n,R.onload=()=>{b.width=R.width,b.height=R.height,_.drawImage(R,0,0,b.width,b.height);let A=_.getImageData(0,0,b.width,b.height);i.height=b.height,i.width=b.width,y(vr(A.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(l!==void 0)return vr(l,i);throw new Error("Input data provided is not supported - aborted tensor creation")},Cn=(n,r)=>{let{width:t,height:u,download:a,dispose:c}=r,l=[1,u,t,4];return new he({location:"texture",type:"float32",texture:n,dims:l,download:a,dispose:c})},Rn=(n,r)=>{let{dataType:t,dims:u,download:a,dispose:c}=r;return new he({location:"gpu-buffer",type:t??"float32",gpuBuffer:n,dims:u,download:a,dispose:c})},Pn=(n,r,t)=>new he({location:"cpu-pinned",type:n,data:r,dims:t??[r.length]})});var _t,jt,xn,Dn,Bn=G(()=>{"use strict";_t=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),jt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),xn=!1,Dn=()=>{if(!xn){xn=!0;let n=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",r=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";n&&(_t.set("int64",BigInt64Array),jt.set(BigInt64Array,"int64")),r&&(_t.set("uint64",BigUint64Array),jt.set(BigUint64Array,"uint64"))}}});var Un,Fn,kn=G(()=>{"use strict";$t();Un=n=>{let r=1;for(let t=0;t<n.length;t++){let u=n[t];if(typeof u!="number"||!Number.isSafeInteger(u))throw new TypeError(`dims[${t}] must be an integer, got: ${u}`);if(u<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${u}`);r*=u}return r},Fn=(n,r)=>{switch(n.location){case"cpu":return new he(n.type,n.data,r);case"cpu-pinned":return new he({location:"cpu-pinned",data:n.data,type:n.type,dims:r});case"texture":return new he({location:"texture",texture:n.texture,type:n.type,dims:r});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:n.gpuBuffer,type:n.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${n.location} is not supported`)}}});var he,$t=G(()=>{"use strict";An();In();Bn();kn();he=class{constructor(r,t,u){Dn();let a,c;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,a=r.type,c=r.dims,r.location){case"cpu-pinned":{let i=_t.get(a);if(!i)throw new TypeError(`unsupported type "${a}" to create tensor from pinned buffer`);if(!(r.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=r.data;break}case"texture":{if(a!=="float32")throw new TypeError(`unsupported type "${a}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(a!=="float32"&&a!=="float16"&&a!=="int32"&&a!=="int64"&&a!=="uint32"&&a!=="bool")throw new TypeError(`unsupported type "${a}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let i,g;if(typeof r=="string")if(a=r,g=u,r==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let m=_t.get(r);if(m===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(t)){if(r==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?i=m.from(t,BigInt):i=m.from(t)}else if(t instanceof m)i=t;else throw new TypeError(`A ${a} tensor's data must be type of ${m}`)}else if(g=t,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let m=typeof r[0];if(m==="string")a="string",i=r;else if(m==="boolean")a="bool",i=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${m}.`)}else{let m=jt.get(r.constructor);if(m===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);a=m,i=r}if(g===void 0)g=[i.length];else if(!Array.isArray(g))throw new TypeError("A tensor's dims must be a number array");c=g,this.cpuData=i,this.dataLocation="cpu"}let l=Un(c);if(this.cpuData&&l!==this.cpuData.length)throw new Error(`Tensor's size(${l}) does not match data length(${this.cpuData.length}).`);this.type=a,this.dims=c,this.size=l}static async fromImage(r,t){return Mn(r,t)}static fromTexture(r,t){return Cn(r,t)}static fromGpuBuffer(r,t){return Rn(r,t)}static fromPinnedBuffer(r,t,u){return Pn(r,t,u)}toDataURL(r){return En(this,r)}toImageData(r){return Sn(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,r&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Fn(this,r)}}});var ce,Yt=G(()=>{"use strict";$t();ce=he});var Ln,Nn,qe,Je,Tr=G(()=>{"use strict";Or();Ln=(n,r)=>{Ve.wasm.trace&&console.timeStamp(`${n}::ORT::${r}`)},Nn=(n,r)=>{let t=new Error().stack?.split(/\r\n|\r|\n/g)||[],u=!1;for(let a=0;a<t.length;a++){if(u&&!t[a].includes("TRACE_FUNC")){let c=`FUNC_${n}::${t[a].trim().split(" ")[1]}`;r&&(c+=`::${r}`),Ln("CPU",c);return}t[a].includes("TRACE_FUNC")&&(u=!0)}},qe=n=>{Ve.wasm.trace&&Nn("BEGIN",n)},Je=n=>{Ve.wasm.trace&&Nn("END",n)}});var Vt,Hn=G(()=>{"use strict";zt();Yt();Tr();Vt=class n{constructor(r){this.handler=r}async run(r,t,u){qe();let a={},c={};if(typeof r!="object"||r===null||r instanceof ce||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(let m of t){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);a[m]=null}if(typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(t);for(let T of this.outputNames)if(y.indexOf(T)!==-1){let b=t[T];(b===null||b instanceof ce)&&(m=!0,l=!1,a[T]=b)}if(m){if(typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else c=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of this.inputNames)if(typeof r[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(l)for(let m of this.outputNames)a[m]=null;let i=await this.handler.run(r,a,c),g={};for(let m in i)if(Object.hasOwnProperty.call(i,m)){let y=i[m];y instanceof ce?g[m]=y:g[m]=new ce(y.type,y.data,y.dims)}return Je(),g}async release(){return this.handler.dispose()}static async create(r,t,u,a){qe();let c,l={};if(typeof r=="string"){if(c=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(c=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let T=r,b=0,_=r.byteLength;if(typeof t=="object"&&t!==null)l=t;else if(typeof t=="number"){if(b=t,!Number.isSafeInteger(b))throw new RangeError("'byteOffset' must be an integer.");if(b<0||b>=T.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${T.byteLength}).`);if(_=r.byteLength-b,typeof u=="number"){if(_=u,!Number.isSafeInteger(_))throw new RangeError("'byteLength' must be an integer.");if(_<=0||b+_>T.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${T.byteLength-b}].`);if(typeof a=="object"&&a!==null)l=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof u<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");c=new Uint8Array(T,b,_)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let g=(l.executionProviders||[]).map(T=>typeof T=="string"?T:T.name),y=await(await Gt(g)).createInferenceSessionHandler(c,l);return Je(),new n(y)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Ja,Wn=G(()=>{"use strict";Hn();Ja=Vt});var Gn=G(()=>{"use strict"});var Xa,qt,zn=G(()=>{"use strict";zt();Yt();Xa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",qt=class n{constructor(r,t,u){this.handler=r,this.hasOptimizerModel=t,this.hasEvalModel=u}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,t){let u=r.evalModel||"",a=r.optimizerModel||"",c=t||{},i=(c.executionProviders||[]).map(m=>typeof m=="string"?m:m.name),g=await Gt(i);if(g.createTrainingSessionHandler){let m=await g.createTrainingSessionHandler(r.checkpointState,r.trainModel,u,a,c);return new n(m,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Xa)}typeNarrowingForRunStep(r,t,u,a,c){let l={},i={};if(typeof u!="object"||u===null||u instanceof ce||Array.isArray(u))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let g=!0;if(typeof a=="object"){if(a===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(a.length===0)throw new TypeError("'fetches' cannot be an empty array.");g=!1;for(let m of a){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(t.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);l[m]=null}if(typeof c=="object"&&c!==null)i=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(a);for(let T of t)if(y.indexOf(T)!==-1){let b=a[T];(b===null||b instanceof ce)&&(m=!0,g=!1,l[T]=b)}if(m){if(typeof c=="object"&&c!==null)i=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else i=a}}else if(typeof a<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of r)if(typeof u[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(g)for(let m of t)l[m]=null;return[l,i]}convertHandlerReturnTypeToMapOfTensors(r){let t={};for(let u in r)if(Object.hasOwnProperty.call(r,u)){let a=r[u];a instanceof ce?t[u]=a:t[u]=new ce(a.type,a.data,a.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,t,u){let[a,c]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,t,u),l=await this.handler.runTrainStep(r,a,c);return this.convertHandlerReturnTypeToMapOfTensors(l)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,t,u){if(this.hasEvalModel){let[a,c]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,t,u),l=await this.handler.runEvalStep(r,a,c);return this.convertHandlerReturnTypeToMapOfTensors(l)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,t=!0){let u=await this.getParametersSize(t);if(r.length!==4*u)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,t)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}}});var Qa,$n=G(()=>{"use strict";zn();Qa=qt});var _r={};vt(_r,{InferenceSession:()=>Ja,TRACE:()=>Ln,TRACE_FUNC_BEGIN:()=>qe,TRACE_FUNC_END:()=>Je,Tensor:()=>ce,TrainingSession:()=>Qa,env:()=>V,registerBackend:()=>Tt});var Xe=G(()=>{"use strict";bn();_n();Wn();Yt();Tr();Gn();$n()});var Er={};vt(Er,{createReadStream:()=>Yn,readFile:()=>Ka,readFileSync:()=>Za});var Ka,Za,Yn,Sr=G(()=>{Ka=void 0,Za=void 0,Yn=void 0});var Ar={};vt(Ar,{join:()=>eo});var eo,Mr=G(()=>{eo=void 0});var Jn=it((qn,Cr)=>{"use strict";var Vn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){var t=r,u,a;t.ready=new Promise((o,d)=>{u=o,a=d});var c=Object.assign({},t),l="./this.program",i=typeof window=="object",g=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",T,b,_;if(m){var R=(Sr(),ut(Er)),A=(Mr(),ut(Ar));y=g?A.dirname(y)+"/":__dirname+"/",T=(o,d)=>(o=Te(o)?new URL(o):A.normalize(o),R.readFileSync(o,d?void 0:"utf8")),_=o=>(o=T(o,!0),o.buffer||(o=new Uint8Array(o)),o),b=(o,d,p,w=!0)=>{o=Te(o)?new URL(o):A.normalize(o),R.readFile(o,w?void 0:"utf8",(C,D)=>{C?p(C):d(w?D.buffer:D)})},!t.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||g)&&(g?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),n&&(y=n),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",T=o=>{var d=new XMLHttpRequest;return d.open("GET",o,!1),d.send(null),d.responseText},g&&(_=o=>{var d=new XMLHttpRequest;return d.open("GET",o,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),b=(o,d,p)=>{var w=new XMLHttpRequest;w.open("GET",o,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?d(w.response):p()},w.onerror=p,w.send(null)});var M=console.log.bind(console),I=console.error.bind(console);Object.assign(t,c),c=null,typeof WebAssembly!="object"&&ye("no native wasm support detected");var k,W=!1,z,j,x,q,de;function We(){var o=k.buffer;t.HEAP8=z=new Int8Array(o),t.HEAP16=new Int16Array(o),t.HEAPU8=j=new Uint8Array(o),t.HEAPU16=new Uint16Array(o),t.HEAP32=x=new Int32Array(o),t.HEAPU32=q=new Uint32Array(o),t.HEAPF32=new Float32Array(o),t.HEAPF64=de=new Float64Array(o)}var Ge=[],oe=[],K=[],ge=0,N=null,se=null;function ye(o){throw o="Aborted("+o+")",I(o),W=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),a(o),o}var ve=o=>o.startsWith("data:application/octet-stream;base64,"),Te=o=>o.startsWith("file://"),te;if(te="ort-training-wasm-simd.wasm",!ve(te)){var pe=te;te=t.locateFile?t.locateFile(pe,y):y+pe}function Se(o){if(_)return _(o);throw"both async and sync fetching of the wasm failed"}function De(o){if(i||g){if(typeof fetch=="function"&&!Te(o))return fetch(o,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+o+"'";return d.arrayBuffer()}).catch(()=>Se(o));if(b)return new Promise((d,p)=>{b(o,w=>d(new Uint8Array(w)),p)})}return Promise.resolve().then(()=>Se(o))}function Be(o,d,p){return De(o).then(w=>WebAssembly.instantiate(w,d)).then(w=>w).then(p,w=>{I(`failed to asynchronously prepare wasm: ${w}`),ye(w)})}function Le(o,d){var p=te;return typeof WebAssembly.instantiateStreaming!="function"||ve(p)||Te(p)||m||typeof fetch!="function"?Be(p,o,d):fetch(p,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,o).then(d,function(C){return I(`wasm streaming compile failed: ${C}`),I("falling back to ArrayBuffer instantiation"),Be(p,o,d)}))}var Pe,we={990416:(o,d,p,w)=>{if(typeof t>"u"||!t.Qa)return 1;if(o=_e(o>>>0),o.startsWith("./")&&(o=o.substring(2)),o=t.Qa.get(o),!o)return 2;if(d>>>=0,p>>>=0,d+p>o.byteLength)return 3;try{return j.set(o.subarray(d,d+p),w>>>0>>>0),0}catch{return 4}}};function Ae(o){this.Ka=o-24,this.Pa=function(d){q[this.Ka+4>>>2>>>0]=d},this.Oa=function(d){q[this.Ka+8>>>2>>>0]=d},this.Ma=function(d,p){this.Na(),this.Pa(d),this.Oa(p)},this.Na=function(){q[this.Ka+16>>>2>>>0]=0}}var Me=0,ie=0,ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ue=(o,d,p)=>{d>>>=0;var w=d+p;for(p=d;o[p]&&!(p>=w);)++p;if(16<p-d&&o.buffer&&ae)return ae.decode(o.subarray(d,p));for(w="";d<p;){var C=o[d++];if(C&128){var D=o[d++]&63;if((C&224)==192)w+=String.fromCharCode((C&31)<<6|D);else{var L=o[d++]&63;C=(C&240)==224?(C&15)<<12|D<<6|L:(C&7)<<18|D<<12|L<<6|o[d++]&63,65536>C?w+=String.fromCharCode(C):(C-=65536,w+=String.fromCharCode(55296|C>>10,56320|C&1023))}}else w+=String.fromCharCode(C)}return w},_e=(o,d)=>(o>>>=0)?Ue(j,o,d):"",Ce=o=>{for(var d=0,p=0;p<o.length;++p){var w=o.charCodeAt(p);127>=w?d++:2047>=w?d+=2:55296<=w&&57343>=w?(d+=4,++p):d+=3}return d},et=(o,d,p,w)=>{if(p>>>=0,!(0<w))return 0;var C=p;w=p+w-1;for(var D=0;D<o.length;++D){var L=o.charCodeAt(D);if(55296<=L&&57343>=L){var re=o.charCodeAt(++D);L=65536+((L&1023)<<10)|re&1023}if(127>=L){if(p>=w)break;d[p++>>>0]=L}else{if(2047>=L){if(p+1>=w)break;d[p++>>>0]=192|L>>6}else{if(65535>=L){if(p+2>=w)break;d[p++>>>0]=224|L>>12}else{if(p+3>=w)break;d[p++>>>0]=240|L>>18,d[p++>>>0]=128|L>>12&63}d[p++>>>0]=128|L>>6&63}d[p++>>>0]=128|L&63}}return d[p>>>0]=0,p-C},Ne=o=>o%4===0&&(o%100!==0||o%400===0),pt=[0,31,60,91,121,152,182,213,244,274,305,335],xt=[0,31,59,90,120,151,181,212,243,273,304,334],Fe=o=>{var d=Ce(o)+1,p=Bt(d);return p&&et(o,j,p,d),p},tt=[],He={},rt=()=>{if(!nt){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},d;for(d in He)He[d]===void 0?delete o[d]:o[d]=He[d];var p=[];for(d in o)p.push(`${d}=${o[d]}`);nt=p}return nt},nt,ze=[null,[],[]],mt=[31,29,31,30,31,30,31,31,30,31,30,31],ht=[31,28,31,30,31,30,31,31,30,31,30,31];function at(o){var d=Array(Ce(o)+1);return et(o,d,0,d.length),d}function Dt(o,d,p,w){function C(O,$,X){for(O=typeof O=="number"?O.toString():O||"";O.length<$;)O=X[0]+O;return O}function D(O,$){return C(O,$,"0")}function L(O,$){function X(Ot){return 0>Ot?-1:0<Ot?1:0}var Ie;return(Ie=X(O.getFullYear()-$.getFullYear()))===0&&(Ie=X(O.getMonth()-$.getMonth()))===0&&(Ie=X(O.getDate()-$.getDate())),Ie}function re(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function me(O){var $=O.Ga;for(O=new Date(new Date(O.Ha+1900,0,1).getTime());0<$;){var X=O.getMonth(),Ie=(Ne(O.getFullYear())?mt:ht)[X];if($>Ie-O.getDate())$-=Ie-O.getDate()+1,O.setDate(1),11>X?O.setMonth(X+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+$);break}}return X=new Date(O.getFullYear()+1,0,4),$=re(new Date(O.getFullYear(),0,4)),X=re(X),0>=L($,O)?0>=L(X,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}o>>>=0,d>>>=0,p>>>=0,w>>>=0;var fe=q[w+40>>>2>>>0];w={Ta:x[w>>>2>>>0],Sa:x[w+4>>>2>>>0],Ia:x[w+8>>>2>>>0],La:x[w+12>>>2>>>0],Ja:x[w+16>>>2>>>0],Ha:x[w+20>>>2>>>0],Ba:x[w+24>>>2>>>0],Ga:x[w+28>>>2>>>0],Va:x[w+32>>>2>>>0],Ra:x[w+36>>>2>>>0],Ua:fe?_e(fe):""},p=_e(p),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in fe)p=p.replace(new RegExp(le,"g"),fe[le]);var wt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),bt="January February March April May June July August September October November December".split(" ");fe={"%a":O=>wt[O.Ba].substring(0,3),"%A":O=>wt[O.Ba],"%b":O=>bt[O.Ja].substring(0,3),"%B":O=>bt[O.Ja],"%C":O=>D((O.Ha+1900)/100|0,2),"%d":O=>D(O.La,2),"%e":O=>C(O.La,2," "),"%g":O=>me(O).toString().substring(2),"%G":O=>me(O),"%H":O=>D(O.Ia,2),"%I":O=>(O=O.Ia,O==0?O=12:12<O&&(O-=12),D(O,2)),"%j":O=>{for(var $=0,X=0;X<=O.Ja-1;$+=(Ne(O.Ha+1900)?mt:ht)[X++]);return D(O.La+$,3)},"%m":O=>D(O.Ja+1,2),"%M":O=>D(O.Sa,2),"%n":()=>`
`,"%p":O=>0<=O.Ia&&12>O.Ia?"AM":"PM","%S":O=>D(O.Ta,2),"%t":()=>"	","%u":O=>O.Ba||7,"%U":O=>D(Math.floor((O.Ga+7-O.Ba)/7),2),"%V":O=>{var $=Math.floor((O.Ga+7-(O.Ba+6)%7)/7);if(2>=(O.Ba+371-O.Ga-2)%7&&$++,$)$==53&&(X=(O.Ba+371-O.Ga)%7,X==4||X==3&&Ne(O.Ha)||($=1));else{$=52;var X=(O.Ba+7-O.Ga-1)%7;(X==4||X==5&&Ne(O.Ha%400-1))&&$++}return D($,2)},"%w":O=>O.Ba,"%W":O=>D(Math.floor((O.Ga+7-(O.Ba+6)%7)/7),2),"%y":O=>(O.Ha+1900).toString().substring(2),"%Y":O=>O.Ha+1900,"%z":O=>{O=O.Ra;var $=0<=O;return O=Math.abs(O)/60,($?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Ua,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(le in fe)p.includes(le)&&(p=p.replace(new RegExp(le,"g"),fe[le](w)));return p=p.replace(/\0\0/g,"%"),le=at(p),le.length>d?0:(z.set(le,o>>>0),le.length-1)}var J={a:function(o,d,p){throw o>>>=0,new Ae(o).Ma(d>>>0,p>>>0),Me=o,ie++,Me},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(o,d,p){o=d+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*d:NaN,p>>>=0,o=new Date(1e3*o),x[p>>>2>>>0]=o.getUTCSeconds(),x[p+4>>>2>>>0]=o.getUTCMinutes(),x[p+8>>>2>>>0]=o.getUTCHours(),x[p+12>>>2>>>0]=o.getUTCDate(),x[p+16>>>2>>>0]=o.getUTCMonth(),x[p+20>>>2>>>0]=o.getUTCFullYear()-1900,x[p+24>>>2>>>0]=o.getUTCDay(),x[p+28>>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(o,d,p){o=d+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*d:NaN,p>>>=0,o=new Date(1e3*o),x[p>>>2>>>0]=o.getSeconds(),x[p+4>>>2>>>0]=o.getMinutes(),x[p+8>>>2>>>0]=o.getHours(),x[p+12>>>2>>>0]=o.getDate(),x[p+16>>>2>>>0]=o.getMonth(),x[p+20>>>2>>>0]=o.getFullYear()-1900,x[p+24>>>2>>>0]=o.getDay(),x[p+28>>>2>>>0]=(Ne(o.getFullYear())?pt:xt)[o.getMonth()]+o.getDate()-1|0,x[p+36>>>2>>>0]=-(60*o.getTimezoneOffset()),d=new Date(o.getFullYear(),6,1).getTimezoneOffset();var w=new Date(o.getFullYear(),0,1).getTimezoneOffset();x[p+32>>>2>>>0]=(d!=w&&o.getTimezoneOffset()==Math.min(w,d))|0},p:function(o){o>>>=0;var d=new Date(x[o+20>>>2>>>0]+1900,x[o+16>>>2>>>0],x[o+12>>>2>>>0],x[o+8>>>2>>>0],x[o+4>>>2>>>0],x[o>>>2>>>0],0),p=x[o+32>>>2>>>0],w=d.getTimezoneOffset(),C=new Date(d.getFullYear(),6,1).getTimezoneOffset(),D=new Date(d.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(D,C);return 0>p?x[o+32>>>2>>>0]=+(C!=D&&L==w):0<p!=(L==w)&&(C=Math.max(D,C),d.setTime(d.getTime()+6e4*((0<p?L:C)-w))),x[o+24>>>2>>>0]=d.getDay(),x[o+28>>>2>>>0]=(Ne(d.getFullYear())?pt:xt)[d.getMonth()]+d.getDate()-1|0,x[o>>>2>>>0]=d.getSeconds(),x[o+4>>>2>>>0]=d.getMinutes(),x[o+8>>>2>>>0]=d.getHours(),x[o+12>>>2>>>0]=d.getDate(),x[o+16>>>2>>>0]=d.getMonth(),x[o+20>>>2>>>0]=d.getYear(),o=d.getTime(),isNaN(o)?(x[ot()>>>2>>>0]=61,o=-1):o/=1e3,gt((Pe=o,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)),o>>>0},l:function(){return-52},m:function(){},t:function(o,d,p){function w(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}p>>>=0;var C=new Date().getFullYear(),D=new Date(C,0,1),L=new Date(C,6,1);C=D.getTimezoneOffset();var re=L.getTimezoneOffset();q[o>>>0>>>2>>>0]=60*Math.max(C,re),x[d>>>0>>>2>>>0]=+(C!=re),o=w(D),d=w(L),o=Fe(o),d=Fe(d),re<C?(q[p>>>2>>>0]=o,q[p+4>>>2>>>0]=d):(q[p>>>2>>>0]=d,q[p+4>>>2>>>0]=o)},d:()=>{ye("")},B:function(o,d,p){o>>>=0,d>>>=0,p>>>=0,tt.length=0;for(var w;w=j[d++>>>0];){var C=w!=105;C&=w!=112,p+=C&&p%8?4:0,tt.push(w==112?q[p>>>2>>>0]:w==105?x[p>>>2>>>0]:de[p>>>3>>>0]),p+=C?8:4}return we[o].apply(null,tt)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(o,d,p){return d>>>=0,j.copyWithin(o>>>0>>>0,d>>>0,d+(p>>>0)>>>0)},s:function(o){o>>>=0;var d=j.length;if(4294901760<o)return!1;for(var p=1;4>=p;p*=2){var w=d*(1+.2/p);w=Math.min(w,o+100663296);var C=Math;w=Math.max(o,w);e:{C=(C.min.call(C,4294901760,w+(65536-w%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(C),We();var D=1;break e}catch{}D=void 0}if(D)return!0}return!1},C:function(o,d){o>>>=0,d>>>=0;var p=0;return rt().forEach((w,C)=>{var D=d+p;for(C=q[o+4*C>>>2>>>0]=D,D=0;D<w.length;++D)z[C++>>>0>>>0]=w.charCodeAt(D);z[C>>>0>>>0]=0,p+=w.length+1}),0},D:function(o,d){o>>>=0,d>>>=0;var p=rt();q[o>>>2>>>0]=p.length;var w=0;return p.forEach(C=>w+=C.length+1),q[d>>>2>>>0]=w,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(o,d,p,w){d>>>=0,p>>>=0,w>>>=0;for(var C=0,D=0;D<p;D++){var L=q[d>>>2>>>0],re=q[d+4>>>2>>>0];d+=8;for(var me=0;me<re;me++){var fe=j[L+me>>>0],le=ze[o];fe===0||fe===10?((o===1?M:I)(Ue(le,0)),le.length=0):le.push(fe)}C+=re}return q[w>>>2>>>0]=C,0},r:Dt,c:function(o,d,p,w){return Dt(o>>>0,d>>>0,p>>>0,w>>>0)}},B=function(){function o(p){return B=p.exports,B=Ft(),k=B.K,We(),oe.unshift(B.L),ge--,ge==0&&(N!==null&&(clearInterval(N),N=null),se&&(p=se,se=null,p())),B}var d={a:J};if(ge++,t.instantiateWasm)try{return t.instantiateWasm(d,o)}catch(p){I(`Module.instantiateWasm callback failed with error: ${p}`),a(p)}return Le(d,function(p){o(p.instance)}).catch(a),{}}();t._OrtInit=(o,d)=>(t._OrtInit=B.M)(o,d),t._OrtGetLastError=(o,d)=>(t._OrtGetLastError=B.N)(o,d),t._OrtCreateSessionOptions=(o,d,p,w,C,D,L,re,me,fe)=>(t._OrtCreateSessionOptions=B.O)(o,d,p,w,C,D,L,re,me,fe),t._OrtAppendExecutionProvider=(o,d)=>(t._OrtAppendExecutionProvider=B.P)(o,d),t._OrtAddFreeDimensionOverride=(o,d,p)=>(t._OrtAddFreeDimensionOverride=B.Q)(o,d,p),t._OrtAddSessionConfigEntry=(o,d,p)=>(t._OrtAddSessionConfigEntry=B.R)(o,d,p),t._OrtReleaseSessionOptions=o=>(t._OrtReleaseSessionOptions=B.S)(o),t._OrtCreateSession=(o,d,p)=>(t._OrtCreateSession=B.T)(o,d,p),t._OrtReleaseSession=o=>(t._OrtReleaseSession=B.U)(o),t._OrtGetInputOutputCount=(o,d,p)=>(t._OrtGetInputOutputCount=B.V)(o,d,p),t._OrtGetInputName=(o,d)=>(t._OrtGetInputName=B.W)(o,d),t._OrtGetOutputName=(o,d)=>(t._OrtGetOutputName=B.X)(o,d),t._OrtFree=o=>(t._OrtFree=B.Y)(o),t._OrtCreateTensor=(o,d,p,w,C,D)=>(t._OrtCreateTensor=B.Z)(o,d,p,w,C,D),t._OrtGetTensorData=(o,d,p,w,C)=>(t._OrtGetTensorData=B._)(o,d,p,w,C),t._OrtReleaseTensor=o=>(t._OrtReleaseTensor=B.$)(o),t._OrtCreateRunOptions=(o,d,p,w)=>(t._OrtCreateRunOptions=B.aa)(o,d,p,w),t._OrtAddRunConfigEntry=(o,d,p)=>(t._OrtAddRunConfigEntry=B.ba)(o,d,p),t._OrtReleaseRunOptions=o=>(t._OrtReleaseRunOptions=B.ca)(o),t._OrtCreateBinding=o=>(t._OrtCreateBinding=B.da)(o),t._OrtBindInput=(o,d,p)=>(t._OrtBindInput=B.ea)(o,d,p),t._OrtBindOutput=(o,d,p,w)=>(t._OrtBindOutput=B.fa)(o,d,p,w),t._OrtClearBoundOutputs=o=>(t._OrtClearBoundOutputs=B.ga)(o),t._OrtReleaseBinding=o=>(t._OrtReleaseBinding=B.ha)(o),t._OrtRunWithBinding=(o,d,p,w,C)=>(t._OrtRunWithBinding=B.ia)(o,d,p,w,C),t._OrtRun=(o,d,p,w,C,D,L,re)=>(t._OrtRun=B.ja)(o,d,p,w,C,D,L,re),t._OrtEndProfiling=o=>(t._OrtEndProfiling=B.ka)(o),t._OrtTrainingLoadCheckpoint=(o,d)=>(t._OrtTrainingLoadCheckpoint=B.la)(o,d),t._OrtTrainingReleaseCheckpoint=o=>(t._OrtTrainingReleaseCheckpoint=B.ma)(o),t._OrtTrainingCreateSession=(o,d,p,w,C,D,L,re)=>(t._OrtTrainingCreateSession=B.na)(o,d,p,w,C,D,L,re),t._OrtTrainingLazyResetGrad=o=>(t._OrtTrainingLazyResetGrad=B.oa)(o),t._OrtTrainingRunTrainStep=(o,d,p,w,C,D)=>(t._OrtTrainingRunTrainStep=B.pa)(o,d,p,w,C,D),t._OrtTrainingOptimizerStep=(o,d)=>(t._OrtTrainingOptimizerStep=B.qa)(o,d),t._OrtTrainingEvalStep=(o,d,p,w,C,D)=>(t._OrtTrainingEvalStep=B.ra)(o,d,p,w,C,D),t._OrtTrainingGetParametersSize=(o,d,p)=>(t._OrtTrainingGetParametersSize=B.sa)(o,d,p),t._OrtTrainingCopyParametersToBuffer=(o,d,p,w)=>(t._OrtTrainingCopyParametersToBuffer=B.ta)(o,d,p,w),t._OrtTrainingCopyParametersFromBuffer=(o,d,p,w)=>(t._OrtTrainingCopyParametersFromBuffer=B.ua)(o,d,p,w),t._OrtTrainingGetModelInputOutputCount=(o,d,p,w)=>(t._OrtTrainingGetModelInputOutputCount=B.va)(o,d,p,w),t._OrtTrainingGetModelInputOutputName=(o,d,p,w)=>(t._OrtTrainingGetModelInputOutputName=B.wa)(o,d,p,w),t._OrtTrainingReleaseSession=o=>(t._OrtTrainingReleaseSession=B.xa)(o);var ot=()=>(ot=B.ya)(),Bt=t._malloc=o=>(Bt=t._malloc=B.za)(o);t._free=o=>(t._free=B.Aa)(o);var gt=o=>(gt=B.Ca)(o),Ut=()=>(Ut=B.Da)(),F=o=>(F=B.Ea)(o),$e=o=>($e=B.Fa)(o);function Ft(){var o=B;o=Object.assign({},o);var d=w=>()=>w()>>>0,p=w=>C=>w(C)>>>0;return o.ya=d(o.ya),o.za=p(o.za),o.Da=d(o.Da),o.Fa=p(o.Fa),o}t.stackAlloc=$e,t.stackSave=Ut,t.stackRestore=F,t.UTF8ToString=_e,t.stringToUTF8=(o,d,p)=>et(o,j,d,p),t.lengthBytesUTF8=Ce;var ke;se=function o(){ke||yt(),ke||(se=o)};function yt(){if(!(0<ge)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;){var o=t.preRun.shift();Ge.unshift(o)}for(;0<Ge.length;)Ge.shift()(t);if(!(0<ge||ke||(ke=!0,t.calledRun=!0,W))){for(;0<oe.length;)oe.shift()(t);for(u(t);0<K.length;)K.shift()(t)}}}return yt(),r.ready}})();typeof qn=="object"&&typeof Cr=="object"?Cr.exports=Vn:typeof define=="function"&&define.amd&&define([],()=>Vn)});var Xn=it(()=>{});var Qn=it(()=>{});var Kn={};vt(Kn,{cpus:()=>to});var to,Zn=G(()=>{to=void 0});var ra=it((ta,Rr)=>{"use strict";var ea=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){function t(){return K.buffer!=ye.buffer&&Se(),ye}function u(){return K.buffer!=ye.buffer&&Se(),ve}function a(){return K.buffer!=ye.buffer&&Se(),Te}function c(){return K.buffer!=ye.buffer&&Se(),te}function l(){return K.buffer!=ye.buffer&&Se(),pe}var i=r,g,m;i.ready=new Promise((e,s)=>{g=e,m=s});var y=Object.assign({},i),T="./this.program",b=(e,s)=>{throw s},_=typeof window=="object",R=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=i.ENVIRONMENT_IS_PTHREAD||!1,I="";function k(e){return i.locateFile?i.locateFile(e,I):I+e}var W,z,j;if(A){var x=(Sr(),ut(Er)),q=(Mr(),ut(Ar));I=R?q.dirname(I)+"/":__dirname+"/",W=(s,f)=>(s=_e(s)?new URL(s):q.normalize(s),x.readFileSync(s,f?void 0:"utf8")),j=s=>(s=W(s,!0),s.buffer||(s=new Uint8Array(s)),s),z=(s,f,h,E=!0)=>{s=_e(s)?new URL(s):q.normalize(s),x.readFile(s,E?void 0:"utf8",(S,P)=>{S?h(S):f(E?P.buffer:P)})},!i.thisProgram&&1<process.argv.length&&(T=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),b=(s,f)=>{throw process.exitCode=s,f},i.inspect=()=>"[Emscripten Module object]";let e;try{e=Xn()}catch(s){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),s}global.Worker=e.Worker}else(_||R)&&(R?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),typeof n<"u"&&n&&(I=n),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",A||(W=e=>{var s=new XMLHttpRequest;return s.open("GET",e,!1),s.send(null),s.responseText},R&&(j=e=>{var s=new XMLHttpRequest;return s.open("GET",e,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),z=(e,s,f)=>{var h=new XMLHttpRequest;h.open("GET",e,!0),h.responseType="arraybuffer",h.onload=()=>{h.status==200||h.status==0&&h.response?s(h.response):f()},h.onerror=f,h.send(null)}));A&&typeof performance>"u"&&(global.performance=Qn().performance);var de=console.log.bind(console),We=console.error.bind(console);A&&(de=(...e)=>x.writeSync(1,e.join(" ")+`
`),We=(...e)=>x.writeSync(2,e.join(" ")+`
`));var Ge=de,oe=We;Object.assign(i,y),y=null,typeof WebAssembly!="object"&&ae("no native wasm support detected");var K,ge,N=!1,se,ye,ve,Te,te,pe;function Se(){var e=K.buffer;i.HEAP8=ye=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ve=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=Te=new Int32Array(e),i.HEAPU32=te=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=pe=new Float64Array(e)}var De=16777216;if(M)K=i.wasmMemory;else if(i.wasmMemory)K=i.wasmMemory;else if(K=new WebAssembly.Memory({initial:De/65536,maximum:65536,shared:!0}),!(K.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),A&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Se(),De=K.buffer.byteLength;var Be=[],Le=[],Pe=[],we=0,Ae=null,Me=null;function ie(){if(we--,we==0&&(Ae!==null&&(clearInterval(Ae),Ae=null),Me)){var e=Me;Me=null,e()}}function ae(e){throw e="Aborted("+e+")",oe(e),N=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),m(e),e}var Ue=e=>e.startsWith("data:application/octet-stream;base64,"),_e=e=>e.startsWith("file://"),Ce;Ce="ort-wasm-threaded.wasm",Ue(Ce)||(Ce=k(Ce));function et(e){if(j)return j(e);throw"both async and sync fetching of the wasm failed"}function Ne(e){if(_||R){if(typeof fetch=="function"&&!_e(e))return fetch(e,{credentials:"same-origin"}).then(s=>{if(!s.ok)throw"failed to load wasm binary file at '"+e+"'";return s.arrayBuffer()}).catch(()=>et(e));if(z)return new Promise((s,f)=>{z(e,h=>s(new Uint8Array(h)),f)})}return Promise.resolve().then(()=>et(e))}function pt(e,s,f){return Ne(e).then(h=>WebAssembly.instantiate(h,s)).then(h=>h).then(f,h=>{oe(`failed to asynchronously prepare wasm: ${h}`),ae(h)})}function xt(e,s){var f=Ce;return typeof WebAssembly.instantiateStreaming!="function"||Ue(f)||_e(f)||A||typeof fetch!="function"?pt(f,e,s):fetch(f,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,e).then(s,function(E){return oe(`wasm streaming compile failed: ${E}`),oe("falling back to ArrayBuffer instantiation"),pt(f,e,s)}))}var Fe,tt={921276:(e,s,f,h)=>{if(typeof i>"u"||!i.cb)return 1;if(e=at(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(s>>>=0,f>>>=0,h>>>=0,s+f>e.byteLength)return 3;try{return u().set(e.subarray(s,s+f),h>>>0),0}catch{return 4}}};function He(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var rt=e=>{e.terminate(),e.onmessage=()=>{}},nt=e=>{F.Pa.length==0&&(gt(),F.Ya(F.Pa[0]));var s=F.Pa.pop();if(!s)return 6;F.Qa.push(s),F.Ma[e.Oa]=s,s.Oa=e.Oa;var f={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return A&&s.unref(),s.postMessage(f,e.qb),0},ze=0,mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ht=(e,s,f)=>{s>>>=0;var h=s+f;for(f=s;e[f]&&!(f>=h);)++f;if(16<f-s&&e.buffer&&mt)return mt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(s,f):e.subarray(s,f));for(h="";s<f;){var E=e[s++];if(E&128){var S=e[s++]&63;if((E&224)==192)h+=String.fromCharCode((E&31)<<6|S);else{var P=e[s++]&63;E=(E&240)==224?(E&15)<<12|S<<6|P:(E&7)<<18|S<<12|P<<6|e[s++]&63,65536>E?h+=String.fromCharCode(E):(E-=65536,h+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else h+=String.fromCharCode(E)}return h},at=(e,s)=>(e>>>=0)?ht(u(),e,s):"",Dt=e=>{var s=yr();return e=e(),Nt(s),e};function J(e,s){var f=arguments.length-2,h=arguments;return Dt(()=>{for(var E=wr(8*f),S=E>>>3,P=0;P<f;P++){var Z=h[2+P];l()[S+P>>>0]=Z}return cn(e,f,E,s)})}function B(e){if(M)return J(0,1,e);se=e,0<ze||(F.lb(),i.onExit?.(e),N=!0),b(e,new He(e))}var ot=e=>{if(se=e,M)throw Ft(e),"unwind";B(e)};function Bt(){for(var e=i.numThreads;e--;)gt();Be.unshift(()=>{we++,Ut(()=>ie())})}function gt(){var e=k("ort-wasm-threaded.worker.js");e=new Worker(e),F.Pa.push(e)}function Ut(e){M?e():Promise.all(F.Pa.map(F.Ya)).then(e)}var F={Pa:[],Qa:[],bb:[],Ma:{},Wa(){M?(F.receiveObjectTransfer=F.jb,F.threadInitTLS=F.ab,F.setExitStatus=F.$a):Bt()},$a:e=>se=e,tb:["$terminateWorker"],lb:()=>{for(var e of F.Qa)rt(e);for(e of F.Pa)rt(e);F.Pa=[],F.Qa=[],F.Ma=[]},Za:e=>{var s=e.Oa;delete F.Ma[s],F.Pa.push(e),F.Qa.splice(F.Qa.indexOf(e),1),e.Oa=0,hr(s)},jb(){},ab(){F.bb.forEach(e=>e())},Ya:e=>new Promise(s=>{e.onmessage=S=>{S=S.data;var P=S.cmd;if(S.targetThread&&S.targetThread!=Lt()){var Z=F.Ma[S.targetThread];Z?Z.postMessage(S,S.transferList):oe(`Internal error! Worker sent a message "${P}" to target pthread ${S.targetThread}, but that thread no longer exists!`)}else P==="checkMailbox"?kt():P==="spawnThread"?nt(S):P==="cleanupThread"?F.Za(F.Ma[S.thread]):P==="killThread"?(S=S.thread,P=F.Ma[S],delete F.Ma[S],rt(P),hr(S),F.Qa.splice(F.Qa.indexOf(P),1),P.Oa=0):P==="cancelThread"?F.Ma[S.thread].postMessage({cmd:"cancel"}):P==="loaded"?(e.loaded=!0,A&&!e.Oa&&e.unref(),s(e)):P==="alert"?alert(`Thread ${S.threadId}: ${S.text}`):S.target==="setimmediate"?e.postMessage(S):P==="callHandler"?i[S.handler](...S.args):P&&oe(`worker sent an unknown command ${P}`)},e.onerror=S=>{throw oe(`worker sent an error! ${S.filename}:${S.lineno}: ${S.message}`),S},A&&(e.on("message",S=>e.onmessage({data:S})),e.on("error",S=>e.onerror(S)));var f=[],h=["onExit"],E;for(E of h)i.hasOwnProperty(E)&&f.push(E);e.postMessage({cmd:"load",handlers:f,urlOrBlob:i.mainScriptUrlOrBlob||n,wasmMemory:K,wasmModule:ge})})};i.PThread=F;var $e=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=Lt(),s=c()[e+52>>>2>>>0];e=c()[e+56>>>2>>>0],mn(s,s-e),Nt(s)};function Ft(e){if(M)return J(1,0,e);ot(e)}var ke=[],yt;i.invokeEntryPoint=(e,s)=>{var f=ke[e];f||(e>=ke.length&&(ke.length=e+1),ke[e]=f=yt.get(e)),e=f(s),0<ze?F.$a(e):gr(e)};function o(e){this.Va=e-24,this.gb=function(s){c()[this.Va+4>>>2>>>0]=s},this.fb=function(s){c()[this.Va+8>>>2>>>0]=s},this.Wa=function(s,f){this.eb(),this.gb(s),this.fb(f)},this.eb=function(){c()[this.Va+16>>>2>>>0]=0}}var d=0,p=0;function w(e,s,f,h){return M?J(2,1,e,s,f,h):C(e,s,f,h)}function C(e,s,f,h){if(e>>>=0,s>>>=0,f>>>=0,h>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var E=[];return M&&E.length===0?w(e,s,f,h):(e={kb:f,Oa:e,hb:h,qb:E},M?(e.sb="spawnThread",postMessage(e,E),0):nt(e))}function D(e,s,f){return M?J(3,1,e,s,f):0}function L(e,s){if(M)return J(4,1,e,s)}var re=e=>{for(var s=0,f=0;f<e.length;++f){var h=e.charCodeAt(f);127>=h?s++:2047>=h?s+=2:55296<=h&&57343>=h?(s+=4,++f):s+=3}return s},me=(e,s,f,h)=>{if(f>>>=0,!(0<h))return 0;var E=f;h=f+h-1;for(var S=0;S<e.length;++S){var P=e.charCodeAt(S);if(55296<=P&&57343>=P){var Z=e.charCodeAt(++S);P=65536+((P&1023)<<10)|Z&1023}if(127>=P){if(f>=h)break;s[f++>>>0]=P}else{if(2047>=P){if(f+1>=h)break;s[f++>>>0]=192|P>>6}else{if(65535>=P){if(f+2>=h)break;s[f++>>>0]=224|P>>12}else{if(f+3>=h)break;s[f++>>>0]=240|P>>18,s[f++>>>0]=128|P>>12&63}s[f++>>>0]=128|P>>6&63}s[f++>>>0]=128|P&63}}return s[f>>>0]=0,f-E},fe=(e,s,f)=>me(e,u(),s,f);function le(e,s){if(M)return J(5,1,e,s)}function wt(e,s,f){if(M)return J(6,1,e,s,f)}function bt(e,s,f){return M?J(7,1,e,s,f):0}function O(e,s){if(M)return J(8,1,e,s)}function $(e,s,f){if(M)return J(9,1,e,s,f)}function X(e,s,f,h){if(M)return J(10,1,e,s,f,h)}function Ie(e,s,f,h){if(M)return J(11,1,e,s,f,h)}function Ot(e,s,f,h){if(M)return J(12,1,e,s,f,h)}function zr(e){if(M)return J(13,1,e)}function $r(e,s){if(M)return J(14,1,e,s)}function jr(e,s,f){if(M)return J(15,1,e,s,f)}function lr(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(a(),e>>>2,e).value.then(kt),e+=128,Atomics.store(a(),e>>>2,1))}i.__emscripten_thread_mailbox_await=lr;var kt=()=>{var e=Lt();if(e&&(lr(e),e=dn,!N))try{if(e(),!(0<ze))try{M?gr(se):ot(se)}catch(s){s instanceof He||s=="unwind"||b(1,s)}}catch(s){s instanceof He||s=="unwind"||b(1,s)}};i.checkMailbox=kt;var cr=[],st=e=>e%4===0&&(e%100!==0||e%400===0),Yr=[0,31,60,91,121,152,182,213,244,274,305,335],Vr=[0,31,59,90,120,151,181,212,243,273,304,334];function qr(e,s,f,h,E,S,P,Z){return M?J(16,1,e,s,f,h,E,S,P,Z):-52}function Jr(e,s,f,h,E,S,P){if(M)return J(17,1,e,s,f,h,E,S,P)}var Xr=e=>{var s=re(e)+1,f=fn(s);return f&&fe(e,f,s),f},dr=[],pr={},Qr=()=>{if(!mr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:T||"./this.program"},s;for(s in pr)pr[s]===void 0?delete e[s]:e[s]=pr[s];var f=[];for(s in e)f.push(`${s}=${e[s]}`);mr=f}return mr},mr;function Kr(e,s){if(M)return J(18,1,e,s);e>>>=0,s>>>=0;var f=0;return Qr().forEach((h,E)=>{var S=s+f;for(E=c()[e+4*E>>>2>>>0]=S,S=0;S<h.length;++S)t()[E++>>>0>>>0]=h.charCodeAt(S);t()[E>>>0>>>0]=0,f+=h.length+1}),0}function Zr(e,s){if(M)return J(19,1,e,s);e>>>=0,s>>>=0;var f=Qr();c()[e>>>2>>>0]=f.length;var h=0;return f.forEach(E=>h+=E.length+1),c()[s>>>2>>>0]=h,0}function en(e){return M?J(20,1,e):52}function tn(e,s,f,h){return M?J(21,1,e,s,f,h):52}function rn(e,s,f,h,E){return M?J(22,1,e,s,f,h,E):70}var Na=[null,[],[]];function nn(e,s,f,h){if(M)return J(23,1,e,s,f,h);s>>>=0,f>>>=0,h>>>=0;for(var E=0,S=0;S<f;S++){var P=c()[s>>>2>>>0],Z=c()[s+4>>>2>>>0];s+=8;for(var xe=0;xe<Z;xe++){var ue=u()[P+xe>>>0],be=Na[e];ue===0||ue===10?((e===1?Ge:oe)(ht(be,0)),be.length=0):be.push(ue)}E+=Z}return c()[h>>>2>>>0]=E,0}var an=[31,29,31,30,31,30,31,31,30,31,30,31],on=[31,28,31,30,31,30,31,31,30,31,30,31];function Ha(e){var s=Array(re(e)+1);return me(e,s,0,s.length),s}var Wa=(e,s)=>{t().set(e,s>>>0)};function sn(e,s,f,h){function E(v,Y,ee){for(v=typeof v=="number"?v.toString():v||"";v.length<Y;)v=ee[0]+v;return v}function S(v,Y){return E(v,Y,"0")}function P(v,Y){function ee(wn){return 0>wn?-1:0<wn?1:0}var je;return(je=ee(v.getFullYear()-Y.getFullYear()))===0&&(je=ee(v.getMonth()-Y.getMonth()))===0&&(je=ee(v.getDate()-Y.getDate())),je}function Z(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function xe(v){var Y=v.Ra;for(v=new Date(new Date(v.Sa+1900,0,1).getTime());0<Y;){var ee=v.getMonth(),je=(st(v.getFullYear())?an:on)[ee];if(Y>je-v.getDate())Y-=je-v.getDate()+1,v.setDate(1),11>ee?v.setMonth(ee+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+Y);break}}return ee=new Date(v.getFullYear()+1,0,4),Y=Z(new Date(v.getFullYear(),0,4)),ee=Z(ee),0>=P(Y,v)?0>=P(ee,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}e>>>=0,s>>>=0,f>>>=0,h>>>=0;var ue=c()[h+40>>>2>>>0];h={ob:a()[h>>>2>>>0],nb:a()[h+4>>>2>>>0],Ta:a()[h+8>>>2>>>0],Xa:a()[h+12>>>2>>>0],Ua:a()[h+16>>>2>>>0],Sa:a()[h+20>>>2>>>0],Na:a()[h+24>>>2>>>0],Ra:a()[h+28>>>2>>>0],ub:a()[h+32>>>2>>>0],mb:a()[h+36>>>2>>>0],pb:ue?at(ue):""},f=at(f),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var be in ue)f=f.replace(new RegExp(be,"g"),ue[be]);var gn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yn="January February March April May June July August September October November December".split(" ");ue={"%a":v=>gn[v.Na].substring(0,3),"%A":v=>gn[v.Na],"%b":v=>yn[v.Ua].substring(0,3),"%B":v=>yn[v.Ua],"%C":v=>S((v.Sa+1900)/100|0,2),"%d":v=>S(v.Xa,2),"%e":v=>E(v.Xa,2," "),"%g":v=>xe(v).toString().substring(2),"%G":v=>xe(v),"%H":v=>S(v.Ta,2),"%I":v=>(v=v.Ta,v==0?v=12:12<v&&(v-=12),S(v,2)),"%j":v=>{for(var Y=0,ee=0;ee<=v.Ua-1;Y+=(st(v.Sa+1900)?an:on)[ee++]);return S(v.Xa+Y,3)},"%m":v=>S(v.Ua+1,2),"%M":v=>S(v.nb,2),"%n":()=>`
`,"%p":v=>0<=v.Ta&&12>v.Ta?"AM":"PM","%S":v=>S(v.ob,2),"%t":()=>"	","%u":v=>v.Na||7,"%U":v=>S(Math.floor((v.Ra+7-v.Na)/7),2),"%V":v=>{var Y=Math.floor((v.Ra+7-(v.Na+6)%7)/7);if(2>=(v.Na+371-v.Ra-2)%7&&Y++,Y)Y==53&&(ee=(v.Na+371-v.Ra)%7,ee==4||ee==3&&st(v.Sa)||(Y=1));else{Y=52;var ee=(v.Na+7-v.Ra-1)%7;(ee==4||ee==5&&st(v.Sa%400-1))&&Y++}return S(Y,2)},"%w":v=>v.Na,"%W":v=>S(Math.floor((v.Ra+7-(v.Na+6)%7)/7),2),"%y":v=>(v.Sa+1900).toString().substring(2),"%Y":v=>v.Sa+1900,"%z":v=>{v=v.mb;var Y=0<=v;return v=Math.abs(v)/60,(Y?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.pb,"%%":()=>"%"},f=f.replace(/%%/g,"\0\0");for(be in ue)f.includes(be)&&(f=f.replace(new RegExp(be,"g"),ue[be](h)));return f=f.replace(/\0\0/g,"%"),be=Ha(f),be.length>s?0:(Wa(be,e),be.length-1)}F.Wa();var Ga=[B,Ft,w,D,L,le,wt,bt,O,$,X,Ie,Ot,zr,$r,jr,qr,Jr,Kr,Zr,en,tn,rn,nn],za={b:function(e,s,f){throw e>>>=0,new o(e).Wa(s>>>0,f>>>0),d=e,p++,d},L:function(e){ln(e>>>0,!R,1,!_,131072,!1),F.ab()},j:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):F.Za(F.Ma[e])},H:C,h:D,S:L,D:le,F:wt,T:bt,Q:O,J:$,P:X,n:Ie,E:Ot,B:zr,R:$r,C:jr,p:()=>1,z:function(e,s){e>>>=0,e==s>>>0?setTimeout(()=>kt()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,s,f,h){s>>>=0,cr.length=f,h=h>>>0>>>3;for(var E=0;E<f;E++)cr[E]=l()[h+E>>>0];return e=0>e?tt[-e-1]:Ga[e],F.ib=s,s=e.apply(null,cr),F.ib=0,s},K:lr,o:function(e){A&&F.Ma[e>>>0].ref()},s:function(e,s,f){e=s+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*s:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>>2>>>0]=e.getUTCSeconds(),a()[f+4>>>2>>>0]=e.getUTCMinutes(),a()[f+8>>>2>>>0]=e.getUTCHours(),a()[f+12>>>2>>>0]=e.getUTCDate(),a()[f+16>>>2>>>0]=e.getUTCMonth(),a()[f+20>>>2>>>0]=e.getUTCFullYear()-1900,a()[f+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[f+28>>>2>>>0]=e},t:function(e,s,f){e=s+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*s:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>>2>>>0]=e.getSeconds(),a()[f+4>>>2>>>0]=e.getMinutes(),a()[f+8>>>2>>>0]=e.getHours(),a()[f+12>>>2>>>0]=e.getDate(),a()[f+16>>>2>>>0]=e.getMonth(),a()[f+20>>>2>>>0]=e.getFullYear()-1900,a()[f+24>>>2>>>0]=e.getDay(),s=(st(e.getFullYear())?Yr:Vr)[e.getMonth()]+e.getDate()-1|0,a()[f+28>>>2>>>0]=s,a()[f+36>>>2>>>0]=-(60*e.getTimezoneOffset()),s=new Date(e.getFullYear(),6,1).getTimezoneOffset();var h=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(s!=h&&e.getTimezoneOffset()==Math.min(h,s))|0,a()[f+32>>>2>>>0]=e},u:function(e){e>>>=0;var s=new Date(a()[e+20>>>2>>>0]+1900,a()[e+16>>>2>>>0],a()[e+12>>>2>>>0],a()[e+8>>>2>>>0],a()[e+4>>>2>>>0],a()[e>>>2>>>0],0),f=a()[e+32>>>2>>>0],h=s.getTimezoneOffset(),E=new Date(s.getFullYear(),6,1).getTimezoneOffset(),S=new Date(s.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(S,E);return 0>f?a()[e+32>>>2>>>0]=+(E!=S&&P==h):0<f!=(P==h)&&(E=Math.max(S,E),s.setTime(s.getTime()+6e4*((0<f?P:E)-h))),a()[e+24>>>2>>>0]=s.getDay(),f=(st(s.getFullYear())?Yr:Vr)[s.getMonth()]+s.getDate()-1|0,a()[e+28>>>2>>>0]=f,a()[e>>>2>>>0]=s.getSeconds(),a()[e+4>>>2>>>0]=s.getMinutes(),a()[e+8>>>2>>>0]=s.getHours(),a()[e+12>>>2>>>0]=s.getDate(),a()[e+16>>>2>>>0]=s.getMonth(),a()[e+20>>>2>>>0]=s.getYear(),e=s.getTime(),isNaN(e)?(a()[un()>>>2>>>0]=61,e=-1):e/=1e3,pn((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},q:qr,r:Jr,y:function(e,s,f){function h(ue){return(ue=ue.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ue[1]:"GMT"}e>>>=0,s>>>=0,f>>>=0;var E=new Date().getFullYear(),S=new Date(E,0,1),P=new Date(E,6,1);E=S.getTimezoneOffset();var Z=P.getTimezoneOffset(),xe=Math.max(E,Z);c()[e>>>2>>>0]=60*xe,a()[s>>>2>>>0]=+(E!=Z),e=h(S),s=h(P),e=Xr(e),s=Xr(s),Z<E?(c()[f>>>2>>>0]=e,c()[f+4>>>2>>>0]=s):(c()[f>>>2>>>0]=s,c()[f+4>>>2>>>0]=e)},c:()=>{ae("")},O:function(e,s,f){e>>>=0,s>>>=0,f>>>=0,dr.length=0;for(var h;h=u()[s++>>>0];){var E=h!=105;E&=h!=112,f+=E&&f%8?4:0,dr.push(h==112?c()[f>>>2>>>0]:h==105?a()[f>>>2>>>0]:l()[f>>>3>>>0]),f+=E?8:4}return tt[e].apply(null,dr)},k:()=>{},i:()=>Date.now(),U:()=>{throw ze+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>A?(Zn(),ut(Kn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var s=u().length;if(e<=s||4294901760<e)return!1;for(var f=1;4>=f;f*=2){var h=s*(1+.2/f);h=Math.min(h,e+100663296);var E=Math;h=Math.max(e,h);e:{E=(E.min.call(E,4294901760,h+(65536-h%65536)%65536)-K.buffer.byteLength+65535)/65536;try{K.grow(E),Se();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},M:Kr,N:Zr,G:ot,g:en,m:tn,v:rn,l:nn,a:K||i.wasmMemory,w:sn,d:function(e,s,f,h){return sn(e>>>0,s>>>0,f>>>0,h>>>0)}},U=function(){function e(f,h){return U=f.exports,U=$a(),F.bb.push(U.za),yt=U.Aa,Le.unshift(U.V),ge=h,ie(),U}var s={a:za};if(we++,i.instantiateWasm)try{return i.instantiateWasm(s,e)}catch(f){oe(`Module.instantiateWasm callback failed with error: ${f}`),m(f)}return xt(s,function(f){e(f.instance,f.module)}).catch(m),{}}();i._OrtInit=(e,s)=>(i._OrtInit=U.W)(e,s),i._OrtGetLastError=(e,s)=>(i._OrtGetLastError=U.X)(e,s),i._OrtCreateSessionOptions=(e,s,f,h,E,S,P,Z,xe,ue)=>(i._OrtCreateSessionOptions=U.Y)(e,s,f,h,E,S,P,Z,xe,ue),i._OrtAppendExecutionProvider=(e,s)=>(i._OrtAppendExecutionProvider=U.Z)(e,s),i._OrtAddFreeDimensionOverride=(e,s,f)=>(i._OrtAddFreeDimensionOverride=U._)(e,s,f),i._OrtAddSessionConfigEntry=(e,s,f)=>(i._OrtAddSessionConfigEntry=U.$)(e,s,f),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=U.aa)(e),i._OrtCreateSession=(e,s,f)=>(i._OrtCreateSession=U.ba)(e,s,f),i._OrtReleaseSession=e=>(i._OrtReleaseSession=U.ca)(e),i._OrtGetInputOutputCount=(e,s,f)=>(i._OrtGetInputOutputCount=U.da)(e,s,f),i._OrtGetInputName=(e,s)=>(i._OrtGetInputName=U.ea)(e,s),i._OrtGetOutputName=(e,s)=>(i._OrtGetOutputName=U.fa)(e,s),i._OrtFree=e=>(i._OrtFree=U.ga)(e),i._OrtCreateTensor=(e,s,f,h,E,S)=>(i._OrtCreateTensor=U.ha)(e,s,f,h,E,S),i._OrtGetTensorData=(e,s,f,h,E)=>(i._OrtGetTensorData=U.ia)(e,s,f,h,E),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=U.ja)(e),i._OrtCreateRunOptions=(e,s,f,h)=>(i._OrtCreateRunOptions=U.ka)(e,s,f,h),i._OrtAddRunConfigEntry=(e,s,f)=>(i._OrtAddRunConfigEntry=U.la)(e,s,f),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=U.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=U.na)(e),i._OrtBindInput=(e,s,f)=>(i._OrtBindInput=U.oa)(e,s,f),i._OrtBindOutput=(e,s,f,h)=>(i._OrtBindOutput=U.pa)(e,s,f,h),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=U.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=U.ra)(e),i._OrtRunWithBinding=(e,s,f,h,E)=>(i._OrtRunWithBinding=U.sa)(e,s,f,h,E),i._OrtRun=(e,s,f,h,E,S,P,Z)=>(i._OrtRun=U.ta)(e,s,f,h,E,S,P,Z),i._OrtEndProfiling=e=>(i._OrtEndProfiling=U.ua)(e);var un=()=>(un=U.va)(),Lt=i._pthread_self=()=>(Lt=i._pthread_self=U.wa)(),fn=i._malloc=e=>(fn=i._malloc=U.xa)(e);i._free=e=>(i._free=U.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=U.za)();var ln=i.__emscripten_thread_init=(e,s,f,h,E,S)=>(ln=i.__emscripten_thread_init=U.Ba)(e,s,f,h,E,S);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=U.Ca)();var cn=(e,s,f,h)=>(cn=U.Da)(e,s,f,h),hr=e=>(hr=U.Ea)(e),gr=i.__emscripten_thread_exit=e=>(gr=i.__emscripten_thread_exit=U.Fa)(e),dn=()=>(dn=U.Ga)(),pn=e=>(pn=U.Ha)(e),mn=(e,s)=>(mn=U.Ia)(e,s),yr=()=>(yr=U.Ja)(),Nt=e=>(Nt=U.Ka)(e),wr=e=>(wr=U.La)(e);function $a(){var e=U;e=Object.assign({},e);var s=h=>()=>h()>>>0,f=h=>E=>h(E)>>>0;return e.va=s(e.va),e.wa=s(e.wa),e.xa=f(e.xa),e.emscripten_main_runtime_thread_id=s(e.emscripten_main_runtime_thread_id),e.Ja=s(e.Ja),e.La=f(e.La),e}i.wasmMemory=K,i.stackAlloc=wr,i.stackSave=yr,i.stackRestore=Nt,i.keepRuntimeAlive=()=>0<ze,i.UTF8ToString=at,i.stringToUTF8=fe,i.lengthBytesUTF8=re,i.ExitStatus=He,i.PThread=F;var Ht;Me=function e(){Ht||hn(),Ht||(Me=e)};function hn(){if(!(0<we))if(M)g(i),M||$e(Le),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Be.unshift(i.preRun.shift());$e(Be),0<we||Ht||(Ht=!0,i.calledRun=!0,N||(M||$e(Le),g(i),M||$e(Pe)))}}return hn(),r.ready}})();typeof ta=="object"&&typeof Rr=="object"?Rr.exports=ea:typeof define=="function"&&define.amd&&define([],()=>ea)});var na=it((ps,ro)=>{ro.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var oa,no,Pr,Ir,Jt,aa,ao,oo,so,sa,H,Qe=G(()=>{"use strict";oa=Jn();no=ra(),Ir=!1,Jt=!1,aa=!1,ao=n=>{if(n===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+n+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+n+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},oo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},so=(n,r)=>n?"ort-training-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",sa=async n=>{if(Ir)return Promise.resolve();if(Jt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(aa)throw new Error("previous call to 'initializeWebAssembly()' failed.");Jt=!0;let r=n.initTimeout,t=n.numThreads,u=n.simd,a=ao(t),c=u&&oo(),l=n.wasmPaths,i=typeof l=="string"?l:void 0,g=so(c,a),m=typeof l=="object"?l[g]:void 0,y=!1,T=[];if(r>0&&T.push(new Promise(b=>{setTimeout(()=>{y=!0,b()},r)})),T.push(new Promise((b,_)=>{let R=a?no:oa,A={locateFile:(M,I)=>a&&M.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([na()],{type:"text/javascript"})):M.endsWith(".wasm")?m||(i??I)+g:I+M};if(a)if(A.numThreads=t,typeof Blob>"u")A.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let M=`var ortWasmThreaded=${R.toString()};`;A.mainScriptUrlOrBlob=new Blob([M],{type:"text/javascript"})}R(A).then(M=>{Jt=!1,Ir=!0,Pr=M,b()},M=>{Jt=!1,aa=!0,_(M)})})),await Promise.race(T),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},H=()=>{if(Ir&&Pr)return Pr;throw new Error("WebAssembly is not initialized yet.")}});var ne,Et,Q,St=G(()=>{"use strict";Qe();ne=(n,r)=>{let t=H(),u=t.lengthBytesUTF8(n)+1,a=t._malloc(u);return t.stringToUTF8(n,a,u),r.push(a),a},Et=(n,r,t,u)=>{if(typeof n=="object"&&n!==null){if(t.has(n))throw new Error("Circular reference in options");t.add(n)}Object.entries(n).forEach(([a,c])=>{let l=r?r+a:a;if(typeof c=="object")Et(c,l+".",t,u);else if(typeof c=="string"||typeof c=="number")u(l,c.toString());else if(typeof c=="boolean")u(l,c?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof c}`)})},Q=n=>{let r=H(),t=r.stackSave();try{let u=r.stackAlloc(8);r._OrtGetLastError(u,u+4);let a=r.HEAP32[u/4],c=r.HEAPU32[u/4+1],l=c?r.UTF8ToString(c):"";throw new Error(`${n} ERROR_CODE: ${a}, ERROR_MESSAGE: ${l}`)}finally{r.stackRestore(t)}}});var ft,xr=G(()=>{"use strict";Qe();St();ft=n=>{let r=H(),t=0,u=[],a=n||{};try{if(n?.logSeverityLevel===void 0)a.logSeverityLevel=2;else if(typeof n.logSeverityLevel!="number"||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(n?.logVerbosityLevel===void 0)a.logVerbosityLevel=0;else if(typeof n.logVerbosityLevel!="number"||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);n?.terminate===void 0&&(a.terminate=!1);let c=0;return n?.tag!==void 0&&(c=ne(n.tag,u)),t=r._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,c),t===0&&Q("Can't create run options."),n?.extra!==void 0&&Et(n.extra,"",new WeakSet,(l,i)=>{let g=ne(l,u),m=ne(i,u);r._OrtAddRunConfigEntry(t,g,m)!==0&&Q(`Can't set a run config entry: ${l} - ${i}.`)}),[t,u]}catch(c){throw t!==0&&r._OrtReleaseRunOptions(t),u.forEach(l=>r._free(l)),c}}});var io,uo,fo,lo,Xt,Dr=G(()=>{"use strict";Qe();St();io=n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}},uo=n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}},fo=n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});let r=n.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),n.executionProviders&&n.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(n.enableMemPattern=!1)},lo=(n,r,t)=>{for(let u of r){let a=typeof u=="string"?u:u.name;switch(a){case"webnn":if(a="WEBNN",typeof u!="string"){let l=u;if(l?.deviceType){let i=ne("deviceType",t),g=ne(l.deviceType,t);H()._OrtAddSessionConfigEntry(n,i,g)!==0&&Q(`Can't set a session config entry: 'deviceType' - ${l.deviceType}.`)}if(l?.numThreads){let i=l.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let g=ne("numThreads",t),m=ne(i.toString(),t);H()._OrtAddSessionConfigEntry(n,g,m)!==0&&Q(`Can't set a session config entry: 'numThreads' - ${l.numThreads}.`)}if(l?.powerPreference){let i=ne("powerPreference",t),g=ne(l.powerPreference,t);H()._OrtAddSessionConfigEntry(n,i,g)!==0&&Q(`Can't set a session config entry: 'powerPreference' - ${l.powerPreference}.`)}}break;case"webgpu":if(a="JS",typeof u!="string"){let l=u;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${l.preferredLayout}`);let i=ne("preferredLayout",t),g=ne(l.preferredLayout,t);H()._OrtAddSessionConfigEntry(n,i,g)!==0&&Q(`Can't set a session config entry: 'preferredLayout' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${a}`)}let c=ne(a,t);H()._OrtAppendExecutionProvider(n,c)!==0&&Q(`Can't append execution provider: ${a}.`)}},Xt=n=>{let r=H(),t=0,u=[],a=n||{};fo(a);try{let c=io(a.graphOptimizationLevel??"all"),l=uo(a.executionMode??"sequential"),i=typeof a.logId=="string"?ne(a.logId,u):0,g=a.logSeverityLevel??2;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log serverity level is not valid: ${g}`);let m=a.logVerbosityLevel??0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);let y=typeof a.optimizedModelFilePath=="string"?ne(a.optimizedModelFilePath,u):0;if(t=r._OrtCreateSessionOptions(c,!!a.enableCpuMemArena,!!a.enableMemPattern,l,!!a.enableProfiling,0,i,g,m,y),t===0&&Q("Can't create session options."),a.executionProviders&&lo(t,a.executionProviders,u),a.freeDimensionOverrides)for(let[T,b]of Object.entries(a.freeDimensionOverrides)){if(typeof T!="string")throw new Error(`free dimension override name must be a string: ${T}`);if(typeof b!="number"||!Number.isInteger(b)||b<0)throw new Error(`free dimension override value must be a non-negative integer: ${b}`);let _=ne(T,u);r._OrtAddFreeDimensionOverride(t,_,b)!==0&&Q(`Can't set a free dimension override: ${T} - ${b}.`)}return a.extra!==void 0&&Et(a.extra,"",new WeakSet,(T,b)=>{let _=ne(T,u),R=ne(b,u);r._OrtAddSessionConfigEntry(t,_,R)!==0&&Q(`Can't set a session config entry: ${T} - ${b}.`)}),[t,u]}catch(c){throw t!==0&&r._OrtReleaseSessionOptions(t),u.forEach(l=>r._free(l)),c}}});var lt,Qt,Br,At,ia,Kt,Mt,Zt=G(()=>{"use strict";lt=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},Qt=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${n}`)}},Br=n=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][n],At=n=>{switch(n){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}},ia=n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}},Kt=n=>n==="float32"||n==="int32"||n==="int64"||n==="bool"||n==="float16"||n==="uint32",Mt=n=>{switch(n){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${n}`)}}});var Ct,Ur=G(()=>{"use strict";Ct=async n=>{if(typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(n))}catch(r){if(r.code==="ERR_FS_FILE_TOO_LARGE"){let t=(void 0)(n),u=[];for await(let a of t)u.push(a);return new Uint8Array(Buffer.concat(u))}throw r}else{let r=await fetch(n);if(!r.ok)throw new Error(`failed to load external data file: ${n}`);let t=r.headers.get("Content-Length"),u=t?parseInt(t,10):0;if(u<1073741824)return new Uint8Array(await r.arrayBuffer());{if(!r.body)throw new Error(`failed to load external data file: ${n}, no response body.`);let a=r.body.getReader(),c;try{c=new ArrayBuffer(u)}catch(i){if(i instanceof RangeError){let g=Math.ceil(u/65536);c=new WebAssembly.Memory({initial:g,maximum:g}).buffer}else throw i}let l=0;for(;;){let{done:i,value:g}=await a.read();if(i)break;let m=g.byteLength;new Uint8Array(c,l,m).set(g),l+=m}return new Uint8Array(c,0,u)}}else return n instanceof Blob?new Uint8Array(await n.arrayBuffer()):n instanceof Uint8Array?n:new Uint8Array(n)}});var co,ua,fa,Rt,po,Pt,la,ca,er,da,pa,ma,tr=G(()=>{"use strict";xr();Dr();Zt();Qe();St();Ur();co=(n,r)=>{H()._OrtInit(n,r)!==0&&Q("Can't initialize onnxruntime.")},ua=async n=>{co(n.wasm.numThreads,ia(n.logLevel))},fa=async(n,r)=>{},Rt=new Map,po=n=>{let r=H(),t=r.stackSave();try{let u=r.stackAlloc(8);return r._OrtGetInputOutputCount(n,u,u+4)!==0&&Q("Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}finally{r.stackRestore(t)}},Pt=n=>{let r=H(),t=r._malloc(n.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${n.byteLength}.`);return r.HEAPU8.set(n,t),[t,n.byteLength]},la=async(n,r)=>{let t,u,a=H();Array.isArray(n)?[t,u]=n:n.buffer===a.HEAPU8.buffer?[t,u]=[n.byteOffset,n.byteLength]:[t,u]=Pt(n);let c=0,l=0,i=0,g=[],m=[],y=[];try{if([l,g]=Xt(r),r?.externalData&&a.mountExternalData){let I=[];for(let k of r.externalData){let W=typeof k=="string"?k:k.path;I.push(Ct(typeof k=="string"?k:k.data).then(z=>{a.mountExternalData(W,z)}))}await Promise.all(I)}c=a._OrtCreateSession(t,u,l),c===0&&Q("Can't create a session.");let[T,b]=po(c),_=[],R=[],A=[];for(let I=0;I<T;I++){let k=a._OrtGetInputName(c,I);k===0&&Q("Can't get an input name."),m.push(k),_.push(a.UTF8ToString(k))}for(let I=0;I<b;I++){let k=a._OrtGetOutputName(c,I);k===0&&Q("Can't get an output name."),y.push(k);let W=a.UTF8ToString(k);R.push(W)}let M=null;return Rt.set(c,[c,m,y,M]),[c,_,R]}catch(T){throw m.forEach(b=>a._OrtFree(b)),y.forEach(b=>a._OrtFree(b)),i!==0&&a._OrtReleaseBinding(i),c!==0&&a._OrtReleaseSession(c),T}finally{a._free(t),l!==0&&a._OrtReleaseSessionOptions(l),g.forEach(T=>a._free(T)),a.unmountExternalData?.()}},ca=n=>{let r=H(),t=Rt.get(n);if(!t)throw new Error(`cannot release session. invalid session id: ${n}`);let[u,a,c,l]=t;l&&r._OrtReleaseBinding(l.handle),r.jsepUnregisterBuffers?.(n),a.forEach(i=>r._OrtFree(i)),c.forEach(i=>r._OrtFree(i)),r._OrtReleaseSession(u),Rt.delete(n)},er=(n,r,t,u,a)=>{if(!n){r.push(0);return}let c=H(),l=n[0],i=n[1],g=n[3],m,y;if(l==="string"&&g==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(g==="gpu-buffer"){let _=n[2].gpuBuffer,R=Br(lt(l));y=i.reduce((A,M)=>A*M,1)*R,m=c.jsepRegisterBuffer(u,a,_,y)}else{let _=n[2];if(Array.isArray(_)){y=4*_.length,m=c._malloc(y),t.push(m);let R=m/4;for(let A=0;A<_.length;A++){if(typeof _[A]!="string")throw new TypeError(`tensor data at index ${A} is not a string`);c.HEAPU32[R++]=ne(_[A],t)}}else y=_.byteLength,m=c._malloc(y),t.push(m),c.HEAPU8.set(new Uint8Array(_.buffer,_.byteOffset,y),m)}let T=c.stackSave(),b=c.stackAlloc(4*i.length);try{let _=b/4;i.forEach(A=>c.HEAP32[_++]=A);let R=c._OrtCreateTensor(lt(l),m,y,b,i.length,Mt(g));R===0&&Q(`Can't create tensor for input/output. session=${u}, index=${a}.`),r.push(R)}finally{c.stackRestore(T)}},da=async(n,r,t,u,a,c)=>{let l=H(),i=Rt.get(n);if(!i)throw new Error(`cannot run inference. invalid session id: ${n}`);let[g,m,y,T]=i,b=r.length,_=u.length,R=0,A=[],M=[],I=[],k=[],W=l.stackSave(),z=l.stackAlloc(b*4),j=l.stackAlloc(b*4),x=l.stackAlloc(_*4),q=l.stackAlloc(_*4);try{[R,A]=ft(c);for(let N=0;N<b;N++)er(t[N],M,k,n,r[N]);for(let N=0;N<_;N++)er(a[N],I,k,n,b+u[N]);let de=z/4,We=j/4,Ge=x/4,oe=q/4;for(let N=0;N<b;N++)l.HEAPU32[de++]=M[N],l.HEAPU32[We++]=m[r[N]];for(let N=0;N<_;N++)l.HEAPU32[Ge++]=I[N],l.HEAPU32[oe++]=y[u[N]];let K;K=await l._OrtRun(g,j,z,b,q,_,x,R),K!==0&&Q("failed to call OrtRun().");let ge=[];for(let N=0;N<_;N++){let se=l.HEAPU32[x/4+N];if(se===I[N]){ge.push(a[N]);continue}let ye=l.stackSave(),ve=l.stackAlloc(4*4),Te=!1,te,pe=0;try{l._OrtGetTensorData(se,ve,ve+4,ve+8,ve+12)!==0&&Q(`Can't access output tensor data on index ${N}.`);let De=ve/4,Be=l.HEAPU32[De++];pe=l.HEAPU32[De++];let Le=l.HEAPU32[De++],Pe=l.HEAPU32[De++],we=[];for(let ie=0;ie<Pe;ie++)we.push(l.HEAPU32[Le/4+ie]);l._OrtFree(Le);let Ae=we.reduce((ie,ae)=>ie*ae,1);te=Qt(Be);let Me=T?.outputPreferredLocations[u[N]];if(te==="string"){if(Me==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ie=[],ae=pe/4;for(let Ue=0;Ue<Ae;Ue++){let _e=l.HEAPU32[ae++],Ce=Ue===Ae-1?void 0:l.HEAPU32[ae]-_e;ie.push(l.UTF8ToString(_e,Ce))}ge.push([te,we,ie,"cpu"])}else if(Me==="gpu-buffer"&&Ae>0){let ie=l.jsepGetBuffer(pe),ae=Br(Be);if(ae===void 0||!Kt(te))throw new Error(`Unsupported data type: ${te}`);Te=!0,ge.push([te,we,{gpuBuffer:ie,download:l.jsepCreateDownloader(ie,Ae*ae,te),dispose:()=>{l._OrtReleaseTensor(se)}},"gpu-buffer"])}else{let ie=At(te),ae=new ie(Ae);new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength).set(l.HEAPU8.subarray(pe,pe+ae.byteLength)),ge.push([te,we,ae,"cpu"])}}finally{l.stackRestore(ye),te==="string"&&pe&&l._free(pe),Te||l._OrtReleaseTensor(se)}}return T&&l._OrtClearBoundOutputs(T.handle),ge}finally{l.stackRestore(W),M.forEach(de=>l._OrtReleaseTensor(de)),I.forEach(de=>l._OrtReleaseTensor(de)),k.forEach(de=>l._free(de)),R!==0&&l._OrtReleaseRunOptions(R),A.forEach(de=>l._free(de))}},pa=n=>{let r=H(),t=Rt.get(n);if(!t)throw new Error("invalid session id");let u=t[0],a=r._OrtEndProfiling(u);a===0&&Q("Can't get an profile file name."),r._OrtFree(a)},ma=n=>{let r=[];for(let t of n){let u=t[2];!Array.isArray(u)&&"buffer"in u&&r.push(u.buffer)}return r}});var ha=it((Ds,ho)=>{ho.exports='/*!\n * ONNX Runtime Web v1.17.1\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var St=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var Et=(u,p)=>()=>(u&&(p=u(u=0)),p);var et=(u,p)=>()=>(p||u((p={exports:{}}).exports,p),p.exports),Tt=(u,p)=>{for(var a in p)St(u,a,{get:p[a],enumerable:!0})},Zr=(u,p,a,h)=>{if(p&&typeof p=="object"||typeof p=="function")for(let l of Xr(p))!Qr.call(u,l)&&l!==a&&St(u,l,{get:()=>p[l],enumerable:!(h=Jr(p,l))||h.enumerable});return u};var tt=u=>Zr(St({},"__esModule",{value:!0}),u);var Mt={};Tt(Mt,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,At=Et(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};Tt(Ct,{join:()=>tn});var tn,Dt=Et(()=>{tn=void 0});var gr=et((mr,xt)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(p={}){var a=p,h,l;a.ready=new Promise((t,o)=>{h=t,l=o});var b=Object.assign({},a),g="./this.program",s=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",L,F,R;if(D){var W=(At(),tt(Mt)),B=(Dt(),tt(Ct));I=A?B.dirname(I)+"/":__dirname+"/",L=(t,o)=>(t=ye(t)?new URL(t):B.normalize(t),W.readFileSync(t,o?void 0:"utf8")),R=t=>(t=L(t,!0),t.buffer||(t=new Uint8Array(t)),t),F=(t,o,i,c=!0)=>{t=ye(t)?new URL(t):B.normalize(t),W.readFile(t,c?void 0:"utf8",(w,E)=>{w?i(w):o(c?E.buffer:E)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(s||A)&&(A?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",L=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},A&&(R=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(t,o,i)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?o(c.response):i()},c.onerror=i,c.send(null)});var _=console.log.bind(console),x=console.error.bind(console);Object.assign(a,b),b=null,typeof WebAssembly!="object"&&de("no native wasm support detected");var N,he=!1,se,ae,S,z,ue;function Ue(){var t=N.buffer;a.HEAP8=se=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAPU8=ae=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=S=new Int32Array(t),a.HEAPU32=z=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=ue=new Float64Array(t)}var Ie=[],ee=[],Y=[],ce=0,U=null,te=null;function de(t){throw t="Aborted("+t+")",x(t),he=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),l(t),t}var ge=t=>t.startsWith("data:application/octet-stream;base64,"),ye=t=>t.startsWith("file://"),J;if(J="ort-training-wasm-simd.wasm",!ge(J)){var fe=J;J=a.locateFile?a.locateFile(fe,I):I+fe}function be(t){if(R)return R(t);throw"both async and sync fetching of the wasm failed"}function Me(t){if(s||A){if(typeof fetch=="function"&&!ye(t))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>be(t));if(F)return new Promise((o,i)=>{F(t,c=>o(new Uint8Array(c)),i)})}return Promise.resolve().then(()=>be(t))}function Ae(t,o,i){return Me(t).then(c=>WebAssembly.instantiate(c,o)).then(c=>c).then(i,c=>{x(`failed to asynchronously prepare wasm: ${c}`),de(c)})}function Fe(t,o){var i=J;return typeof WebAssembly.instantiateStreaming!="function"||ge(i)||ye(i)||D||typeof fetch!="function"?Ae(i,t,o):fetch(i,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,t).then(o,function(w){return x(`wasm streaming compile failed: ${w}`),x("falling back to ArrayBuffer instantiation"),Ae(i,t,o)}))}var Se,pe={990416:(t,o,i,c)=>{if(typeof a>"u"||!a.Qa)return 1;if(t=Oe(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=a.Qa.get(t),!t)return 2;if(o>>>=0,i>>>=0,o+i>t.byteLength)return 3;try{return ae.set(t.subarray(o,o+i),c>>>0>>>0),0}catch{return 4}}};function we(t){this.Ka=t-24,this.Pa=function(o){z[this.Ka+4>>>2>>>0]=o},this.Oa=function(o){z[this.Ka+8>>>2>>>0]=o},this.Ma=function(o,i){this.Na(),this.Pa(o),this.Oa(i)},this.Na=function(){z[this.Ka+16>>>2>>>0]=0}}var ve=0,re=0,K=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(t,o,i)=>{o>>>=0;var c=o+i;for(i=o;t[i]&&!(i>=c);)++i;if(16<i-o&&t.buffer&&K)return K.decode(t.subarray(o,i));for(c="";o<i;){var w=t[o++];if(w&128){var E=t[o++]&63;if((w&224)==192)c+=String.fromCharCode((w&31)<<6|E);else{var P=t[o++]&63;w=(w&240)==224?(w&15)<<12|E<<6|P:(w&7)<<18|E<<12|P<<6|t[o++]&63,65536>w?c+=String.fromCharCode(w):(w-=65536,c+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else c+=String.fromCharCode(w)}return c},Oe=(t,o)=>(t>>>=0)?Ce(ae,t,o):"",_e=t=>{for(var o=0,i=0;i<t.length;++i){var c=t.charCodeAt(i);127>=c?o++:2047>=c?o+=2:55296<=c&&57343>=c?(o+=4,++i):o+=3}return o},We=(t,o,i,c)=>{if(i>>>=0,!(0<c))return 0;var w=i;c=i+c-1;for(var E=0;E<t.length;++E){var P=t.charCodeAt(E);if(55296<=P&&57343>=P){var X=t.charCodeAt(++E);P=65536+((P&1023)<<10)|X&1023}if(127>=P){if(i>=c)break;o[i++>>>0]=P}else{if(2047>=P){if(i+1>=c)break;o[i++>>>0]=192|P>>6}else{if(65535>=P){if(i+2>=c)break;o[i++>>>0]=224|P>>12}else{if(i+3>=c)break;o[i++>>>0]=240|P>>18,o[i++>>>0]=128|P>>12&63}o[i++>>>0]=128|P>>6&63}o[i++>>>0]=128|P&63}}return o[i>>>0]=0,i-w},Pe=t=>t%4===0&&(t%100!==0||t%400===0),je=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],De=t=>{var o=_e(t)+1,i=it(o);return i&&We(t,ae,i,o),i},Ne=[],Re={},He=()=>{if(!Ge){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Re)Re[o]===void 0?delete t[o]:t[o]=Re[o];var i=[];for(o in t)i.push(`${o}=${t[o]}`);Ge=i}return Ge},Ge,Be=[null,[],[]],qe=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=[31,28,31,30,31,30,31,31,30,31,30,31];function $e(t){var o=Array(_e(t)+1);return We(t,o,0,o.length),o}function ot(t,o,i,c){function w(d,k,$){for(d=typeof d=="number"?d.toString():d||"";d.length<k;)d=$[0]+d;return d}function E(d,k){return w(d,k,"0")}function P(d,k){function $(Ke){return 0>Ke?-1:0<Ke?1:0}var Ee;return(Ee=$(d.getFullYear()-k.getFullYear()))===0&&(Ee=$(d.getMonth()-k.getMonth()))===0&&(Ee=$(d.getDate()-k.getDate())),Ee}function X(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function le(d){var k=d.Ga;for(d=new Date(new Date(d.Ha+1900,0,1).getTime());0<k;){var $=d.getMonth(),Ee=(Pe(d.getFullYear())?qe:Ve)[$];if(k>Ee-d.getDate())k-=Ee-d.getDate()+1,d.setDate(1),11>$?d.setMonth($+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+k);break}}return $=new Date(d.getFullYear()+1,0,4),k=X(new Date(d.getFullYear(),0,4)),$=X($),0>=P(k,d)?0>=P($,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}t>>>=0,o>>>=0,i>>>=0,c>>>=0;var oe=z[c+40>>>2>>>0];c={Ta:S[c>>>2>>>0],Sa:S[c+4>>>2>>>0],Ia:S[c+8>>>2>>>0],La:S[c+12>>>2>>>0],Ja:S[c+16>>>2>>>0],Ha:S[c+20>>>2>>>0],Ba:S[c+24>>>2>>>0],Ga:S[c+28>>>2>>>0],Va:S[c+32>>>2>>>0],Ra:S[c+36>>>2>>>0],Ua:oe?Oe(oe):""},i=Oe(i),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in oe)i=i.replace(new RegExp(ie,"g"),oe[ie]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");oe={"%a":d=>Qe[d.Ba].substring(0,3),"%A":d=>Qe[d.Ba],"%b":d=>Ze[d.Ja].substring(0,3),"%B":d=>Ze[d.Ja],"%C":d=>E((d.Ha+1900)/100|0,2),"%d":d=>E(d.La,2),"%e":d=>w(d.La,2," "),"%g":d=>le(d).toString().substring(2),"%G":d=>le(d),"%H":d=>E(d.Ia,2),"%I":d=>(d=d.Ia,d==0?d=12:12<d&&(d-=12),E(d,2)),"%j":d=>{for(var k=0,$=0;$<=d.Ja-1;k+=(Pe(d.Ha+1900)?qe:Ve)[$++]);return E(d.La+k,3)},"%m":d=>E(d.Ja+1,2),"%M":d=>E(d.Sa,2),"%n":()=>`\n`,"%p":d=>0<=d.Ia&&12>d.Ia?"AM":"PM","%S":d=>E(d.Ta,2),"%t":()=>"	","%u":d=>d.Ba||7,"%U":d=>E(Math.floor((d.Ga+7-d.Ba)/7),2),"%V":d=>{var k=Math.floor((d.Ga+7-(d.Ba+6)%7)/7);if(2>=(d.Ba+371-d.Ga-2)%7&&k++,k)k==53&&($=(d.Ba+371-d.Ga)%7,$==4||$==3&&Pe(d.Ha)||(k=1));else{k=52;var $=(d.Ba+7-d.Ga-1)%7;($==4||$==5&&Pe(d.Ha%400-1))&&k++}return E(k,2)},"%w":d=>d.Ba,"%W":d=>E(Math.floor((d.Ga+7-(d.Ba+6)%7)/7),2),"%y":d=>(d.Ha+1900).toString().substring(2),"%Y":d=>d.Ha+1900,"%z":d=>{d=d.Ra;var k=0<=d;return d=Math.abs(d)/60,(k?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Ua,"%%":()=>"%"},i=i.replace(/%%/g,"\\0\\0");for(ie in oe)i.includes(ie)&&(i=i.replace(new RegExp(ie,"g"),oe[ie](c)));return i=i.replace(/\\0\\0/g,"%"),ie=$e(i),ie.length>o?0:(se.set(ie,t>>>0),ie.length-1)}var G={a:function(t,o,i){throw t>>>=0,new we(t).Ma(o>>>0,i>>>0),ve=t,re++,ve},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),S[i>>>2>>>0]=t.getUTCSeconds(),S[i+4>>>2>>>0]=t.getUTCMinutes(),S[i+8>>>2>>>0]=t.getUTCHours(),S[i+12>>>2>>>0]=t.getUTCDate(),S[i+16>>>2>>>0]=t.getUTCMonth(),S[i+20>>>2>>>0]=t.getUTCFullYear()-1900,S[i+24>>>2>>>0]=t.getUTCDay(),S[i+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),S[i>>>2>>>0]=t.getSeconds(),S[i+4>>>2>>>0]=t.getMinutes(),S[i+8>>>2>>>0]=t.getHours(),S[i+12>>>2>>>0]=t.getDate(),S[i+16>>>2>>>0]=t.getMonth(),S[i+20>>>2>>>0]=t.getFullYear()-1900,S[i+24>>>2>>>0]=t.getDay(),S[i+28>>>2>>>0]=(Pe(t.getFullYear())?je:at)[t.getMonth()]+t.getDate()-1|0,S[i+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var c=new Date(t.getFullYear(),0,1).getTimezoneOffset();S[i+32>>>2>>>0]=(o!=c&&t.getTimezoneOffset()==Math.min(c,o))|0},p:function(t){t>>>=0;var o=new Date(S[t+20>>>2>>>0]+1900,S[t+16>>>2>>>0],S[t+12>>>2>>>0],S[t+8>>>2>>>0],S[t+4>>>2>>>0],S[t>>>2>>>0],0),i=S[t+32>>>2>>>0],c=o.getTimezoneOffset(),w=new Date(o.getFullYear(),6,1).getTimezoneOffset(),E=new Date(o.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(E,w);return 0>i?S[t+32>>>2>>>0]=+(w!=E&&P==c):0<i!=(P==c)&&(w=Math.max(E,w),o.setTime(o.getTime()+6e4*((0<i?P:w)-c))),S[t+24>>>2>>>0]=o.getDay(),S[t+28>>>2>>>0]=(Pe(o.getFullYear())?je:at)[o.getMonth()]+o.getDate()-1|0,S[t>>>2>>>0]=o.getSeconds(),S[t+4>>>2>>>0]=o.getMinutes(),S[t+8>>>2>>>0]=o.getHours(),S[t+12>>>2>>>0]=o.getDate(),S[t+16>>>2>>>0]=o.getMonth(),S[t+20>>>2>>>0]=o.getYear(),t=o.getTime(),isNaN(t)?(S[ze()>>>2>>>0]=61,t=-1):t/=1e3,Je((Se=t,1<=+Math.abs(Se)?0<Se?+Math.floor(Se/4294967296)>>>0:~~+Math.ceil((Se-+(~~Se>>>0))/4294967296)>>>0:0)),t>>>0},l:function(){return-52},m:function(){},t:function(t,o,i){function c(le){return(le=le.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?le[1]:"GMT"}i>>>=0;var w=new Date().getFullYear(),E=new Date(w,0,1),P=new Date(w,6,1);w=E.getTimezoneOffset();var X=P.getTimezoneOffset();z[t>>>0>>>2>>>0]=60*Math.max(w,X),S[o>>>0>>>2>>>0]=+(w!=X),t=c(E),o=c(P),t=De(t),o=De(o),X<w?(z[i>>>2>>>0]=t,z[i+4>>>2>>>0]=o):(z[i>>>2>>>0]=o,z[i+4>>>2>>>0]=t)},d:()=>{de("")},B:function(t,o,i){t>>>=0,o>>>=0,i>>>=0,Ne.length=0;for(var c;c=ae[o++>>>0];){var w=c!=105;w&=c!=112,i+=w&&i%8?4:0,Ne.push(c==112?z[i>>>2>>>0]:c==105?S[i>>>2>>>0]:ue[i>>>3>>>0]),i+=w?8:4}return pe[t].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(t,o,i){return o>>>=0,ae.copyWithin(t>>>0>>>0,o>>>0,o+(i>>>0)>>>0)},s:function(t){t>>>=0;var o=ae.length;if(4294901760<t)return!1;for(var i=1;4>=i;i*=2){var c=o*(1+.2/i);c=Math.min(c,t+100663296);var w=Math;c=Math.max(t,c);e:{w=(w.min.call(w,4294901760,c+(65536-c%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow(w),Ue();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var i=0;return He().forEach((c,w)=>{var E=o+i;for(w=z[t+4*w>>>2>>>0]=E,E=0;E<c.length;++E)se[w++>>>0>>>0]=c.charCodeAt(E);se[w>>>0>>>0]=0,i+=c.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var i=He();z[t>>>2>>>0]=i.length;var c=0;return i.forEach(w=>c+=w.length+1),z[o>>>2>>>0]=c,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(t,o,i,c){o>>>=0,i>>>=0,c>>>=0;for(var w=0,E=0;E<i;E++){var P=z[o>>>2>>>0],X=z[o+4>>>2>>>0];o+=8;for(var le=0;le<X;le++){var oe=ae[P+le>>>0],ie=Be[t];oe===0||oe===10?((t===1?_:x)(Ce(ie,0)),ie.length=0):ie.push(oe)}w+=X}return z[c>>>2>>>0]=w,0},r:ot,c:function(t,o,i,c){return ot(t>>>0,o>>>0,i>>>0,c>>>0)}},T=function(){function t(i){return T=i.exports,T=ut(),N=T.K,Ue(),ee.unshift(T.L),ce--,ce==0&&(U!==null&&(clearInterval(U),U=null),te&&(i=te,te=null,i())),T}var o={a:G};if(ce++,a.instantiateWasm)try{return a.instantiateWasm(o,t)}catch(i){x(`Module.instantiateWasm callback failed with error: ${i}`),l(i)}return Fe(o,function(i){t(i.instance)}).catch(l),{}}();a._OrtInit=(t,o)=>(a._OrtInit=T.M)(t,o),a._OrtGetLastError=(t,o)=>(a._OrtGetLastError=T.N)(t,o),a._OrtCreateSessionOptions=(t,o,i,c,w,E,P,X,le,oe)=>(a._OrtCreateSessionOptions=T.O)(t,o,i,c,w,E,P,X,le,oe),a._OrtAppendExecutionProvider=(t,o)=>(a._OrtAppendExecutionProvider=T.P)(t,o),a._OrtAddFreeDimensionOverride=(t,o,i)=>(a._OrtAddFreeDimensionOverride=T.Q)(t,o,i),a._OrtAddSessionConfigEntry=(t,o,i)=>(a._OrtAddSessionConfigEntry=T.R)(t,o,i),a._OrtReleaseSessionOptions=t=>(a._OrtReleaseSessionOptions=T.S)(t),a._OrtCreateSession=(t,o,i)=>(a._OrtCreateSession=T.T)(t,o,i),a._OrtReleaseSession=t=>(a._OrtReleaseSession=T.U)(t),a._OrtGetInputOutputCount=(t,o,i)=>(a._OrtGetInputOutputCount=T.V)(t,o,i),a._OrtGetInputName=(t,o)=>(a._OrtGetInputName=T.W)(t,o),a._OrtGetOutputName=(t,o)=>(a._OrtGetOutputName=T.X)(t,o),a._OrtFree=t=>(a._OrtFree=T.Y)(t),a._OrtCreateTensor=(t,o,i,c,w,E)=>(a._OrtCreateTensor=T.Z)(t,o,i,c,w,E),a._OrtGetTensorData=(t,o,i,c,w)=>(a._OrtGetTensorData=T._)(t,o,i,c,w),a._OrtReleaseTensor=t=>(a._OrtReleaseTensor=T.$)(t),a._OrtCreateRunOptions=(t,o,i,c)=>(a._OrtCreateRunOptions=T.aa)(t,o,i,c),a._OrtAddRunConfigEntry=(t,o,i)=>(a._OrtAddRunConfigEntry=T.ba)(t,o,i),a._OrtReleaseRunOptions=t=>(a._OrtReleaseRunOptions=T.ca)(t),a._OrtCreateBinding=t=>(a._OrtCreateBinding=T.da)(t),a._OrtBindInput=(t,o,i)=>(a._OrtBindInput=T.ea)(t,o,i),a._OrtBindOutput=(t,o,i,c)=>(a._OrtBindOutput=T.fa)(t,o,i,c),a._OrtClearBoundOutputs=t=>(a._OrtClearBoundOutputs=T.ga)(t),a._OrtReleaseBinding=t=>(a._OrtReleaseBinding=T.ha)(t),a._OrtRunWithBinding=(t,o,i,c,w)=>(a._OrtRunWithBinding=T.ia)(t,o,i,c,w),a._OrtRun=(t,o,i,c,w,E,P,X)=>(a._OrtRun=T.ja)(t,o,i,c,w,E,P,X),a._OrtEndProfiling=t=>(a._OrtEndProfiling=T.ka)(t),a._OrtTrainingLoadCheckpoint=(t,o)=>(a._OrtTrainingLoadCheckpoint=T.la)(t,o),a._OrtTrainingReleaseCheckpoint=t=>(a._OrtTrainingReleaseCheckpoint=T.ma)(t),a._OrtTrainingCreateSession=(t,o,i,c,w,E,P,X)=>(a._OrtTrainingCreateSession=T.na)(t,o,i,c,w,E,P,X),a._OrtTrainingLazyResetGrad=t=>(a._OrtTrainingLazyResetGrad=T.oa)(t),a._OrtTrainingRunTrainStep=(t,o,i,c,w,E)=>(a._OrtTrainingRunTrainStep=T.pa)(t,o,i,c,w,E),a._OrtTrainingOptimizerStep=(t,o)=>(a._OrtTrainingOptimizerStep=T.qa)(t,o),a._OrtTrainingEvalStep=(t,o,i,c,w,E)=>(a._OrtTrainingEvalStep=T.ra)(t,o,i,c,w,E),a._OrtTrainingGetParametersSize=(t,o,i)=>(a._OrtTrainingGetParametersSize=T.sa)(t,o,i),a._OrtTrainingCopyParametersToBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersToBuffer=T.ta)(t,o,i,c),a._OrtTrainingCopyParametersFromBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersFromBuffer=T.ua)(t,o,i,c),a._OrtTrainingGetModelInputOutputCount=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputCount=T.va)(t,o,i,c),a._OrtTrainingGetModelInputOutputName=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputName=T.wa)(t,o,i,c),a._OrtTrainingReleaseSession=t=>(a._OrtTrainingReleaseSession=T.xa)(t);var ze=()=>(ze=T.ya)(),it=a._malloc=t=>(it=a._malloc=T.za)(t);a._free=t=>(a._free=T.Aa)(t);var Je=t=>(Je=T.Ca)(t),st=()=>(st=T.Da)(),C=t=>(C=T.Ea)(t),Le=t=>(Le=T.Fa)(t);function ut(){var t=T;t=Object.assign({},t);var o=c=>()=>c()>>>0,i=c=>w=>c(w)>>>0;return t.ya=o(t.ya),t.za=i(t.za),t.Da=o(t.Da),t.Fa=i(t.Fa),t}a.stackAlloc=Le,a.stackSave=st,a.stackRestore=C,a.UTF8ToString=Oe,a.stringToUTF8=(t,o,i)=>We(t,ae,o,i),a.lengthBytesUTF8=_e;var xe;te=function t(){xe||Xe(),xe||(te=t)};function Xe(){if(!(0<ce)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var t=a.preRun.shift();Ie.unshift(t)}for(;0<Ie.length;)Ie.shift()(a);if(!(0<ce||xe||(xe=!0,a.calledRun=!0,he))){for(;0<ee.length;)ee.shift()(a);for(h(a);0<Y.length;)Y.shift()(a)}}}return Xe(),p.ready}})();typeof mr=="object"&&typeof xt=="object"?xt.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=et(()=>{});var yr=et(()=>{});var Or={};Tt(Or,{cpus:()=>rn});var rn,br=Et(()=>{rn=void 0});var _r=et((vr,Ft)=>{"use strict";var wr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(p={}){function a(){return Y.buffer!=de.buffer&&be(),de}function h(){return Y.buffer!=de.buffer&&be(),ge}function l(){return Y.buffer!=de.buffer&&be(),ye}function b(){return Y.buffer!=de.buffer&&be(),J}function g(){return Y.buffer!=de.buffer&&be(),fe}var s=p,A,D;s.ready=new Promise((e,r)=>{A=e,D=r});var I=Object.assign({},s),L="./this.program",F=(e,r)=>{throw r},R=typeof window=="object",W=typeof importScripts=="function",B=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=s.ENVIRONMENT_IS_PTHREAD||!1,x="";function N(e){return s.locateFile?s.locateFile(e,x):x+e}var he,se,ae;if(B){var S=(At(),tt(Mt)),z=(Dt(),tt(Ct));x=W?z.dirname(x)+"/":__dirname+"/",he=(r,n)=>(r=Oe(r)?new URL(r):z.normalize(r),S.readFileSync(r,n?void 0:"utf8")),ae=r=>(r=he(r,!0),r.buffer||(r=new Uint8Array(r)),r),se=(r,n,f,y=!0)=>{r=Oe(r)?new URL(r):z.normalize(r),S.readFile(r,y?void 0:"utf8",(O,v)=>{O?f(O):n(y?v.buffer:v)})},!s.thisProgram&&1<process.argv.length&&(L=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(r,n)=>{throw process.exitCode=r,n},s.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(R||W)&&(W?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof u<"u"&&u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",B||(he=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},W&&(ae=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),se=(e,r,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?r(f.response):n()},f.onerror=n,f.send(null)}));B&&typeof performance>"u"&&(global.performance=yr().performance);var ue=console.log.bind(console),Ue=console.error.bind(console);B&&(ue=(...e)=>S.writeSync(1,e.join(" ")+`\n`),Ue=(...e)=>S.writeSync(2,e.join(" ")+`\n`));var Ie=ue,ee=Ue;Object.assign(s,I),I=null,typeof WebAssembly!="object"&&K("no native wasm support detected");var Y,ce,U=!1,te,de,ge,ye,J,fe;function be(){var e=Y.buffer;s.HEAP8=de=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=ge=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=ye=new Int32Array(e),s.HEAPU32=J=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=fe=new Float64Array(e)}var Me=16777216;if(_)Y=s.wasmMemory;else if(s.wasmMemory)Y=s.wasmMemory;else if(Y=new WebAssembly.Memory({initial:Me/65536,maximum:65536,shared:!0}),!(Y.buffer instanceof SharedArrayBuffer))throw ee("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),B&&ee("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");be(),Me=Y.buffer.byteLength;var Ae=[],Fe=[],Se=[],pe=0,we=null,ve=null;function re(){if(pe--,pe==0&&(we!==null&&(clearInterval(we),we=null),ve)){var e=ve;ve=null,e()}}function K(e){throw e="Aborted("+e+")",ee(e),U=!0,te=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Ce=e=>e.startsWith("data:application/octet-stream;base64,"),Oe=e=>e.startsWith("file://"),_e;_e="ort-wasm-threaded.wasm",Ce(_e)||(_e=N(_e));function We(e){if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function Pe(e){if(R||W){if(typeof fetch=="function"&&!Oe(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>We(e));if(se)return new Promise((r,n)=>{se(e,f=>r(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>We(e))}function je(e,r,n){return Pe(e).then(f=>WebAssembly.instantiate(f,r)).then(f=>f).then(n,f=>{ee(`failed to asynchronously prepare wasm: ${f}`),K(f)})}function at(e,r){var n=_e;return typeof WebAssembly.instantiateStreaming!="function"||Ce(n)||Oe(n)||B||typeof fetch!="function"?je(n,e,r):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(r,function(y){return ee(`wasm streaming compile failed: ${y}`),ee("falling back to ArrayBuffer instantiation"),je(n,e,r)}))}var De,Ne={921276:(e,r,n,f)=>{if(typeof s>"u"||!s.cb)return 1;if(e=$e(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(r>>>=0,n>>>=0,f>>>=0,r+n>e.byteLength)return 3;try{return h().set(e.subarray(r,r+n),f>>>0),0}catch{return 4}}};function Re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},Ge=e=>{C.Pa.length==0&&(Je(),C.Ya(C.Pa[0]));var r=C.Pa.pop();if(!r)return 6;C.Qa.push(r),C.Ma[e.Oa]=r,r.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return B&&r.unref(),r.postMessage(n,e.qb),0},Be=0,qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(e,r,n)=>{r>>>=0;var f=r+n;for(n=r;e[n]&&!(n>=f);)++n;if(16<n-r&&e.buffer&&qe)return qe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,n):e.subarray(r,n));for(f="";r<n;){var y=e[r++];if(y&128){var O=e[r++]&63;if((y&224)==192)f+=String.fromCharCode((y&31)<<6|O);else{var v=e[r++]&63;y=(y&240)==224?(y&15)<<12|O<<6|v:(y&7)<<18|O<<12|v<<6|e[r++]&63,65536>y?f+=String.fromCharCode(y):(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else f+=String.fromCharCode(y)}return f},$e=(e,r)=>(e>>>=0)?Ve(h(),e,r):"",ot=e=>{var r=vt();return e=e(),ct(r),e};function G(e,r){var n=arguments.length-2,f=arguments;return ot(()=>{for(var y=_t(8*n),O=y>>>3,v=0;v<n;v++){var j=f[2+v];g()[O+v>>>0]=j}return ar(e,n,y,r)})}function T(e){if(_)return G(0,1,e);te=e,0<Be||(C.lb(),s.onExit?.(e),U=!0),F(e,new Re(e))}var ze=e=>{if(te=e,_)throw ut(e),"unwind";T(e)};function it(){for(var e=s.numThreads;e--;)Je();Ae.unshift(()=>{pe++,st(()=>re())})}function Je(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),C.Pa.push(e)}function st(e){_?e():Promise.all(C.Pa.map(C.Ya)).then(e)}var C={Pa:[],Qa:[],bb:[],Ma:{},Wa(){_?(C.receiveObjectTransfer=C.jb,C.threadInitTLS=C.ab,C.setExitStatus=C.$a):it()},$a:e=>te=e,tb:["$terminateWorker"],lb:()=>{for(var e of C.Qa)He(e);for(e of C.Pa)He(e);C.Pa=[],C.Qa=[],C.Ma=[]},Za:e=>{var r=e.Oa;delete C.Ma[r],C.Pa.push(e),C.Qa.splice(C.Qa.indexOf(e),1),e.Oa=0,bt(r)},jb(){},ab(){C.bb.forEach(e=>e())},Ya:e=>new Promise(r=>{e.onmessage=O=>{O=O.data;var v=O.cmd;if(O.targetThread&&O.targetThread!=lt()){var j=C.Ma[O.targetThread];j?j.postMessage(O,O.transferList):ee(`Internal error! Worker sent a message "${v}" to target pthread ${O.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?Ge(O):v==="cleanupThread"?C.Za(C.Ma[O.thread]):v==="killThread"?(O=O.thread,v=C.Ma[O],delete C.Ma[O],He(v),bt(O),C.Qa.splice(C.Qa.indexOf(v),1),v.Oa=0):v==="cancelThread"?C.Ma[O.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,B&&!e.Oa&&e.unref(),r(e)):v==="alert"?alert(`Thread ${O.threadId}: ${O.text}`):O.target==="setimmediate"?e.postMessage(O):v==="callHandler"?s[O.handler](...O.args):v&&ee(`worker sent an unknown command ${v}`)},e.onerror=O=>{throw ee(`worker sent an error! ${O.filename}:${O.lineno}: ${O.message}`),O},B&&(e.on("message",O=>e.onmessage({data:O})),e.on("error",O=>e.onerror(O)));var n=[],f=["onExit"],y;for(y of f)s.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:s.mainScriptUrlOrBlob||u,wasmMemory:Y,wasmModule:ce})})};s.PThread=C;var Le=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=lt(),r=b()[e+52>>>2>>>0];e=b()[e+56>>>2>>>0],sr(r,r-e),ct(r)};function ut(e){if(_)return G(1,0,e);ze(e)}var xe=[],Xe;s.invokeEntryPoint=(e,r)=>{var n=xe[e];n||(e>=xe.length&&(xe.length=e+1),xe[e]=n=Xe.get(e)),e=n(r),0<Be?C.$a(e):wt(e)};function t(e){this.Va=e-24,this.gb=function(r){b()[this.Va+4>>>2>>>0]=r},this.fb=function(r){b()[this.Va+8>>>2>>>0]=r},this.Wa=function(r,n){this.eb(),this.gb(r),this.fb(n)},this.eb=function(){b()[this.Va+16>>>2>>>0]=0}}var o=0,i=0;function c(e,r,n,f){return _?G(2,1,e,r,n,f):w(e,r,n,f)}function w(e,r,n,f){if(e>>>=0,r>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return ee("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return _&&y.length===0?c(e,r,n,f):(e={kb:n,Oa:e,hb:f,qb:y},_?(e.sb="spawnThread",postMessage(e,y),0):Ge(e))}function E(e,r,n){return _?G(3,1,e,r,n):0}function P(e,r){if(_)return G(4,1,e,r)}var X=e=>{for(var r=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?r++:2047>=f?r+=2:55296<=f&&57343>=f?(r+=4,++n):r+=3}return r},le=(e,r,n,f)=>{if(n>>>=0,!(0<f))return 0;var y=n;f=n+f-1;for(var O=0;O<e.length;++O){var v=e.charCodeAt(O);if(55296<=v&&57343>=v){var j=e.charCodeAt(++O);v=65536+((v&1023)<<10)|j&1023}if(127>=v){if(n>=f)break;r[n++>>>0]=v}else{if(2047>=v){if(n+1>=f)break;r[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=f)break;r[n++>>>0]=224|v>>12}else{if(n+3>=f)break;r[n++>>>0]=240|v>>18,r[n++>>>0]=128|v>>12&63}r[n++>>>0]=128|v>>6&63}r[n++>>>0]=128|v&63}}return r[n>>>0]=0,n-y},oe=(e,r,n)=>le(e,h(),r,n);function ie(e,r){if(_)return G(5,1,e,r)}function Qe(e,r,n){if(_)return G(6,1,e,r,n)}function Ze(e,r,n){return _?G(7,1,e,r,n):0}function d(e,r){if(_)return G(8,1,e,r)}function k(e,r,n){if(_)return G(9,1,e,r,n)}function $(e,r,n,f){if(_)return G(10,1,e,r,n,f)}function Ee(e,r,n,f){if(_)return G(11,1,e,r,n,f)}function Ke(e,r,n,f){if(_)return G(12,1,e,r,n,f)}function Lt(e){if(_)return G(13,1,e)}function kt(e,r){if(_)return G(14,1,e,r)}function Wt(e,r,n){if(_)return G(15,1,e,r,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(l(),e>>>2,e).value.then(ft),e+=128,Atomics.store(l(),e>>>2,1))}s.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!U))try{if(e(),!(0<Be))try{_?wt(te):ze(te)}catch(r){r instanceof Re||r=="unwind"||F(1,r)}}catch(r){r instanceof Re||r=="unwind"||F(1,r)}};s.checkMailbox=ft;var gt=[],Ye=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function Gt(e,r,n,f,y,O,v,j){return _?G(16,1,e,r,n,f,y,O,v,j):-52}function $t(e,r,n,f,y,O,v){if(_)return G(17,1,e,r,n,f,y,O,v)}var zt=e=>{var r=X(e)+1,n=rr(r);return n&&oe(e,n,r),n},ht=[],yt={},Yt=()=>{if(!Ot){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"},r;for(r in yt)yt[r]===void 0?delete e[r]:e[r]=yt[r];var n=[];for(r in e)n.push(`${r}=${e[r]}`);Ot=n}return Ot},Ot;function jt(e,r){if(_)return G(18,1,e,r);e>>>=0,r>>>=0;var n=0;return Yt().forEach((f,y)=>{var O=r+n;for(y=b()[e+4*y>>>2>>>0]=O,O=0;O<f.length;++O)a()[y++>>>0>>>0]=f.charCodeAt(O);a()[y>>>0>>>0]=0,n+=f.length+1}),0}function qt(e,r){if(_)return G(19,1,e,r);e>>>=0,r>>>=0;var n=Yt();b()[e>>>2>>>0]=n.length;var f=0;return n.forEach(y=>f+=y.length+1),b()[r>>>2>>>0]=f,0}function Vt(e){return _?G(20,1,e):52}function Jt(e,r,n,f){return _?G(21,1,e,r,n,f):52}function Xt(e,r,n,f,y){return _?G(22,1,e,r,n,f,y):70}var $r=[null,[],[]];function Qt(e,r,n,f){if(_)return G(23,1,e,r,n,f);r>>>=0,n>>>=0,f>>>=0;for(var y=0,O=0;O<n;O++){var v=b()[r>>>2>>>0],j=b()[r+4>>>2>>>0];r+=8;for(var Te=0;Te<j;Te++){var ne=h()[v+Te>>>0],me=$r[e];ne===0||ne===10?((e===1?Ie:ee)(Ve(me,0)),me.length=0):me.push(ne)}y+=j}return b()[f>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function zr(e){var r=Array(X(e)+1);return le(e,r,0,r.length),r}var Yr=(e,r)=>{a().set(e,r>>>0)};function er(e,r,n,f){function y(m,H,q){for(m=typeof m=="number"?m.toString():m||"";m.length<H;)m=q[0]+m;return m}function O(m,H){return y(m,H,"0")}function v(m,H){function q(cr){return 0>cr?-1:0<cr?1:0}var ke;return(ke=q(m.getFullYear()-H.getFullYear()))===0&&(ke=q(m.getMonth()-H.getMonth()))===0&&(ke=q(m.getDate()-H.getDate())),ke}function j(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function Te(m){var H=m.Ra;for(m=new Date(new Date(m.Sa+1900,0,1).getTime());0<H;){var q=m.getMonth(),ke=(Ye(m.getFullYear())?Zt:Kt)[q];if(H>ke-m.getDate())H-=ke-m.getDate()+1,m.setDate(1),11>q?m.setMonth(q+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+H);break}}return q=new Date(m.getFullYear()+1,0,4),H=j(new Date(m.getFullYear(),0,4)),q=j(q),0>=v(H,m)?0>=v(q,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,f>>>=0;var ne=b()[f+40>>>2>>>0];f={ob:l()[f>>>2>>>0],nb:l()[f+4>>>2>>>0],Ta:l()[f+8>>>2>>>0],Xa:l()[f+12>>>2>>>0],Ua:l()[f+16>>>2>>>0],Sa:l()[f+20>>>2>>>0],Na:l()[f+24>>>2>>>0],Ra:l()[f+28>>>2>>>0],ub:l()[f+32>>>2>>>0],mb:l()[f+36>>>2>>>0],pb:ne?$e(ne):""},n=$e(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in ne)n=n.replace(new RegExp(me,"g"),ne[me]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");ne={"%a":m=>fr[m.Na].substring(0,3),"%A":m=>fr[m.Na],"%b":m=>lr[m.Ua].substring(0,3),"%B":m=>lr[m.Ua],"%C":m=>O((m.Sa+1900)/100|0,2),"%d":m=>O(m.Xa,2),"%e":m=>y(m.Xa,2," "),"%g":m=>Te(m).toString().substring(2),"%G":m=>Te(m),"%H":m=>O(m.Ta,2),"%I":m=>(m=m.Ta,m==0?m=12:12<m&&(m-=12),O(m,2)),"%j":m=>{for(var H=0,q=0;q<=m.Ua-1;H+=(Ye(m.Sa+1900)?Zt:Kt)[q++]);return O(m.Xa+H,3)},"%m":m=>O(m.Ua+1,2),"%M":m=>O(m.nb,2),"%n":()=>`\n`,"%p":m=>0<=m.Ta&&12>m.Ta?"AM":"PM","%S":m=>O(m.ob,2),"%t":()=>"	","%u":m=>m.Na||7,"%U":m=>O(Math.floor((m.Ra+7-m.Na)/7),2),"%V":m=>{var H=Math.floor((m.Ra+7-(m.Na+6)%7)/7);if(2>=(m.Na+371-m.Ra-2)%7&&H++,H)H==53&&(q=(m.Na+371-m.Ra)%7,q==4||q==3&&Ye(m.Sa)||(H=1));else{H=52;var q=(m.Na+7-m.Ra-1)%7;(q==4||q==5&&Ye(m.Sa%400-1))&&H++}return O(H,2)},"%w":m=>m.Na,"%W":m=>O(Math.floor((m.Ra+7-(m.Na+6)%7)/7),2),"%y":m=>(m.Sa+1900).toString().substring(2),"%Y":m=>m.Sa+1900,"%z":m=>{m=m.mb;var H=0<=m;return m=Math.abs(m)/60,(H?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in ne)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),ne[me](f)));return n=n.replace(/\\0\\0/g,"%"),me=zr(n),me.length>r?0:(Yr(me,e),me.length-1)}C.Wa();var jr=[T,ut,c,E,P,ie,Qe,Ze,d,k,$,Ee,Ke,Lt,kt,Wt,Gt,$t,jt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,r,n){throw e>>>=0,new t(e).Wa(r>>>0,n>>>0),o=e,i++,o},L:function(e){nr(e>>>0,!W,1,!R,131072,!1),C.ab()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):C.Za(C.Ma[e])},H:w,h:E,S:P,D:ie,F:Qe,T:Ze,Q:d,J:k,P:$,n:Ee,E:Ke,B:Lt,R:kt,C:Wt,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ft()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=C.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,n,f){r>>>=0,gt.length=n,f=f>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[f+y>>>0];return e=0>e?Ne[-e-1]:jr[e],C.ib=r,r=e.apply(null,gt),C.ib=0,r},K:mt,o:function(e){B&&C.Ma[e>>>0].ref()},s:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),r=(Ye(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=r,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=f&&e.getTimezoneOffset()==Math.min(f,r))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],f=r.getTimezoneOffset(),y=new Date(r.getFullYear(),6,1).getTimezoneOffset(),O=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(O,y);return 0>n?l()[e+32>>>2>>>0]=+(y!=O&&v==f):0<n!=(v==f)&&(y=Math.max(O,y),r.setTime(r.getTime()+6e4*((0<n?v:y)-f))),l()[e+24>>>2>>>0]=r.getDay(),n=(Ye(r.getFullYear())?Nt:Ht)[r.getMonth()]+r.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=r.getSeconds(),l()[e+4>>>2>>>0]=r.getMinutes(),l()[e+8>>>2>>>0]=r.getHours(),l()[e+12>>>2>>>0]=r.getDate(),l()[e+16>>>2>>>0]=r.getMonth(),l()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),isNaN(e)?(l()[tr()>>>2>>>0]=61,e=-1):e/=1e3,ir((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},q:Gt,r:$t,y:function(e,r,n){function f(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,r>>>=0,n>>>=0;var y=new Date().getFullYear(),O=new Date(y,0,1),v=new Date(y,6,1);y=O.getTimezoneOffset();var j=v.getTimezoneOffset(),Te=Math.max(y,j);b()[e>>>2>>>0]=60*Te,l()[r>>>2>>>0]=+(y!=j),e=f(O),r=f(v),e=zt(e),r=zt(r),j<y?(b()[n>>>2>>>0]=e,b()[n+4>>>2>>>0]=r):(b()[n>>>2>>>0]=r,b()[n+4>>>2>>>0]=e)},c:()=>{K("")},O:function(e,r,n){e>>>=0,r>>>=0,n>>>=0,ht.length=0;for(var f;f=h()[r++>>>0];){var y=f!=105;y&=f!=112,n+=y&&n%8?4:0,ht.push(f==112?b()[n>>>2>>>0]:f==105?l()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Be+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>B?(br(),tt(Or)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=h().length;if(e<=r||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=r*(1+.2/n);f=Math.min(f,e+100663296);var y=Math;f=Math.max(e,f);e:{y=(y.min.call(y,4294901760,f+(65536-f%65536)%65536)-Y.buffer.byteLength+65535)/65536;try{Y.grow(y),be();var O=1;break e}catch{}O=void 0}if(O)return!0}return!1},M:jt,N:qt,G:ze,g:Vt,m:Jt,v:Xt,l:Qt,a:Y||s.wasmMemory,w:er,d:function(e,r,n,f){return er(e>>>0,r>>>0,n>>>0,f>>>0)}},M=function(){function e(n,f){return M=n.exports,M=Vr(),C.bb.push(M.za),Xe=M.Aa,Fe.unshift(M.V),ce=f,re(),M}var r={a:qr};if(pe++,s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(n){ee(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return at(r,function(n){e(n.instance,n.module)}).catch(D),{}}();s._OrtInit=(e,r)=>(s._OrtInit=M.W)(e,r),s._OrtGetLastError=(e,r)=>(s._OrtGetLastError=M.X)(e,r),s._OrtCreateSessionOptions=(e,r,n,f,y,O,v,j,Te,ne)=>(s._OrtCreateSessionOptions=M.Y)(e,r,n,f,y,O,v,j,Te,ne),s._OrtAppendExecutionProvider=(e,r)=>(s._OrtAppendExecutionProvider=M.Z)(e,r),s._OrtAddFreeDimensionOverride=(e,r,n)=>(s._OrtAddFreeDimensionOverride=M._)(e,r,n),s._OrtAddSessionConfigEntry=(e,r,n)=>(s._OrtAddSessionConfigEntry=M.$)(e,r,n),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=M.aa)(e),s._OrtCreateSession=(e,r,n)=>(s._OrtCreateSession=M.ba)(e,r,n),s._OrtReleaseSession=e=>(s._OrtReleaseSession=M.ca)(e),s._OrtGetInputOutputCount=(e,r,n)=>(s._OrtGetInputOutputCount=M.da)(e,r,n),s._OrtGetInputName=(e,r)=>(s._OrtGetInputName=M.ea)(e,r),s._OrtGetOutputName=(e,r)=>(s._OrtGetOutputName=M.fa)(e,r),s._OrtFree=e=>(s._OrtFree=M.ga)(e),s._OrtCreateTensor=(e,r,n,f,y,O)=>(s._OrtCreateTensor=M.ha)(e,r,n,f,y,O),s._OrtGetTensorData=(e,r,n,f,y)=>(s._OrtGetTensorData=M.ia)(e,r,n,f,y),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=M.ja)(e),s._OrtCreateRunOptions=(e,r,n,f)=>(s._OrtCreateRunOptions=M.ka)(e,r,n,f),s._OrtAddRunConfigEntry=(e,r,n)=>(s._OrtAddRunConfigEntry=M.la)(e,r,n),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=M.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=M.na)(e),s._OrtBindInput=(e,r,n)=>(s._OrtBindInput=M.oa)(e,r,n),s._OrtBindOutput=(e,r,n,f)=>(s._OrtBindOutput=M.pa)(e,r,n,f),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=M.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=M.ra)(e),s._OrtRunWithBinding=(e,r,n,f,y)=>(s._OrtRunWithBinding=M.sa)(e,r,n,f,y),s._OrtRun=(e,r,n,f,y,O,v,j)=>(s._OrtRun=M.ta)(e,r,n,f,y,O,v,j),s._OrtEndProfiling=e=>(s._OrtEndProfiling=M.ua)(e);var tr=()=>(tr=M.va)(),lt=s._pthread_self=()=>(lt=s._pthread_self=M.wa)(),rr=s._malloc=e=>(rr=s._malloc=M.xa)(e);s._free=e=>(s._free=M.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=M.za)();var nr=s.__emscripten_thread_init=(e,r,n,f,y,O)=>(nr=s.__emscripten_thread_init=M.Ba)(e,r,n,f,y,O);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=M.Ca)();var ar=(e,r,n,f)=>(ar=M.Da)(e,r,n,f),bt=e=>(bt=M.Ea)(e),wt=s.__emscripten_thread_exit=e=>(wt=s.__emscripten_thread_exit=M.Fa)(e),or=()=>(or=M.Ga)(),ir=e=>(ir=M.Ha)(e),sr=(e,r)=>(sr=M.Ia)(e,r),vt=()=>(vt=M.Ja)(),ct=e=>(ct=M.Ka)(e),_t=e=>(_t=M.La)(e);function Vr(){var e=M;e=Object.assign({},e);var r=f=>()=>f()>>>0,n=f=>y=>f(y)>>>0;return e.va=r(e.va),e.wa=r(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=r(e.Ja),e.La=n(e.La),e}s.wasmMemory=Y,s.stackAlloc=_t,s.stackSave=vt,s.stackRestore=ct,s.keepRuntimeAlive=()=>0<Be,s.UTF8ToString=$e,s.stringToUTF8=oe,s.lengthBytesUTF8=X,s.ExitStatus=Re,s.PThread=C;var dt;ve=function e(){dt||ur(),dt||(ve=e)};function ur(){if(!(0<pe))if(_)A(s),_||Le(Fe),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Ae.unshift(s.preRun.shift());Le(Ae),0<pe||dt||(dt=!0,s.calledRun=!0,U||(_||Le(Fe),A(s),_||Le(Se)))}}return ur(),p.ready}})();typeof vr=="object"&&typeof Ft=="object"?Ft.exports=wr:typeof define=="function"&&define.amd&&define([],()=>wr)});var Sr=et((wn,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=gr();var an=_r(),Pt,Rt=!1,pt=!1,Er=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,p)=>u?"ort-training-wasm-simd.wasm":p?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Mr=async u=>{if(Rt)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Er)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let p=u.initTimeout,a=u.numThreads,h=u.simd,l=on(a),b=h&&sn(),g=u.wasmPaths,s=typeof g=="string"?g:void 0,A=un(b,l),D=typeof g=="object"?g[A]:void 0,I=!1,L=[];if(p>0&&L.push(new Promise(F=>{setTimeout(()=>{I=!0,F()},p)})),L.push(new Promise((F,R)=>{let W=l?an:Tr,B={locateFile:(_,x)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Sr()],{type:"text/javascript"})):_.endsWith(".wasm")?D||(s??x)+A:x+_};if(l)if(B.numThreads=a,typeof Blob>"u")B.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${W.toString()};`;B.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}W(B).then(_=>{pt=!1,Rt=!0,Pt=_,F()},_=>{pt=!1,Er=!0,R(_)})})),await Promise.race(L),I)throw new Error(`WebAssembly backend initializing failed due to timeout: ${p}ms`)},Q=()=>{if(Rt&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var Z=(u,p)=>{let a=Q(),h=a.lengthBytesUTF8(u)+1,l=a._malloc(h);return a.stringToUTF8(u,l,h),p.push(l),l},rt=(u,p,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([l,b])=>{let g=p?p+l:l;if(typeof b=="object")rt(b,g+".",a,h);else if(typeof b=="string"||typeof b=="number")h(g,b.toString());else if(typeof b=="boolean")h(g,b?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof b}`)})},V=u=>{let p=Q(),a=p.stackSave();try{let h=p.stackAlloc(8);p._OrtGetLastError(h,h+4);let l=p.HEAP32[h/4],b=p.HEAPU32[h/4+1],g=b?p.UTF8ToString(b):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{p.stackRestore(a)}};var Ar=u=>{let p=Q(),a=0,h=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let b=0;return u?.tag!==void 0&&(b=Z(u.tag,h)),a=p._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,b),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&rt(u.extra,"",new WeakSet,(g,s)=>{let A=Z(g,h),D=Z(s,h);p._OrtAddRunConfigEntry(a,A,D)!==0&&V(`Can\'t set a run config entry: ${g} - ${s}.`)}),[a,h]}catch(b){throw a!==0&&p._OrtReleaseRunOptions(a),h.forEach(g=>p._free(g)),b}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let p=u.extra.session;p.use_ort_model_bytes_directly||(p.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,p,a)=>{for(let h of p){let l=typeof h=="string"?h:h.name;switch(l){case"webnn":if(l="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let s=Z("deviceType",a),A=Z(g.deviceType,a);Q()._OrtAddSessionConfigEntry(u,s,A)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let s=g.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let A=Z("numThreads",a),D=Z(s.toString(),a);Q()._OrtAddSessionConfigEntry(u,A,D)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let s=Z("powerPreference",a),A=Z(g.powerPreference,a);Q()._OrtAddSessionConfigEntry(u,s,A)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let s=Z("preferredLayout",a),A=Z(g.preferredLayout,a);Q()._OrtAddSessionConfigEntry(u,s,A)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let b=Z(l,a);Q()._OrtAppendExecutionProvider(u,b)!==0&&V(`Can\'t append execution provider: ${l}.`)}},Cr=u=>{let p=Q(),a=0,h=[],l=u||{};cn(l);try{let b=fn(l.graphOptimizationLevel??"all"),g=ln(l.executionMode??"sequential"),s=typeof l.logId=="string"?Z(l.logId,h):0,A=l.logSeverityLevel??2;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log serverity level is not valid: ${A}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let I=typeof l.optimizedModelFilePath=="string"?Z(l.optimizedModelFilePath,h):0;if(a=p._OrtCreateSessionOptions(b,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,s,A,D,I),a===0&&V("Can\'t create session options."),l.executionProviders&&dn(a,l.executionProviders,h),l.freeDimensionOverrides)for(let[L,F]of Object.entries(l.freeDimensionOverrides)){if(typeof L!="string")throw new Error(`free dimension override name must be a string: ${L}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let R=Z(L,h);p._OrtAddFreeDimensionOverride(a,R,F)!==0&&V(`Can\'t set a free dimension override: ${L} - ${F}.`)}return l.extra!==void 0&&rt(l.extra,"",new WeakSet,(L,F)=>{let R=Z(L,h),W=Z(F,h);p._OrtAddSessionConfigEntry(a,R,W)!==0&&V(`Can\'t set a session config entry: ${L} - ${F}.`)}),[a,h]}catch(b){throw a!==0&&p._OrtReleaseSessionOptions(a),h.forEach(g=>p._free(g)),b}};var Ut=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],xr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Pr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Rr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Ur=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(p){if(p.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let l of a)h.push(l);return new Uint8Array(Buffer.concat(h))}throw p}else{let p=await fetch(u);if(!p.ok)throw new Error(`failed to load external data file: ${u}`);let a=p.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await p.arrayBuffer());{if(!p.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let l=p.body.getReader(),b;try{b=new ArrayBuffer(h)}catch(s){if(s instanceof RangeError){let A=Math.ceil(h/65536);b=new WebAssembly.Memory({initial:A,maximum:A}).buffer}else throw s}let g=0;for(;;){let{done:s,value:A}=await l.read();if(s)break;let D=A.byteLength;new Uint8Array(b,g,D).set(A),g+=D}return new Uint8Array(b,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,p)=>{Q()._OrtInit(u,p)!==0&&V("Can\'t initialize onnxruntime.")},Br=async u=>{pn(u.wasm.numThreads,Fr(u.logLevel))},Lr=async(u,p)=>{},nt=new Map,mn=u=>{let p=Q(),a=p.stackSave();try{let h=p.stackAlloc(8);return p._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[p.HEAP32[h/4],p.HEAP32[h/4+1]]}finally{p.stackRestore(a)}},Bt=u=>{let p=Q(),a=p._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return p.HEAPU8.set(u,a),[a,u.byteLength]},kr=async(u,p)=>{let a,h,l=Q();Array.isArray(u)?[a,h]=u:u.buffer===l.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Bt(u);let b=0,g=0,s=0,A=[],D=[],I=[];try{if([g,A]=Cr(p),p?.externalData&&l.mountExternalData){let x=[];for(let N of p.externalData){let he=typeof N=="string"?N:N.path;x.push(Ur(typeof N=="string"?N:N.data).then(se=>{l.mountExternalData(he,se)}))}await Promise.all(x)}b=l._OrtCreateSession(a,h,g),b===0&&V("Can\'t create a session.");let[L,F]=mn(b),R=[],W=[],B=[];for(let x=0;x<L;x++){let N=l._OrtGetInputName(b,x);N===0&&V("Can\'t get an input name."),D.push(N),R.push(l.UTF8ToString(N))}for(let x=0;x<F;x++){let N=l._OrtGetOutputName(b,x);N===0&&V("Can\'t get an output name."),I.push(N);let he=l.UTF8ToString(N);W.push(he)}let _=null;return nt.set(b,[b,D,I,_]),[b,R,W]}catch(L){throw D.forEach(F=>l._OrtFree(F)),I.forEach(F=>l._OrtFree(F)),s!==0&&l._OrtReleaseBinding(s),b!==0&&l._OrtReleaseSession(b),L}finally{l._free(a),g!==0&&l._OrtReleaseSessionOptions(g),A.forEach(L=>l._free(L)),l.unmountExternalData?.()}},Wr=u=>{let p=Q(),a=nt.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,l,b,g]=a;g&&p._OrtReleaseBinding(g.handle),p.jsepUnregisterBuffers?.(u),l.forEach(s=>p._OrtFree(s)),b.forEach(s=>p._OrtFree(s)),p._OrtReleaseSession(h),nt.delete(u)},Ir=(u,p,a,h,l)=>{if(!u){p.push(0);return}let b=Q(),g=u[0],s=u[1],A=u[3],D,I;if(g==="string"&&A==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(A==="gpu-buffer"){let R=u[2].gpuBuffer,W=It(Ut(g));I=s.reduce((B,_)=>B*_,1)*W,D=b.jsepRegisterBuffer(h,l,R,I)}else{let R=u[2];if(Array.isArray(R)){I=4*R.length,D=b._malloc(I),a.push(D);let W=D/4;for(let B=0;B<R.length;B++){if(typeof R[B]!="string")throw new TypeError(`tensor data at index ${B} is not a string`);b.HEAPU32[W++]=Z(R[B],a)}}else I=R.byteLength,D=b._malloc(I),a.push(D),b.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,I),D)}let L=b.stackSave(),F=b.stackAlloc(4*s.length);try{let R=F/4;s.forEach(B=>b.HEAP32[R++]=B);let W=b._OrtCreateTensor(Ut(g),D,I,F,s.length,Rr(A));W===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${l}.`),p.push(W)}finally{b.stackRestore(L)}},Nr=async(u,p,a,h,l,b)=>{let g=Q(),s=nt.get(u);if(!s)throw new Error(`cannot run inference. invalid session id: ${u}`);let[A,D,I,L]=s,F=p.length,R=h.length,W=0,B=[],_=[],x=[],N=[],he=g.stackSave(),se=g.stackAlloc(F*4),ae=g.stackAlloc(F*4),S=g.stackAlloc(R*4),z=g.stackAlloc(R*4);try{[W,B]=Ar(b);for(let U=0;U<F;U++)Ir(a[U],_,N,u,p[U]);for(let U=0;U<R;U++)Ir(l[U],x,N,u,F+h[U]);let ue=se/4,Ue=ae/4,Ie=S/4,ee=z/4;for(let U=0;U<F;U++)g.HEAPU32[ue++]=_[U],g.HEAPU32[Ue++]=D[p[U]];for(let U=0;U<R;U++)g.HEAPU32[Ie++]=x[U],g.HEAPU32[ee++]=I[h[U]];let Y;Y=await g._OrtRun(A,ae,se,F,z,R,S,W),Y!==0&&V("failed to call OrtRun().");let ce=[];for(let U=0;U<R;U++){let te=g.HEAPU32[S/4+U];if(te===x[U]){ce.push(l[U]);continue}let de=g.stackSave(),ge=g.stackAlloc(4*4),ye=!1,J,fe=0;try{g._OrtGetTensorData(te,ge,ge+4,ge+8,ge+12)!==0&&V(`Can\'t access output tensor data on index ${U}.`);let Me=ge/4,Ae=g.HEAPU32[Me++];fe=g.HEAPU32[Me++];let Fe=g.HEAPU32[Me++],Se=g.HEAPU32[Me++],pe=[];for(let re=0;re<Se;re++)pe.push(g.HEAPU32[Fe/4+re]);g._OrtFree(Fe);let we=pe.reduce((re,K)=>re*K,1);J=Dr(Ae);let ve=L?.outputPreferredLocations[h[U]];if(J==="string"){if(ve==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],K=fe/4;for(let Ce=0;Ce<we;Ce++){let Oe=g.HEAPU32[K++],_e=Ce===we-1?void 0:g.HEAPU32[K]-Oe;re.push(g.UTF8ToString(Oe,_e))}ce.push([J,pe,re,"cpu"])}else if(ve==="gpu-buffer"&&we>0){let re=g.jsepGetBuffer(fe),K=It(Ae);if(K===void 0||!Pr(J))throw new Error(`Unsupported data type: ${J}`);ye=!0,ce.push([J,pe,{gpuBuffer:re,download:g.jsepCreateDownloader(re,we*K,J),dispose:()=>{g._OrtReleaseTensor(te)}},"gpu-buffer"])}else{let re=xr(J),K=new re(we);new Uint8Array(K.buffer,K.byteOffset,K.byteLength).set(g.HEAPU8.subarray(fe,fe+K.byteLength)),ce.push([J,pe,K,"cpu"])}}finally{g.stackRestore(de),J==="string"&&fe&&g._free(fe),ye||g._OrtReleaseTensor(te)}}return L&&g._OrtClearBoundOutputs(L.handle),ce}finally{g.stackRestore(he),_.forEach(ue=>g._OrtReleaseTensor(ue)),x.forEach(ue=>g._OrtReleaseTensor(ue)),N.forEach(ue=>g._free(ue)),W!==0&&g._OrtReleaseRunOptions(W),B.forEach(ue=>g._free(ue))}},Hr=u=>{let p=Q(),a=nt.get(u);if(!a)throw new Error("invalid session id");let h=a[0],l=p._OrtEndProfiling(h);l===0&&V("Can\'t get an profile file name."),p._OrtFree(l)},Gr=u=>{let p=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&p.push(h.buffer)}return p};self.onmessage=u=>{let{type:p,in:a}=u.data;try{switch(p){case"init-wasm":Mr(a.wasm).then(()=>{Br(a).then(()=>{postMessage({type:p})},h=>{postMessage({type:p,err:h})})},h=>{postMessage({type:p,err:h})});break;case"init-ep":{let{epName:h,env:l}=a;Lr(l,h).then(()=>{postMessage({type:p})},b=>{postMessage({type:p,err:b})});break}case"copy-from":{let{buffer:h}=a,l=Bt(h);postMessage({type:p,out:l});break}case"create":{let{model:h,options:l}=a;kr(h,l).then(b=>{postMessage({type:p,out:b})},b=>{postMessage({type:p,err:b})});break}case"release":Wr(a),postMessage({type:p});break;case"run":{let{sessionId:h,inputIndices:l,inputs:b,outputIndices:g,options:s}=a;Nr(h,l,b,g,new Array(g.length).fill(null),s).then(A=>{A.some(D=>D[3]!=="cpu")?postMessage({type:p,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:p,out:A},Gr(A))},A=>{postMessage({type:p,err:A})});break}case"end-profiling":Hr(a),postMessage({type:p});break;default:}}catch(h){postMessage({type:p,err:h})}};})();\n'});var Ke,Ee,It,nr,ar,Fr,kr,ct,dt,go,rr,ga,ya,wa,ba,Oa,va,Ta,Lr=G(()=>{"use strict";Xe();tr();Qe();Ke=()=>!!V.wasm.proxy&&typeof document<"u",It=!1,nr=!1,ar=!1,kr=new Map,ct=(n,r)=>{let t=kr.get(n);t?t.push(r):kr.set(n,[r])},dt=()=>{if(It||!nr||ar||!Ee)throw new Error("worker not ready")},go=n=>{switch(n.data.type){case"init-wasm":It=!1,n.data.err?(ar=!0,Fr[1](n.data.err)):(nr=!0,Fr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=kr.get(n.data.type);n.data.err?r.shift()[1](n.data.err):r.shift()[0](n.data.out);break}default:}},rr=typeof document<"u"?document?.currentScript?.src:void 0,ga=async()=>{if(!nr){if(It)throw new Error("multiple calls to 'initWasm()' detected.");if(ar)throw new Error("previous call to 'initWasm()' failed.");if(It=!0,Ke())return V.wasm.wasmPaths===void 0&&rr&&rr.indexOf("blob:")!==0&&(V.wasm.wasmPaths=rr.substr(0,+rr.lastIndexOf("/")+1)),new Promise((n,r)=>{Ee?.terminate();let t=URL.createObjectURL(new Blob([ha()],{type:"text/javascript"}));Ee=new Worker(t,{name:"ort-wasm-proxy-worker"}),Ee.onerror=a=>r(a),Ee.onmessage=go,URL.revokeObjectURL(t),Fr=[n,r];let u={type:"init-wasm",in:V};Ee.postMessage(u)});try{await sa(V.wasm),await ua(V),nr=!0}catch(n){throw ar=!0,n}finally{It=!1}}},ya=async n=>{if(Ke())return dt(),new Promise((r,t)=>{ct("init-ep",[r,t]);let u={type:"init-ep",in:{epName:n,env:V}};Ee.postMessage(u)});await fa(V,n)},wa=async n=>Ke()?(dt(),new Promise((r,t)=>{ct("copy-from",[r,t]);let u={type:"copy-from",in:{buffer:n}};Ee.postMessage(u,[n.buffer])})):Pt(n),ba=async(n,r)=>{if(Ke()){if(r?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return dt(),new Promise((t,u)=>{ct("create",[t,u]);let a={type:"create",in:{model:n,options:r}},c=[];n instanceof Uint8Array&&c.push(n.buffer),Ee.postMessage(a,c)})}else return la(n,r)},Oa=async n=>{if(Ke())return dt(),new Promise((r,t)=>{ct("release",[r,t]);let u={type:"release",in:n};Ee.postMessage(u)});ca(n)},va=async(n,r,t,u,a,c)=>{if(Ke()){if(t.some(l=>l[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(a.some(l=>l))throw new Error("pre-allocated output tensor is not supported for proxy.");return dt(),new Promise((l,i)=>{ct("run",[l,i]);let g=t,m={type:"run",in:{sessionId:n,inputIndices:r,inputs:g,outputIndices:u,options:c}};Ee.postMessage(m,ma(g))})}else return da(n,r,t,u,a,c)},Ta=async n=>{if(Ke())return dt(),new Promise((r,t)=>{ct("end-profiling",[r,t]);let u={type:"end-profiling",in:n};Ee.postMessage(u)});pa(n)}});var Ze,sr,or,Nr=G(()=>{"use strict";Xe();Lr();Zt();Ur();Ze=(n,r)=>{switch(n.location){case"cpu":return[n.type,n.dims,n.data,"cpu"];case"gpu-buffer":return[n.type,n.dims,{gpuBuffer:n.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${n.location} for ${r()}`)}},sr=n=>{switch(n[3]){case"cpu":return new ce(n[0],n[2],n[1]);case"gpu-buffer":{let r=n[0];if(!Kt(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:t,download:u,dispose:a}=n[2];return ce.fromGpuBuffer(t,{dataType:r,dims:n[1],download:u,dispose:a})}default:throw new Error(`invalid data location: ${n[3]}`)}},or=class{async fetchModelAndCopyToWasmMemory(r){return wa(await Ct(r))}async loadModel(r,t){qe();let u;typeof r=="string"?typeof process<"u"&&process.versions&&process.versions.node?u=await Ct(r):u=await this.fetchModelAndCopyToWasmMemory(r):u=r,[this.sessionId,this.inputNames,this.outputNames]=await ba(u,t),Je()}async dispose(){return Oa(this.sessionId)}async run(r,t,u){qe();let a=[],c=[];Object.entries(r).forEach(b=>{let _=b[0],R=b[1],A=this.inputNames.indexOf(_);if(A===-1)throw new Error(`invalid input '${_}'`);a.push(R),c.push(A)});let l=[],i=[];Object.entries(t).forEach(b=>{let _=b[0],R=b[1],A=this.outputNames.indexOf(_);if(A===-1)throw new Error(`invalid output '${_}'`);l.push(R),i.push(A)});let g=a.map((b,_)=>Ze(b,()=>`input "${this.inputNames[c[_]]}"`)),m=l.map((b,_)=>b?Ze(b,()=>`output "${this.outputNames[i[_]]}"`):null),y=await va(this.sessionId,c,g,i,m,u),T={};for(let b=0;b<y.length;b++)T[this.outputNames[i[b]]]=l[b]??sr(y[b]);return Je(),T}startProfiling(){}endProfiling(){Ta(this.sessionId)}}});var yo,ir,_a=G(()=>{"use strict";Xe();Lr();Nr();yo=()=>{if((typeof V.wasm.initTimeout!="number"||V.wasm.initTimeout<0)&&(V.wasm.initTimeout=0),typeof V.wasm.simd!="boolean"&&(V.wasm.simd=!0),typeof V.wasm.proxy!="boolean"&&(V.wasm.proxy=!1),typeof V.wasm.trace!="boolean"&&(V.wasm.trace=!1),typeof V.wasm.numThreads!="number"||!Number.isInteger(V.wasm.numThreads)||V.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(V.wasm.numThreads=1);let n=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;V.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},ir=class{async init(r){yo(),await ga(),await ya(r)}async createInferenceSessionHandler(r,t){let u=new or;return await u.loadModel(r,t),Promise.resolve(u)}}});var Re,Oe,Sa,wo,Ea,Hr,Aa,ur,Ma,Ca,Ra,Pa,Ia,Wr,xa,Da,Ba,Ua=G(()=>{"use strict";xr();Dr();Zt();tr();Qe();St();Re="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",Oe=(n,r,t=!0)=>{t&&n!==0?Q(r):!t&&n===0&&Q(r)},Sa=n=>{let r=H(),[t,u]=n,a=0;try{if(r._OrtTrainingLoadCheckpoint)a=r._OrtTrainingLoadCheckpoint(t,u);else throw new Error(Re);return Oe(a,"Error occurred when trying to create a CheckpointState",!1),a}catch(c){throw r._OrtTrainingReleaseCheckpoint&&a!==0&&r._OrtTrainingReleaseCheckpoint(a),c}finally{r._OrtFree(n[0])}},wo=(n,r)=>{let t=H(),u=t.stackSave();try{let a=t.stackAlloc(8);if(t._OrtTrainingGetModelInputOutputCount){let c=t._OrtTrainingGetModelInputOutputCount(n,a,a+4,r);return Oe(c,"Can't get session input/output count."),[t.HEAP32[a/4],t.HEAP32[a/4+1]]}else throw new Error(Re)}finally{t.stackRestore(u)}},Ea=(n,r,t,u)=>{let a=[],c=H();for(let l=0;l<r;l++)if(c._OrtTrainingGetModelInputOutputName){let i=c._OrtTrainingGetModelInputOutputName(n,l,t,u);Oe(i,`Can't get input or output name -- is input: ${t}, index ${l}`,!1),a.push(c.UTF8ToString(i)),c._free(i)}else throw new Error(Re);return a},Hr=(n,r)=>{let t=[],u=[],[a,c]=wo(n,r);return t=Ea(n,a,!0,r),u=Ea(n,c,!1,r),[t,u]},Aa=(n,r,t,u,a)=>{let c=H(),l=0,i=0,g=[];try{if([i,g]=Xt(a),c._OrtTrainingCreateSession)l=c._OrtTrainingCreateSession(i,n,r[0],r[1],t[0],t[1],u[0],u[1]);else throw new Error(Re);return Oe(l,"Error occurred when trying to create a TrainingSession",!1),l}catch(m){throw c._OrtTrainingReleaseSession&&l!==0&&c._OrtTrainingReleaseSession(l),m}finally{c._free(r[0]),c._free(t[0]),c._free(u[0]),i!==0&&c._OrtReleaseSessionOptions(i),g.forEach(m=>c._free(m))}},ur=(n,r,t,u,a,c)=>{let l=r.length;for(let y=0;y<l;y++)er(t[y],u,a,n,c+r[y]);let i=H(),g=i.stackAlloc(l*4),m=g/4;for(let y=0;y<l;y++)i.HEAPU32[m++]=u[y];return g},Ma=(n,r,t,u)=>{let a=H(),c=[];for(let l=0;l<r;l++){let i=a.HEAPU32[n/4+l];if(i===t[l]){c.push(u[l]);continue}let g=a.stackSave(),m=a.stackAlloc(4*4),y,T=0;try{let b=a._OrtGetTensorData(i,m,m+4,m+8,m+12);Oe(b,`Can't access output tensor data on index ${l}.`);let _=m/4,R=a.HEAPU32[_++];T=a.HEAPU32[_++];let A=a.HEAPU32[_++],M=a.HEAPU32[_++],I=[];for(let W=0;W<M;W++)I.push(a.HEAPU32[A/4+W]);a._OrtFree(A);let k=I.reduce((W,z)=>W*z,1);if(y=Qt(R),y==="string"){let W=[],z=T/4;for(let j=0;j<k;j++){let x=a.HEAPU32[z++],q=j===k-1?void 0:a.HEAPU32[z]-x;W.push(a.UTF8ToString(x,q))}c.push([y,I,W,"cpu"])}else{let W=At(y),z=new W(k);new Uint8Array(z.buffer,z.byteOffset,z.byteLength).set(a.HEAPU8.subarray(T,T+z.byteLength)),c.push([y,I,z,"cpu"])}}finally{a.stackRestore(g),y==="string"&&T&&a._free(T),a._OrtReleaseTensor(i)}}return c},Ca=async n=>{let r=H();if(r._OrtTrainingLazyResetGrad){let t=r._OrtTrainingLazyResetGrad(n);Oe(t,"Can't call lazyResetGrad.")}else throw new Error(Re)},Ra=async(n,r,t,u,a,c)=>{let l=H(),i=r.length,g=u.length,m=0,y=[],T=[],b=[],_=[],R=l.stackSave();try{[m,y]=ft(c);let A=ur(n,r,t,T,_,0),M=ur(n,u,a,b,_,i);if(l._OrtTrainingRunTrainStep){let I=l._OrtTrainingRunTrainStep(n,A,i,M,g,m);Oe(I,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}else throw new Error(Re);return Ma(M,g,b,a)}finally{l.stackRestore(R),T.forEach(A=>l._OrtReleaseTensor(A)),b.forEach(A=>l._OrtReleaseTensor(A)),_.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Pa=async(n,r)=>{let t=H(),u=0,a=[];try{if([u,a]=ft(r),t._OrtTrainingOptimizerStep){let c=t._OrtTrainingOptimizerStep(n,u);Oe(c,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}else throw new Error(Re)}finally{u!==0&&t._OrtReleaseRunOptions(u),a.forEach(c=>t._free(c))}},Ia=async(n,r,t,u,a,c)=>{let l=H(),i=r.length,g=u.length,m=0,y=[],T=[],b=[],_=[],R=l.stackSave();try{[m,y]=ft(c);let A=ur(n,r,t,T,_,0),M=ur(n,u,a,b,_,i);if(l._OrtTrainingEvalStep){let I=l._OrtTrainingEvalStep(n,A,i,M,g,m);Oe(I,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}else throw new Error(Re);return Ma(M,g,b,a)}finally{l.stackRestore(R),T.forEach(A=>l._OrtReleaseTensor(A)),b.forEach(A=>l._OrtReleaseTensor(A)),_.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Wr=(n,r)=>{let t=H(),u=t.stackSave();try{let a=t.stackAlloc(4);if(t._OrtTrainingGetParametersSize){let c=t._OrtTrainingGetParametersSize(n,a,r);return Oe(c,"Can't get parameters size"),t.HEAP32[a/4]}else throw new Error(Re)}finally{t.stackRestore(u)}},xa=async(n,r)=>{let t=H(),u=t.stackSave(),a="float32",c="cpu",l=Wr(n,r),i=0,g=4*l,m=t._malloc(g),y=[l],T=t.stackAlloc(4),b=T/4;t.HEAP32[b]=l;try{if(i=t._OrtCreateTensor(lt(a),m,g,T,y.length,Mt(c)),Oe(i,`Can't create tensor for getContiguousParameters. session=${n}.`,!1),t._OrtTrainingCopyParametersToBuffer){let M=t._OrtTrainingCopyParametersToBuffer(n,i,l,r);Oe(M,"Can't get contiguous parameters.")}else throw new Error(Re);let _=At(a),R=new _(l),A=[];if(new Uint8Array(R.buffer,R.byteOffset,R.byteLength).set(t.HEAPU8.subarray(m,m+g)),A.push([a,y,R,c]),A.length!==1)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of
     one, got ${A.length}`);return A[0]}finally{i!==0&&t._OrtReleaseTensor(i),t._free(m),t._free(T),t.stackRestore(u)}},Da=async(n,r,t)=>{let u=H(),a=u.stackSave(),c="float32",l="cpu",i=r.length,g=i/4,m=u._malloc(i);u.HEAPU8.set(r,m);let y=u.stackAlloc(4);u.HEAP32[y/4]=g;let T=1,b=0;try{if(b=u._OrtCreateTensor(lt(c),m,i,y,T,Mt(l)),Oe(b,`Can't create tensor for input/output. session=${n}`,!1),u._OrtTrainingCopyParametersFromBuffer){let _=u._OrtTrainingCopyParametersFromBuffer(n,b,g,t);Oe(_,"Can't copy buffer to parameters.")}else throw new Error(Re)}finally{b!==0&&u._OrtReleaseTensor(b),u.stackRestore(a),u._free(m),u._free(y)}},Ba=(n,r)=>{let t=H();t._OrtTrainingReleaseSession&&t._OrtTrainingReleaseSession(r),t._OrtTrainingReleaseCheckpoint&&t._OrtTrainingReleaseCheckpoint(n)}});var fr,Fa=G(()=>{"use strict";Nr();tr();Ua();fr=class{constructor(){this.evalInputNames=[];this.evalOutputNames=[]}async uriOrBufferToHeap(r){let t;if(typeof r=="string"){let a=await(await fetch(r)).arrayBuffer();t=new Uint8Array(a)}else t=r;return Pt(t)}async createTrainingSession(r,t,u,a,c){let l=await this.uriOrBufferToHeap(r),i=await this.uriOrBufferToHeap(t),g=[0,0],m=[0,0];u!==""&&(g=await this.uriOrBufferToHeap(u)),a!==""&&(m=await this.uriOrBufferToHeap(a)),this.checkpointId=Sa(l),this.sessionId=Aa(this.checkpointId,i,g,m,c),[this.inputNames,this.outputNames]=Hr(this.sessionId,!1),u!==""&&([this.evalInputNames,this.evalOutputNames]=Hr(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(r,t,u){let a=[],c=[];Object.entries(r).forEach(i=>{let g=i[0],m=i[1],y=t.indexOf(g);if(y===-1)throw new Error(`invalid input '${g}`);a.push(m),c.push(y)});let l=a.map(u);return[a,c,l]}convertTensorMetadataToReturnType(r,t,u){let a={};for(let c=0;c<r.length;c++)a[this.outputNames[u[c]]]=t[c]??sr(r[c]);return a}async lazyResetGrad(){await Ca(this.sessionId)}async runTrainStep(r,t,u){let[,a,c]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.inputNames,(y,T)=>Ze(y,()=>`input "${this.inputNames[a[T]]}"`)),[l,i,g]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.outputNames,(y,T)=>y?Ze(y,()=>`output "${this.outputNames[i[T]]}"`):null),m=await Ra(this.sessionId,a,c,i,g,u);return this.convertTensorMetadataToReturnType(m,l,i)}async runOptimizerStep(r){await Pa(this.sessionId,r)}async runEvalStep(r,t,u){let[,a,c]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.evalInputNames,(y,T)=>Ze(y,()=>`input "${this.evalInputNames[a[T]]}"`)),[l,i,g]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.evalOutputNames,(y,T)=>y?Ze(y,()=>`output "${this.evalOutputNames[i[T]]}"`):null),m=await Ia(this.sessionId,a,c,i,g,u);return this.convertTensorMetadataToReturnType(m,l,i)}async getParametersSize(r){return Wr(this.sessionId,r)}async loadParametersBuffer(r,t){await Da(this.sessionId,r,t)}async getContiguousParameters(r){let t=await xa(this.sessionId,r);return sr(t)}async dispose(){return Ba(this.checkpointId,this.sessionId)}}});var ka={};vt(ka,{wasmBackend:()=>bo});var Gr,bo,La=G(()=>{"use strict";_a();Fa();Gr=class extends ir{async createTrainingSessionHandler(r,t,u,a,c){let l=new fr;return await l.createTrainingSession(r,t,u,a,c),Promise.resolve(l)}},bo=new Gr});Xe();Xe();Xe();var jn="1.17.1";var pi=_r;{let n=(La(),ut(ka)).wasmBackend;Tt("cpu",n,10),Tt("wasm",n,10)}Object.defineProperty(V.versions,"web",{value:jn,enumerable:!0});export{Ja as InferenceSession,Ln as TRACE,qe as TRACE_FUNC_BEGIN,Je as TRACE_FUNC_END,ce as Tensor,Qa as TrainingSession,pi as default,V as env,Tt as registerBackend};
//# sourceMappingURL=ort.training.wasm.min.js.map
