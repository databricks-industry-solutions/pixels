/*!
 * ONNX Runtime Web v1.17.1
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var nr=Object.defineProperty;var Aa=Object.getOwnPropertyDescriptor;var Ma=Object.getOwnPropertyNames;var xa=Object.prototype.hasOwnProperty;var W=(t,r)=>()=>(t&&(r=t(t=0)),r);var ot=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),it=(t,r)=>{for(var n in r)nr(t,n,{get:r[n],enumerable:!0})},Ca=(t,r,n,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Ma(r))!xa.call(t,i)&&i!==n&&nr(t,i,{get:()=>r[i],enumerable:!(f=Aa(r,i))||f.enumerable});return t};var Ye=t=>Ca(nr({},"__esModule",{value:!0}),t);var Rt,qe,Ve,It,Ut=W(()=>{"use strict";Rt=new Map,qe=[],Ve=(t,r,n)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let f=Rt.get(t);if(f===void 0)Rt.set(t,{backend:r,priority:n});else{if(f.priority>n)return;if(f.priority===n&&f.backend!==r)throw new Error(`cannot register backend "${t}" using priority ${n}`)}if(n>=0){let i=qe.indexOf(t);i!==-1&&qe.splice(i,1);for(let p=0;p<qe.length;p++)if(Rt.get(qe[p]).priority<=n){qe.splice(p,0,t);return}qe.push(t)}return}throw new TypeError("not a valid backend")},It=async t=>{let r=t.length===0?qe:t,n=[];for(let f of r){let i=Rt.get(f);if(i){if(i.initialized)return i.backend;if(i.aborted)continue;let p=!!i.initPromise;try{return p||(i.initPromise=i.backend.init(f)),await i.initPromise,i.initialized=!0,i.backend}catch(d){p||n.push({name:f,err:d}),i.aborted=!0}finally{delete i.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var en=W(()=>{"use strict";Ut()});var tn,rn=W(()=>{"use strict";tn="1.17.1"});var nn,Xe,ar=W(()=>{"use strict";rn();nn="warning",Xe={wasm:{},webgl:{},webgpu:{},versions:{common:tn},set logLevel(t){if(t!==void 0){if(typeof t!="string"||["verbose","info","warning","error","fatal"].indexOf(t)===-1)throw new Error(`Unsupported logging level: ${t}`);nn=t}},get logLevel(){return nn}};Object.defineProperty(Xe,"logLevel",{enumerable:!0})});var $,an=W(()=>{"use strict";ar();$=Xe});var on,sn,un=W(()=>{"use strict";on=(t,r)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=t.dims[3],n.height=t.dims[2];let f=n.getContext("2d");if(f!=null){let i,p;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(i=t.dims[2],p=t.dims[3]):(i=t.dims[3],p=t.dims[2]);let d=r?.format!==void 0?r.format:"RGB",s=r?.norm,b,h;s===void 0||s.mean===void 0?b=[255,255,255,255]:typeof s.mean=="number"?b=[s.mean,s.mean,s.mean,s.mean]:(b=[s.mean[0],s.mean[1],s.mean[2],0],s.mean[3]!==void 0&&(b[3]=s.mean[3])),s===void 0||s.bias===void 0?h=[0,0,0,0]:typeof s.bias=="number"?h=[s.bias,s.bias,s.bias,s.bias]:(h=[s.bias[0],s.bias[1],s.bias[2],0],s.bias[3]!==void 0&&(h[3]=s.bias[3]));let O=p*i,T=0,v=O,S=O*2,D=-1;d==="RGBA"?(T=0,v=O,S=O*2,D=O*3):d==="RGB"?(T=0,v=O,S=O*2):d==="RBG"&&(T=0,S=O,v=O*2);for(let P=0;P<p;P++)for(let M=0;M<i;M++){let R=(t.data[T++]-h[0])*b[0],L=(t.data[v++]-h[1])*b[1],q=(t.data[S++]-h[2])*b[2],X=D===-1?255:(t.data[D++]-h[3])*b[3];f.fillStyle="rgba("+R+","+L+","+q+","+X+")",f.fillRect(M,P,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},sn=(t,r)=>{let n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),f;if(n!=null){let i,p,d;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(i=t.dims[2],p=t.dims[1],d=t.dims[3]):(i=t.dims[3],p=t.dims[2],d=t.dims[1]);let s=r!==void 0&&r.format!==void 0?r.format:"RGB",b=r?.norm,h,O;b===void 0||b.mean===void 0?h=[255,255,255,255]:typeof b.mean=="number"?h=[b.mean,b.mean,b.mean,b.mean]:(h=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(h[3]=b.mean[3])),b===void 0||b.bias===void 0?O=[0,0,0,0]:typeof b.bias=="number"?O=[b.bias,b.bias,b.bias,b.bias]:(O=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(O[3]=b.bias[3]));let T=p*i;if(r!==void 0&&(r.format!==void 0&&d===4&&r.format!=="RGBA"||d===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let v=4,S=0,D=1,P=2,M=3,R=0,L=T,q=T*2,X=-1;s==="RGBA"?(R=0,L=T,q=T*2,X=T*3):s==="RGB"?(R=0,L=T,q=T*2):s==="RBG"&&(R=0,q=T,L=T*2),f=n.createImageData(i,p);for(let V=0;V<p*i;S+=v,D+=v,P+=v,M+=v,V++)f.data[S]=(t.data[R++]-O[0])*h[0],f.data[D]=(t.data[L++]-O[1])*h[1],f.data[P]=(t.data[q++]-O[2])*h[2],f.data[M]=X===-1?255:(t.data[X++]-O[3])*h[3]}else throw new Error("Can not access image data");return f}});var or,fn,ln,cn,dn,pn=W(()=>{"use strict";Ft();or=(t,r)=>{if(t===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:f}=r,i=r.norm??{mean:255,bias:0},p,d;typeof i.mean=="number"?p=[i.mean,i.mean,i.mean,i.mean]:p=[i.mean[0],i.mean[1],i.mean[2],i.mean[3]??255],typeof i.bias=="number"?d=[i.bias,i.bias,i.bias,i.bias]:d=[i.bias[0],i.bias[1],i.bias[2],i.bias[3]??0];let s=r.format!==void 0?r.format:"RGBA",b=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",h=n*f,O=b==="RGBA"?new Float32Array(h*4):new Float32Array(h*3),T=4,v=0,S=1,D=2,P=3,M=0,R=h,L=h*2,q=-1;s==="RGB"&&(T=3,v=0,S=1,D=2,P=-1),b==="RGBA"?q=h*3:b==="RBG"?(M=0,L=h,R=h*2):b==="BGR"&&(L=0,R=h,M=h*2);for(let V=0;V<h;V++,v+=T,D+=T,S+=T,P+=T)O[M++]=(t[v]+d[0])/p[0],O[R++]=(t[S]+d[1])/p[1],O[L++]=(t[D]+d[2])/p[2],q!==-1&&P!==-1&&(O[q++]=(t[P]+d[3])/p[3]);return b==="RGBA"?new he("float32",O,[1,4,n,f]):new he("float32",O,[1,3,n,f])},fn=async(t,r)=>{let n=typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement,f=typeof ImageData<"u"&&t instanceof ImageData,i=typeof ImageBitmap<"u"&&t instanceof ImageBitmap,p=typeof t=="string",d,s=r??{},b=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},h=O=>O instanceof HTMLCanvasElement||O instanceof OffscreenCanvas?O.getContext("2d"):null;if(n){let O=b();O.width=t.width,O.height=t.height;let T=h(O);if(T!=null){let v=t.height,S=t.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(v=r.resizedHeight,S=r.resizedWidth),r!==void 0){if(s=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=v,s.width=S}else s.tensorFormat="RGBA",s.height=v,s.width=S;T.drawImage(t,0,0),d=T.getImageData(0,0,S,v).data}else throw new Error("Can not access image data")}else if(f){let O,T;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(O=r.resizedHeight,T=r.resizedWidth):(O=t.height,T=t.width),r!==void 0&&(s=r),s.format="RGBA",s.height=O,s.width=T,r!==void 0){let v=b();v.width=T,v.height=O;let S=h(v);if(S!=null)S.putImageData(t,0,0),d=S.getImageData(0,0,T,O).data;else throw new Error("Can not access image data")}else d=t.data}else if(i){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let O=b();O.width=t.width,O.height=t.height;let T=h(O);if(T!=null){let v=t.height,S=t.width;return T.drawImage(t,0,0,S,v),d=T.getImageData(0,0,S,v).data,s.height=v,s.width=S,or(d,s)}else throw new Error("Can not access image data")}else{if(p)return new Promise((O,T)=>{let v=b(),S=h(v);if(!t||!S)return T();let D=new Image;D.crossOrigin="Anonymous",D.src=t,D.onload=()=>{v.width=D.width,v.height=D.height,S.drawImage(D,0,0,v.width,v.height);let P=S.getImageData(0,0,v.width,v.height);s.height=v.height,s.width=v.width,O(or(P.data,s))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return or(d,s);throw new Error("Input data provided is not supported - aborted tensor creation")},ln=(t,r)=>{let{width:n,height:f,download:i,dispose:p}=r,d=[1,f,n,4];return new he({location:"texture",type:"float32",texture:t,dims:d,download:i,dispose:p})},cn=(t,r)=>{let{dataType:n,dims:f,download:i,dispose:p}=r;return new he({location:"gpu-buffer",type:n??"float32",gpuBuffer:t,dims:f,download:i,dispose:p})},dn=(t,r,n)=>new he({location:"cpu-pinned",type:t,data:r,dims:n??[r.length]})});var wt,Bt,mn,hn,gn=W(()=>{"use strict";wt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Bt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),mn=!1,hn=()=>{if(!mn){mn=!0;let t=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",r=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";t&&(wt.set("int64",BigInt64Array),Bt.set(BigInt64Array,"int64")),r&&(wt.set("uint64",BigUint64Array),Bt.set(BigUint64Array,"uint64"))}}});var yn,wn,bn=W(()=>{"use strict";Ft();yn=t=>{let r=1;for(let n=0;n<t.length;n++){let f=t[n];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${n}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${f}`);r*=f}return r},wn=(t,r)=>{switch(t.location){case"cpu":return new he(t.type,t.data,r);case"cpu-pinned":return new he({location:"cpu-pinned",data:t.data,type:t.type,dims:r});case"texture":return new he({location:"texture",texture:t.texture,type:t.type,dims:r});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:t.gpuBuffer,type:t.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${t.location} is not supported`)}}});var he,Ft=W(()=>{"use strict";un();pn();gn();bn();he=class{constructor(r,n,f){hn();let i,p;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,i=r.type,p=r.dims,r.location){case"cpu-pinned":{let s=wt.get(i);if(!s)throw new TypeError(`unsupported type "${i}" to create tensor from pinned buffer`);if(!(r.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=r.data;break}case"texture":{if(i!=="float32")throw new TypeError(`unsupported type "${i}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(i!=="float32"&&i!=="float16"&&i!=="int32"&&i!=="int64"&&i!=="uint32"&&i!=="bool")throw new TypeError(`unsupported type "${i}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,b;if(typeof r=="string")if(i=r,b=f,r==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");s=n}else{let h=wt.get(r);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(n)){if(r==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?s=h.from(n,BigInt):s=h.from(n)}else if(n instanceof h)s=n;else throw new TypeError(`A ${i} tensor's data must be type of ${h}`)}else if(b=n,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof r[0];if(h==="string")i="string",s=r;else if(h==="boolean")i="bool",s=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=Bt.get(r.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);i=h,s=r}if(b===void 0)b=[s.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");p=b,this.cpuData=s,this.dataLocation="cpu"}let d=yn(p);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=i,this.dims=p,this.size=d}static async fromImage(r,n){return fn(r,n)}static fromTexture(r,n){return ln(r,n)}static fromGpuBuffer(r,n){return cn(r,n)}static fromPinnedBuffer(r,n,f){return dn(r,n,f)}toDataURL(r){return on(this,r)}toImageData(r){return sn(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,r&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return wn(this,r)}}});var ce,Lt=W(()=>{"use strict";Ft();ce=he});var ir,vn,Ne,We,sr=W(()=>{"use strict";ar();ir=(t,r)=>{Xe.wasm.trace&&console.timeStamp(`${t}::ORT::${r}`)},vn=(t,r)=>{let n=new Error().stack?.split(/\r\n|\r|\n/g)||[],f=!1;for(let i=0;i<n.length;i++){if(f&&!n[i].includes("TRACE_FUNC")){let p=`FUNC_${t}::${n[i].trim().split(" ")[1]}`;r&&(p+=`::${r}`),ir("CPU",p);return}n[i].includes("TRACE_FUNC")&&(f=!0)}},Ne=t=>{Xe.wasm.trace&&vn("BEGIN",t)},We=t=>{Xe.wasm.trace&&vn("END",t)}});var kt,On=W(()=>{"use strict";Ut();Lt();sr();kt=class t{constructor(r){this.handler=r}async run(r,n,f){Ne();let i={},p={};if(typeof r!="object"||r===null||r instanceof ce||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let h of n){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);i[h]=null}if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,O=Object.getOwnPropertyNames(n);for(let T of this.outputNames)if(O.indexOf(T)!==-1){let v=n[T];(v===null||v instanceof ce)&&(h=!0,d=!1,i[T]=v)}if(h){if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else p=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of this.inputNames)if(typeof r[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(d)for(let h of this.outputNames)i[h]=null;let s=await this.handler.run(r,i,p),b={};for(let h in s)if(Object.hasOwnProperty.call(s,h)){let O=s[h];O instanceof ce?b[h]=O:b[h]=new ce(O.type,O.data,O.dims)}return We(),b}async release(){return this.handler.dispose()}static async create(r,n,f,i){Ne();let p,d={};if(typeof r=="string"){if(p=r,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(p=r,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let T=r,v=0,S=r.byteLength;if(typeof n=="object"&&n!==null)d=n;else if(typeof n=="number"){if(v=n,!Number.isSafeInteger(v))throw new RangeError("'byteOffset' must be an integer.");if(v<0||v>=T.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${T.byteLength}).`);if(S=r.byteLength-v,typeof f=="number"){if(S=f,!Number.isSafeInteger(S))throw new RangeError("'byteLength' must be an integer.");if(S<=0||v+S>T.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${T.byteLength-v}].`);if(typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");p=new Uint8Array(T,v,S)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(d.executionProviders||[]).map(T=>typeof T=="string"?T:T.name),O=await(await It(b)).createInferenceSessionHandler(p,d);return We(),new t(O)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var _n,En=W(()=>{"use strict";On();_n=kt});var Tn=W(()=>{"use strict"});var Pa,Nt,Sn=W(()=>{"use strict";Ut();Lt();Pa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Nt=class t{constructor(r,n,f){this.handler=r,this.hasOptimizerModel=n,this.hasEvalModel=f}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,n){let f=r.evalModel||"",i=r.optimizerModel||"",p=n||{},s=(p.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),b=await It(s);if(b.createTrainingSessionHandler){let h=await b.createTrainingSessionHandler(r.checkpointState,r.trainModel,f,i,p);return new t(h,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Pa)}typeNarrowingForRunStep(r,n,f,i,p){let d={},s={};if(typeof f!="object"||f===null||f instanceof ce||Array.isArray(f))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let b=!0;if(typeof i=="object"){if(i===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(i instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(i)){if(i.length===0)throw new TypeError("'fetches' cannot be an empty array.");b=!1;for(let h of i){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(n.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);d[h]=null}if(typeof p=="object"&&p!==null)s=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,O=Object.getOwnPropertyNames(i);for(let T of n)if(O.indexOf(T)!==-1){let v=i[T];(v===null||v instanceof ce)&&(h=!0,b=!1,d[T]=v)}if(h){if(typeof p=="object"&&p!==null)s=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else s=i}}else if(typeof i<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of r)if(typeof f[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(b)for(let h of n)d[h]=null;return[d,s]}convertHandlerReturnTypeToMapOfTensors(r){let n={};for(let f in r)if(Object.hasOwnProperty.call(r,f)){let i=r[f];i instanceof ce?n[f]=i:n[f]=new ce(i.type,i.data,i.dims)}return n}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,n,f){let[i,p]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,n,f),d=await this.handler.runTrainStep(r,i,p);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,n,f){if(this.hasEvalModel){let[i,p]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,n,f),d=await this.handler.runEvalStep(r,i,p);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,n=!0){let f=await this.getParametersSize(n);if(r.length!==4*f)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,n)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}}});var An,Mn=W(()=>{"use strict";Sn();An=Nt});var ur={};it(ur,{InferenceSession:()=>_n,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>Ne,TRACE_FUNC_END:()=>We,Tensor:()=>ce,TrainingSession:()=>An,env:()=>$,registerBackend:()=>Ve});var Je=W(()=>{"use strict";en();an();En();Lt();sr();Tn();Mn()});var fr={};it(fr,{createReadStream:()=>Cn,readFile:()=>Da,readFileSync:()=>Ra});var Da,Ra,Cn,lr=W(()=>{Da=void 0,Ra=void 0,Cn=void 0});var cr={};it(cr,{join:()=>Ia});var Ia,dr=W(()=>{Ia=void 0});var Rn=ot((Dn,pr)=>{"use strict";var Pn=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(r={}){var n=r,f,i;n.ready=new Promise((o,l)=>{f=o,i=l});var p=Object.assign({},n),d="./this.program",s=typeof window=="object",b=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",T,v,S;if(h){var D=(lr(),Ye(fr)),P=(dr(),Ye(cr));O=b?P.dirname(O)+"/":__dirname+"/",T=(o,l)=>(o=Oe(o)?new URL(o):P.normalize(o),D.readFileSync(o,l?void 0:"utf8")),S=o=>(o=T(o,!0),o.buffer||(o=new Uint8Array(o)),o),v=(o,l,c,w=!0)=>{o=Oe(o)?new URL(o):P.normalize(o),D.readFile(o,w?void 0:"utf8",(A,I)=>{A?c(A):l(w?I.buffer:I)})},!n.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||b)&&(b?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),t&&(O=t),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",T=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.send(null),l.responseText},b&&(S=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),v=(o,l,c)=>{var w=new XMLHttpRequest;w.open("GET",o,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?l(w.response):c()},w.onerror=c,w.send(null)});var M=console.log.bind(console),R=console.error.bind(console);Object.assign(n,p),p=null,typeof WebAssembly!="object"&&ye("no native wasm support detected");var L,q=!1,X,V,C,Y,de;function He(){var o=L.buffer;n.HEAP8=X=new Int8Array(o),n.HEAP16=new Int16Array(o),n.HEAPU8=V=new Uint8Array(o),n.HEAPU16=new Uint16Array(o),n.HEAP32=C=new Int32Array(o),n.HEAPU32=Y=new Uint32Array(o),n.HEAPF32=new Float32Array(o),n.HEAPF64=de=new Float64Array(o)}var $e=[],oe=[],J=[],ge=0,k=null,ie=null;function ye(o){throw o="Aborted("+o+")",R(o),q=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),i(o),o}var ve=o=>o.startsWith("data:application/octet-stream;base64,"),Oe=o=>o.startsWith("file://"),ee;if(ee="ort-wasm.wasm",!ve(ee)){var pe=ee;ee=n.locateFile?n.locateFile(pe,O):O+pe}function Te(o){if(S)return S(o);throw"both async and sync fetching of the wasm failed"}function De(o){if(s||b){if(typeof fetch=="function"&&!Oe(o))return fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+o+"'";return l.arrayBuffer()}).catch(()=>Te(o));if(v)return new Promise((l,c)=>{v(o,w=>l(new Uint8Array(w)),c)})}return Promise.resolve().then(()=>Te(o))}function Re(o,l,c){return De(o).then(w=>WebAssembly.instantiate(w,l)).then(w=>w).then(c,w=>{R(`failed to asynchronously prepare wasm: ${w}`),ye(w)})}function Be(o,l){var c=ee;return typeof WebAssembly.instantiateStreaming!="function"||ve(c)||Oe(c)||h||typeof fetch!="function"?Re(c,o,l):fetch(c,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,o).then(l,function(A){return R(`wasm streaming compile failed: ${A}`),R("falling back to ArrayBuffer instantiation"),Re(c,o,l)}))}var xe,we={919888:(o,l,c,w)=>{if(typeof n>"u"||!n.za)return 1;if(o=_e(o>>>0),o.startsWith("./")&&(o=o.substring(2)),o=n.za.get(o),!o)return 2;if(l>>>=0,c>>>=0,l+c>o.byteLength)return 3;try{return V.set(o.subarray(l,l+c),w>>>0>>>0),0}catch{return 4}}};function Se(o){this.xa=o-24,this.Ha=function(l){Y[this.xa+4>>>2>>>0]=l},this.Ga=function(l){Y[this.xa+8>>>2>>>0]=l},this.Aa=function(l,c){this.Fa(),this.Ha(l),this.Ga(c)},this.Fa=function(){Y[this.xa+16>>>2>>>0]=0}}var Ae=0,se=0,ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ie=(o,l,c)=>{l>>>=0;var w=l+c;for(c=l;o[c]&&!(c>=w);)++c;if(16<c-l&&o.buffer&&ne)return ne.decode(o.subarray(l,c));for(w="";l<c;){var A=o[l++];if(A&128){var I=o[l++]&63;if((A&224)==192)w+=String.fromCharCode((A&31)<<6|I);else{var N=o[l++]&63;A=(A&240)==224?(A&15)<<12|I<<6|N:(A&7)<<18|I<<12|N<<6|o[l++]&63,65536>A?w+=String.fromCharCode(A):(A-=65536,w+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else w+=String.fromCharCode(A)}return w},_e=(o,l)=>(o>>>=0)?Ie(V,o,l):"",Me=o=>{for(var l=0,c=0;c<o.length;++c){var w=o.charCodeAt(c);127>=w?l++:2047>=w?l+=2:55296<=w&&57343>=w?(l+=4,++c):l+=3}return l},Ze=(o,l,c,w)=>{if(c>>>=0,!(0<w))return 0;var A=c;w=c+w-1;for(var I=0;I<o.length;++I){var N=o.charCodeAt(I);if(55296<=N&&57343>=N){var ae=o.charCodeAt(++I);N=65536+((N&1023)<<10)|ae&1023}if(127>=N){if(c>=w)break;l[c++>>>0]=N}else{if(2047>=N){if(c+1>=w)break;l[c++>>>0]=192|N>>6}else{if(65535>=N){if(c+2>=w)break;l[c++>>>0]=224|N>>12}else{if(c+3>=w)break;l[c++>>>0]=240|N>>18,l[c++>>>0]=128|N>>12&63}l[c++>>>0]=128|N>>6&63}l[c++>>>0]=128|N&63}}return l[c>>>0]=0,c-A},Le=o=>o%4===0&&(o%100!==0||o%400===0),lt=[0,31,60,91,121,152,182,213,244,274,305,335],Et=[0,31,59,90,120,151,181,212,243,273,304,334],Ue=o=>{var l=Me(o)+1,c=St(l);return c&&Ze(o,V,c,l),c},Ke=[],ke={},et=()=>{if(!tt){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in ke)ke[l]===void 0?delete o[l]:o[l]=ke[l];var c=[];for(l in o)c.push(`${l}=${o[l]}`);tt=c}return tt},tt,je=[null,[],[]],ct=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function rt(o){var l=Array(Me(o)+1);return Ze(o,l,0,l.length),l}function Tt(o,l,c,w){function A(g,H,z){for(g=typeof g=="number"?g.toString():g||"";g.length<H;)g=z[0]+g;return g}function I(g,H){return A(g,H,"0")}function N(g,H){function z(yt){return 0>yt?-1:0<yt?1:0}var Ce;return(Ce=z(g.getFullYear()-H.getFullYear()))===0&&(Ce=z(g.getMonth()-H.getMonth()))===0&&(Ce=z(g.getDate()-H.getDate())),Ce}function ae(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var H=g.ta;for(g=new Date(new Date(g.ua+1900,0,1).getTime());0<H;){var z=g.getMonth(),Ce=(Le(g.getFullYear())?ct:dt)[z];if(H>Ce-g.getDate())H-=Ce-g.getDate()+1,g.setDate(1),11>z?g.setMonth(z+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+H);break}}return z=new Date(g.getFullYear()+1,0,4),H=ae(new Date(g.getFullYear(),0,4)),z=ae(z),0>=N(H,g)?0>=N(z,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}o>>>=0,l>>>=0,c>>>=0,w>>>=0;var fe=Y[w+40>>>2>>>0];w={Da:C[w>>>2>>>0],Ca:C[w+4>>>2>>>0],va:C[w+8>>>2>>>0],ya:C[w+12>>>2>>>0],wa:C[w+16>>>2>>>0],ua:C[w+20>>>2>>>0],oa:C[w+24>>>2>>>0],ta:C[w+28>>>2>>>0],Ia:C[w+32>>>2>>>0],Ba:C[w+36>>>2>>>0],Ea:fe?_e(fe):""},c=_e(c),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in fe)c=c.replace(new RegExp(le,"g"),fe[le]);var ht="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),gt="January February March April May June July August September October November December".split(" ");fe={"%a":g=>ht[g.oa].substring(0,3),"%A":g=>ht[g.oa],"%b":g=>gt[g.wa].substring(0,3),"%B":g=>gt[g.wa],"%C":g=>I((g.ua+1900)/100|0,2),"%d":g=>I(g.ya,2),"%e":g=>A(g.ya,2," "),"%g":g=>me(g).toString().substring(2),"%G":g=>me(g),"%H":g=>I(g.va,2),"%I":g=>(g=g.va,g==0?g=12:12<g&&(g-=12),I(g,2)),"%j":g=>{for(var H=0,z=0;z<=g.wa-1;H+=(Le(g.ua+1900)?ct:dt)[z++]);return I(g.ya+H,3)},"%m":g=>I(g.wa+1,2),"%M":g=>I(g.Ca,2),"%n":()=>`
`,"%p":g=>0<=g.va&&12>g.va?"AM":"PM","%S":g=>I(g.Da,2),"%t":()=>"	","%u":g=>g.oa||7,"%U":g=>I(Math.floor((g.ta+7-g.oa)/7),2),"%V":g=>{var H=Math.floor((g.ta+7-(g.oa+6)%7)/7);if(2>=(g.oa+371-g.ta-2)%7&&H++,H)H==53&&(z=(g.oa+371-g.ta)%7,z==4||z==3&&Le(g.ua)||(H=1));else{H=52;var z=(g.oa+7-g.ta-1)%7;(z==4||z==5&&Le(g.ua%400-1))&&H++}return I(H,2)},"%w":g=>g.oa,"%W":g=>I(Math.floor((g.ta+7-(g.oa+6)%7)/7),2),"%y":g=>(g.ua+1900).toString().substring(2),"%Y":g=>g.ua+1900,"%z":g=>{g=g.Ba;var H=0<=g;return g=Math.abs(g)/60,(H?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Ea,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(le in fe)c.includes(le)&&(c=c.replace(new RegExp(le,"g"),fe[le](w)));return c=c.replace(/\0\0/g,"%"),le=rt(c),le.length>l?0:(X.set(le,o>>>0),le.length-1)}var G={a:function(o,l,c){throw o>>>=0,new Se(o).Aa(l>>>0,c>>>0),Ae=o,se++,Ae},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),C[c>>>2>>>0]=o.getUTCSeconds(),C[c+4>>>2>>>0]=o.getUTCMinutes(),C[c+8>>>2>>>0]=o.getUTCHours(),C[c+12>>>2>>>0]=o.getUTCDate(),C[c+16>>>2>>>0]=o.getUTCMonth(),C[c+20>>>2>>>0]=o.getUTCFullYear()-1900,C[c+24>>>2>>>0]=o.getUTCDay(),C[c+28>>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),C[c>>>2>>>0]=o.getSeconds(),C[c+4>>>2>>>0]=o.getMinutes(),C[c+8>>>2>>>0]=o.getHours(),C[c+12>>>2>>>0]=o.getDate(),C[c+16>>>2>>>0]=o.getMonth(),C[c+20>>>2>>>0]=o.getFullYear()-1900,C[c+24>>>2>>>0]=o.getDay(),C[c+28>>>2>>>0]=(Le(o.getFullYear())?lt:Et)[o.getMonth()]+o.getDate()-1|0,C[c+36>>>2>>>0]=-(60*o.getTimezoneOffset()),l=new Date(o.getFullYear(),6,1).getTimezoneOffset();var w=new Date(o.getFullYear(),0,1).getTimezoneOffset();C[c+32>>>2>>>0]=(l!=w&&o.getTimezoneOffset()==Math.min(w,l))|0},p:function(o){o>>>=0;var l=new Date(C[o+20>>>2>>>0]+1900,C[o+16>>>2>>>0],C[o+12>>>2>>>0],C[o+8>>>2>>>0],C[o+4>>>2>>>0],C[o>>>2>>>0],0),c=C[o+32>>>2>>>0],w=l.getTimezoneOffset(),A=new Date(l.getFullYear(),6,1).getTimezoneOffset(),I=new Date(l.getFullYear(),0,1).getTimezoneOffset(),N=Math.min(I,A);return 0>c?C[o+32>>>2>>>0]=+(A!=I&&N==w):0<c!=(N==w)&&(A=Math.max(I,A),l.setTime(l.getTime()+6e4*((0<c?N:A)-w))),C[o+24>>>2>>>0]=l.getDay(),C[o+28>>>2>>>0]=(Le(l.getFullYear())?lt:Et)[l.getMonth()]+l.getDate()-1|0,C[o>>>2>>>0]=l.getSeconds(),C[o+4>>>2>>>0]=l.getMinutes(),C[o+8>>>2>>>0]=l.getHours(),C[o+12>>>2>>>0]=l.getDate(),C[o+16>>>2>>>0]=l.getMonth(),C[o+20>>>2>>>0]=l.getYear(),o=l.getTime(),isNaN(o)?(C[nt()>>>2>>>0]=61,o=-1):o/=1e3,pt((xe=o,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)),o>>>0},l:function(){return-52},m:function(){},t:function(o,l,c){function w(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}c>>>=0;var A=new Date().getFullYear(),I=new Date(A,0,1),N=new Date(A,6,1);A=I.getTimezoneOffset();var ae=N.getTimezoneOffset();Y[o>>>0>>>2>>>0]=60*Math.max(A,ae),C[l>>>0>>>2>>>0]=+(A!=ae),o=w(I),l=w(N),o=Ue(o),l=Ue(l),ae<A?(Y[c>>>2>>>0]=o,Y[c+4>>>2>>>0]=l):(Y[c>>>2>>>0]=l,Y[c+4>>>2>>>0]=o)},d:()=>{ye("")},B:function(o,l,c){o>>>=0,l>>>=0,c>>>=0,Ke.length=0;for(var w;w=V[l++>>>0];){var A=w!=105;A&=w!=112,c+=A&&c%8?4:0,Ke.push(w==112?Y[c>>>2>>>0]:w==105?C[c>>>2>>>0]:de[c>>>3>>>0]),c+=A?8:4}return we[o].apply(null,Ke)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(o,l,c){return l>>>=0,V.copyWithin(o>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(o){o>>>=0;var l=V.length;if(4294901760<o)return!1;for(var c=1;4>=c;c*=2){var w=l*(1+.2/c);w=Math.min(w,o+100663296);var A=Math;w=Math.max(o,w);e:{A=(A.min.call(A,4294901760,w+(65536-w%65536)%65536)-L.buffer.byteLength+65535)/65536;try{L.grow(A),He();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},C:function(o,l){o>>>=0,l>>>=0;var c=0;return et().forEach((w,A)=>{var I=l+c;for(A=Y[o+4*A>>>2>>>0]=I,I=0;I<w.length;++I)X[A++>>>0>>>0]=w.charCodeAt(I);X[A>>>0>>>0]=0,c+=w.length+1}),0},D:function(o,l){o>>>=0,l>>>=0;var c=et();Y[o>>>2>>>0]=c.length;var w=0;return c.forEach(A=>w+=A.length+1),Y[l>>>2>>>0]=w,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(o,l,c,w){l>>>=0,c>>>=0,w>>>=0;for(var A=0,I=0;I<c;I++){var N=Y[l>>>2>>>0],ae=Y[l+4>>>2>>>0];l+=8;for(var me=0;me<ae;me++){var fe=V[N+me>>>0],le=je[o];fe===0||fe===10?((o===1?M:R)(Ie(le,0)),le.length=0):le.push(fe)}A+=ae}return Y[w>>>2>>>0]=A,0},r:Tt,c:function(o,l,c,w){return Tt(o>>>0,l>>>0,c>>>0,w>>>0)}},B=function(){function o(c){return B=c.exports,B=Mt(),L=B.K,He(),oe.unshift(B.L),ge--,ge==0&&(k!==null&&(clearInterval(k),k=null),ie&&(c=ie,ie=null,c())),B}var l={a:G};if(ge++,n.instantiateWasm)try{return n.instantiateWasm(l,o)}catch(c){R(`Module.instantiateWasm callback failed with error: ${c}`),i(c)}return Be(l,function(c){o(c.instance)}).catch(i),{}}();n._OrtInit=(o,l)=>(n._OrtInit=B.M)(o,l),n._OrtGetLastError=(o,l)=>(n._OrtGetLastError=B.N)(o,l),n._OrtCreateSessionOptions=(o,l,c,w,A,I,N,ae,me,fe)=>(n._OrtCreateSessionOptions=B.O)(o,l,c,w,A,I,N,ae,me,fe),n._OrtAppendExecutionProvider=(o,l)=>(n._OrtAppendExecutionProvider=B.P)(o,l),n._OrtAddFreeDimensionOverride=(o,l,c)=>(n._OrtAddFreeDimensionOverride=B.Q)(o,l,c),n._OrtAddSessionConfigEntry=(o,l,c)=>(n._OrtAddSessionConfigEntry=B.R)(o,l,c),n._OrtReleaseSessionOptions=o=>(n._OrtReleaseSessionOptions=B.S)(o),n._OrtCreateSession=(o,l,c)=>(n._OrtCreateSession=B.T)(o,l,c),n._OrtReleaseSession=o=>(n._OrtReleaseSession=B.U)(o),n._OrtGetInputOutputCount=(o,l,c)=>(n._OrtGetInputOutputCount=B.V)(o,l,c),n._OrtGetInputName=(o,l)=>(n._OrtGetInputName=B.W)(o,l),n._OrtGetOutputName=(o,l)=>(n._OrtGetOutputName=B.X)(o,l),n._OrtFree=o=>(n._OrtFree=B.Y)(o),n._OrtCreateTensor=(o,l,c,w,A,I)=>(n._OrtCreateTensor=B.Z)(o,l,c,w,A,I),n._OrtGetTensorData=(o,l,c,w,A)=>(n._OrtGetTensorData=B._)(o,l,c,w,A),n._OrtReleaseTensor=o=>(n._OrtReleaseTensor=B.$)(o),n._OrtCreateRunOptions=(o,l,c,w)=>(n._OrtCreateRunOptions=B.aa)(o,l,c,w),n._OrtAddRunConfigEntry=(o,l,c)=>(n._OrtAddRunConfigEntry=B.ba)(o,l,c),n._OrtReleaseRunOptions=o=>(n._OrtReleaseRunOptions=B.ca)(o),n._OrtCreateBinding=o=>(n._OrtCreateBinding=B.da)(o),n._OrtBindInput=(o,l,c)=>(n._OrtBindInput=B.ea)(o,l,c),n._OrtBindOutput=(o,l,c,w)=>(n._OrtBindOutput=B.fa)(o,l,c,w),n._OrtClearBoundOutputs=o=>(n._OrtClearBoundOutputs=B.ga)(o),n._OrtReleaseBinding=o=>(n._OrtReleaseBinding=B.ha)(o),n._OrtRunWithBinding=(o,l,c,w,A)=>(n._OrtRunWithBinding=B.ia)(o,l,c,w,A),n._OrtRun=(o,l,c,w,A,I,N,ae)=>(n._OrtRun=B.ja)(o,l,c,w,A,I,N,ae),n._OrtEndProfiling=o=>(n._OrtEndProfiling=B.ka)(o);var nt=()=>(nt=B.la)(),St=n._malloc=o=>(St=n._malloc=B.ma)(o);n._free=o=>(n._free=B.na)(o);var pt=o=>(pt=B.pa)(o),At=()=>(At=B.qa)(),F=o=>(F=B.ra)(o),Ge=o=>(Ge=B.sa)(o);function Mt(){var o=B;o=Object.assign({},o);var l=w=>()=>w()>>>0,c=w=>A=>w(A)>>>0;return o.la=l(o.la),o.ma=c(o.ma),o.qa=l(o.qa),o.sa=c(o.sa),o}n.stackAlloc=Ge,n.stackSave=At,n.stackRestore=F,n.UTF8ToString=_e,n.stringToUTF8=(o,l,c)=>Ze(o,V,l,c),n.lengthBytesUTF8=Me;var Fe;ie=function o(){Fe||mt(),Fe||(ie=o)};function mt(){if(!(0<ge)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;){var o=n.preRun.shift();$e.unshift(o)}for(;0<$e.length;)$e.shift()(n);if(!(0<ge||Fe||(Fe=!0,n.calledRun=!0,q))){for(;0<oe.length;)oe.shift()(n);for(f(n);0<J.length;)J.shift()(n)}}}return mt(),r.ready}})();typeof Dn=="object"&&typeof pr=="object"?pr.exports=Pn:typeof define=="function"&&define.amd&&define([],()=>Pn)});var In=ot(()=>{});var Un=ot(()=>{});var Fn={};it(Fn,{cpus:()=>Ua});var Ua,Bn=W(()=>{Ua=void 0});var Nn=ot((kn,mr)=>{"use strict";var Ln=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(r={}){function n(){return J.buffer!=ye.buffer&&Te(),ye}function f(){return J.buffer!=ye.buffer&&Te(),ve}function i(){return J.buffer!=ye.buffer&&Te(),Oe}function p(){return J.buffer!=ye.buffer&&Te(),ee}function d(){return J.buffer!=ye.buffer&&Te(),pe}var s=r,b,h;s.ready=new Promise((e,a)=>{b=e,h=a});var O=Object.assign({},s),T="./this.program",v=(e,a)=>{throw a},S=typeof window=="object",D=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=s.ENVIRONMENT_IS_PTHREAD||!1,R="";function L(e){return s.locateFile?s.locateFile(e,R):R+e}var q,X,V;if(P){var C=(lr(),Ye(fr)),Y=(dr(),Ye(cr));R=D?Y.dirname(R)+"/":__dirname+"/",q=(a,u)=>(a=_e(a)?new URL(a):Y.normalize(a),C.readFileSync(a,u?void 0:"utf8")),V=a=>(a=q(a,!0),a.buffer||(a=new Uint8Array(a)),a),X=(a,u,m,_=!0)=>{a=_e(a)?new URL(a):Y.normalize(a),C.readFile(a,_?void 0:"utf8",(E,x)=>{E?m(E):u(_?x.buffer:x)})},!s.thisProgram&&1<process.argv.length&&(T=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),v=(a,u)=>{throw process.exitCode=a,u},s.inspect=()=>"[Emscripten Module object]";let e;try{e=In()}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}global.Worker=e.Worker}else(S||D)&&(D?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),typeof t<"u"&&t&&(R=t),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",P||(q=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},D&&(V=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),X=(e,a,u)=>{var m=new XMLHttpRequest;m.open("GET",e,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?a(m.response):u()},m.onerror=u,m.send(null)}));P&&typeof performance>"u"&&(global.performance=Un().performance);var de=console.log.bind(console),He=console.error.bind(console);P&&(de=(...e)=>C.writeSync(1,e.join(" ")+`
`),He=(...e)=>C.writeSync(2,e.join(" ")+`
`));var $e=de,oe=He;Object.assign(s,O),O=null,typeof WebAssembly!="object"&&ne("no native wasm support detected");var J,ge,k=!1,ie,ye,ve,Oe,ee,pe;function Te(){var e=J.buffer;s.HEAP8=ye=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=ve=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=Oe=new Int32Array(e),s.HEAPU32=ee=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=pe=new Float64Array(e)}var De=16777216;if(M)J=s.wasmMemory;else if(s.wasmMemory)J=s.wasmMemory;else if(J=new WebAssembly.Memory({initial:De/65536,maximum:65536,shared:!0}),!(J.buffer instanceof SharedArrayBuffer))throw oe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),P&&oe("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Te(),De=J.buffer.byteLength;var Re=[],Be=[],xe=[],we=0,Se=null,Ae=null;function se(){if(we--,we==0&&(Se!==null&&(clearInterval(Se),Se=null),Ae)){var e=Ae;Ae=null,e()}}function ne(e){throw e="Aborted("+e+")",oe(e),k=!0,ie=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),h(e),e}var Ie=e=>e.startsWith("data:application/octet-stream;base64,"),_e=e=>e.startsWith("file://"),Me;Me="ort-wasm-threaded.wasm",Ie(Me)||(Me=L(Me));function Ze(e){if(V)return V(e);throw"both async and sync fetching of the wasm failed"}function Le(e){if(S||D){if(typeof fetch=="function"&&!_e(e))return fetch(e,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+e+"'";return a.arrayBuffer()}).catch(()=>Ze(e));if(X)return new Promise((a,u)=>{X(e,m=>a(new Uint8Array(m)),u)})}return Promise.resolve().then(()=>Ze(e))}function lt(e,a,u){return Le(e).then(m=>WebAssembly.instantiate(m,a)).then(m=>m).then(u,m=>{oe(`failed to asynchronously prepare wasm: ${m}`),ne(m)})}function Et(e,a){var u=Me;return typeof WebAssembly.instantiateStreaming!="function"||Ie(u)||_e(u)||P||typeof fetch!="function"?lt(u,e,a):fetch(u,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,e).then(a,function(_){return oe(`wasm streaming compile failed: ${_}`),oe("falling back to ArrayBuffer instantiation"),lt(u,e,a)}))}var Ue,Ke={921276:(e,a,u,m)=>{if(typeof s>"u"||!s.cb)return 1;if(e=rt(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(a>>>=0,u>>>=0,m>>>=0,a+u>e.byteLength)return 3;try{return f().set(e.subarray(a,a+u),m>>>0),0}catch{return 4}}};function ke(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var et=e=>{e.terminate(),e.onmessage=()=>{}},tt=e=>{F.Pa.length==0&&(pt(),F.Ya(F.Pa[0]));var a=F.Pa.pop();if(!a)return 6;F.Qa.push(a),F.Ma[e.Oa]=a,a.Oa=e.Oa;var u={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return P&&a.unref(),a.postMessage(u,e.qb),0},je=0,ct=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,dt=(e,a,u)=>{a>>>=0;var m=a+u;for(u=a;e[u]&&!(u>=m);)++u;if(16<u-a&&e.buffer&&ct)return ct.decode(e.buffer instanceof SharedArrayBuffer?e.slice(a,u):e.subarray(a,u));for(m="";a<u;){var _=e[a++];if(_&128){var E=e[a++]&63;if((_&224)==192)m+=String.fromCharCode((_&31)<<6|E);else{var x=e[a++]&63;_=(_&240)==224?(_&15)<<12|E<<6|x:(_&7)<<18|E<<12|x<<6|e[a++]&63,65536>_?m+=String.fromCharCode(_):(_-=65536,m+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else m+=String.fromCharCode(_)}return m},rt=(e,a)=>(e>>>=0)?dt(f(),e,a):"",Tt=e=>{var a=tr();return e=e(),Pt(a),e};function G(e,a){var u=arguments.length-2,m=arguments;return Tt(()=>{for(var _=rr(8*u),E=_>>>3,x=0;x<u;x++){var Q=m[2+x];d()[E+x>>>0]=Q}return Yr(e,u,_,a)})}function B(e){if(M)return G(0,1,e);ie=e,0<je||(F.lb(),s.onExit?.(e),k=!0),v(e,new ke(e))}var nt=e=>{if(ie=e,M)throw Mt(e),"unwind";B(e)};function St(){for(var e=s.numThreads;e--;)pt();Re.unshift(()=>{we++,At(()=>se())})}function pt(){var e=L("ort-wasm-threaded.worker.js");e=new Worker(e),F.Pa.push(e)}function At(e){M?e():Promise.all(F.Pa.map(F.Ya)).then(e)}var F={Pa:[],Qa:[],bb:[],Ma:{},Wa(){M?(F.receiveObjectTransfer=F.jb,F.threadInitTLS=F.ab,F.setExitStatus=F.$a):St()},$a:e=>ie=e,tb:["$terminateWorker"],lb:()=>{for(var e of F.Qa)et(e);for(e of F.Pa)et(e);F.Pa=[],F.Qa=[],F.Ma=[]},Za:e=>{var a=e.Oa;delete F.Ma[a],F.Pa.push(e),F.Qa.splice(F.Qa.indexOf(e),1),e.Oa=0,Kt(a)},jb(){},ab(){F.bb.forEach(e=>e())},Ya:e=>new Promise(a=>{e.onmessage=E=>{E=E.data;var x=E.cmd;if(E.targetThread&&E.targetThread!=Ct()){var Q=F.Ma[E.targetThread];Q?Q.postMessage(E,E.transferList):oe(`Internal error! Worker sent a message "${x}" to target pthread ${E.targetThread}, but that thread no longer exists!`)}else x==="checkMailbox"?xt():x==="spawnThread"?tt(E):x==="cleanupThread"?F.Za(F.Ma[E.thread]):x==="killThread"?(E=E.thread,x=F.Ma[E],delete F.Ma[E],et(x),Kt(E),F.Qa.splice(F.Qa.indexOf(x),1),x.Oa=0):x==="cancelThread"?F.Ma[E.thread].postMessage({cmd:"cancel"}):x==="loaded"?(e.loaded=!0,P&&!e.Oa&&e.unref(),a(e)):x==="alert"?alert(`Thread ${E.threadId}: ${E.text}`):E.target==="setimmediate"?e.postMessage(E):x==="callHandler"?s[E.handler](...E.args):x&&oe(`worker sent an unknown command ${x}`)},e.onerror=E=>{throw oe(`worker sent an error! ${E.filename}:${E.lineno}: ${E.message}`),E},P&&(e.on("message",E=>e.onmessage({data:E})),e.on("error",E=>e.onerror(E)));var u=[],m=["onExit"],_;for(_ of m)s.hasOwnProperty(_)&&u.push(_);e.postMessage({cmd:"load",handlers:u,urlOrBlob:s.mainScriptUrlOrBlob||t,wasmMemory:J,wasmModule:ge})})};s.PThread=F;var Ge=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=Ct(),a=p()[e+52>>>2>>>0];e=p()[e+56>>>2>>>0],Xr(a,a-e),Pt(a)};function Mt(e){if(M)return G(1,0,e);nt(e)}var Fe=[],mt;s.invokeEntryPoint=(e,a)=>{var u=Fe[e];u||(e>=Fe.length&&(Fe.length=e+1),Fe[e]=u=mt.get(e)),e=u(a),0<je?F.$a(e):er(e)};function o(e){this.Va=e-24,this.gb=function(a){p()[this.Va+4>>>2>>>0]=a},this.fb=function(a){p()[this.Va+8>>>2>>>0]=a},this.Wa=function(a,u){this.eb(),this.gb(a),this.fb(u)},this.eb=function(){p()[this.Va+16>>>2>>>0]=0}}var l=0,c=0;function w(e,a,u,m){return M?G(2,1,e,a,u,m):A(e,a,u,m)}function A(e,a,u,m){if(e>>>=0,a>>>=0,u>>>=0,m>>>=0,typeof SharedArrayBuffer>"u")return oe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var _=[];return M&&_.length===0?w(e,a,u,m):(e={kb:u,Oa:e,hb:m,qb:_},M?(e.sb="spawnThread",postMessage(e,_),0):tt(e))}function I(e,a,u){return M?G(3,1,e,a,u):0}function N(e,a){if(M)return G(4,1,e,a)}var ae=e=>{for(var a=0,u=0;u<e.length;++u){var m=e.charCodeAt(u);127>=m?a++:2047>=m?a+=2:55296<=m&&57343>=m?(a+=4,++u):a+=3}return a},me=(e,a,u,m)=>{if(u>>>=0,!(0<m))return 0;var _=u;m=u+m-1;for(var E=0;E<e.length;++E){var x=e.charCodeAt(E);if(55296<=x&&57343>=x){var Q=e.charCodeAt(++E);x=65536+((x&1023)<<10)|Q&1023}if(127>=x){if(u>=m)break;a[u++>>>0]=x}else{if(2047>=x){if(u+1>=m)break;a[u++>>>0]=192|x>>6}else{if(65535>=x){if(u+2>=m)break;a[u++>>>0]=224|x>>12}else{if(u+3>=m)break;a[u++>>>0]=240|x>>18,a[u++>>>0]=128|x>>12&63}a[u++>>>0]=128|x>>6&63}a[u++>>>0]=128|x&63}}return a[u>>>0]=0,u-_},fe=(e,a,u)=>me(e,f(),a,u);function le(e,a){if(M)return G(5,1,e,a)}function ht(e,a,u){if(M)return G(6,1,e,a,u)}function gt(e,a,u){return M?G(7,1,e,a,u):0}function g(e,a){if(M)return G(8,1,e,a)}function H(e,a,u){if(M)return G(9,1,e,a,u)}function z(e,a,u,m){if(M)return G(10,1,e,a,u,m)}function Ce(e,a,u,m){if(M)return G(11,1,e,a,u,m)}function yt(e,a,u,m){if(M)return G(12,1,e,a,u,m)}function Sr(e){if(M)return G(13,1,e)}function Ar(e,a){if(M)return G(14,1,e,a)}function Mr(e,a,u){if(M)return G(15,1,e,a,u)}function Vt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(i(),e>>>2,e).value.then(xt),e+=128,Atomics.store(i(),e>>>2,1))}s.__emscripten_thread_mailbox_await=Vt;var xt=()=>{var e=Ct();if(e&&(Vt(e),e=qr,!k))try{if(e(),!(0<je))try{M?er(ie):nt(ie)}catch(a){a instanceof ke||a=="unwind"||v(1,a)}}catch(a){a instanceof ke||a=="unwind"||v(1,a)}};s.checkMailbox=xt;var Xt=[],at=e=>e%4===0&&(e%100!==0||e%400===0),xr=[0,31,60,91,121,152,182,213,244,274,305,335],Cr=[0,31,59,90,120,151,181,212,243,273,304,334];function Pr(e,a,u,m,_,E,x,Q){return M?G(16,1,e,a,u,m,_,E,x,Q):-52}function Dr(e,a,u,m,_,E,x){if(M)return G(17,1,e,a,u,m,_,E,x)}var Rr=e=>{var a=ae(e)+1,u=Gr(a);return u&&fe(e,u,a),u},Jt=[],Qt={},Ir=()=>{if(!Zt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:T||"./this.program"},a;for(a in Qt)Qt[a]===void 0?delete e[a]:e[a]=Qt[a];var u=[];for(a in e)u.push(`${a}=${e[a]}`);Zt=u}return Zt},Zt;function Ur(e,a){if(M)return G(18,1,e,a);e>>>=0,a>>>=0;var u=0;return Ir().forEach((m,_)=>{var E=a+u;for(_=p()[e+4*_>>>2>>>0]=E,E=0;E<m.length;++E)n()[_++>>>0>>>0]=m.charCodeAt(E);n()[_>>>0>>>0]=0,u+=m.length+1}),0}function Fr(e,a){if(M)return G(19,1,e,a);e>>>=0,a>>>=0;var u=Ir();p()[e>>>2>>>0]=u.length;var m=0;return u.forEach(_=>m+=_.length+1),p()[a>>>2>>>0]=m,0}function Br(e){return M?G(20,1,e):52}function Lr(e,a,u,m){return M?G(21,1,e,a,u,m):52}function kr(e,a,u,m,_){return M?G(22,1,e,a,u,m,_):70}var va=[null,[],[]];function Nr(e,a,u,m){if(M)return G(23,1,e,a,u,m);a>>>=0,u>>>=0,m>>>=0;for(var _=0,E=0;E<u;E++){var x=p()[a>>>2>>>0],Q=p()[a+4>>>2>>>0];a+=8;for(var Pe=0;Pe<Q;Pe++){var ue=f()[x+Pe>>>0],be=va[e];ue===0||ue===10?((e===1?$e:oe)(dt(be,0)),be.length=0):be.push(ue)}_+=Q}return p()[m>>>2>>>0]=_,0}var Wr=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function Oa(e){var a=Array(ae(e)+1);return me(e,a,0,a.length),a}var _a=(e,a)=>{n().set(e,a>>>0)};function $r(e,a,u,m){function _(y,j,Z){for(y=typeof y=="number"?y.toString():y||"";y.length<j;)y=Z[0]+y;return y}function E(y,j){return _(y,j,"0")}function x(y,j){function Z(Kr){return 0>Kr?-1:0<Kr?1:0}var ze;return(ze=Z(y.getFullYear()-j.getFullYear()))===0&&(ze=Z(y.getMonth()-j.getMonth()))===0&&(ze=Z(y.getDate()-j.getDate())),ze}function Q(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function Pe(y){var j=y.Ra;for(y=new Date(new Date(y.Sa+1900,0,1).getTime());0<j;){var Z=y.getMonth(),ze=(at(y.getFullYear())?Wr:Hr)[Z];if(j>ze-y.getDate())j-=ze-y.getDate()+1,y.setDate(1),11>Z?y.setMonth(Z+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+j);break}}return Z=new Date(y.getFullYear()+1,0,4),j=Q(new Date(y.getFullYear(),0,4)),Z=Q(Z),0>=x(j,y)?0>=x(Z,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,a>>>=0,u>>>=0,m>>>=0;var ue=p()[m+40>>>2>>>0];m={ob:i()[m>>>2>>>0],nb:i()[m+4>>>2>>>0],Ta:i()[m+8>>>2>>>0],Xa:i()[m+12>>>2>>>0],Ua:i()[m+16>>>2>>>0],Sa:i()[m+20>>>2>>>0],Na:i()[m+24>>>2>>>0],Ra:i()[m+28>>>2>>>0],ub:i()[m+32>>>2>>>0],mb:i()[m+36>>>2>>>0],pb:ue?rt(ue):""},u=rt(u),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var be in ue)u=u.replace(new RegExp(be,"g"),ue[be]);var Qr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Zr="January February March April May June July August September October November December".split(" ");ue={"%a":y=>Qr[y.Na].substring(0,3),"%A":y=>Qr[y.Na],"%b":y=>Zr[y.Ua].substring(0,3),"%B":y=>Zr[y.Ua],"%C":y=>E((y.Sa+1900)/100|0,2),"%d":y=>E(y.Xa,2),"%e":y=>_(y.Xa,2," "),"%g":y=>Pe(y).toString().substring(2),"%G":y=>Pe(y),"%H":y=>E(y.Ta,2),"%I":y=>(y=y.Ta,y==0?y=12:12<y&&(y-=12),E(y,2)),"%j":y=>{for(var j=0,Z=0;Z<=y.Ua-1;j+=(at(y.Sa+1900)?Wr:Hr)[Z++]);return E(y.Xa+j,3)},"%m":y=>E(y.Ua+1,2),"%M":y=>E(y.nb,2),"%n":()=>`
`,"%p":y=>0<=y.Ta&&12>y.Ta?"AM":"PM","%S":y=>E(y.ob,2),"%t":()=>"	","%u":y=>y.Na||7,"%U":y=>E(Math.floor((y.Ra+7-y.Na)/7),2),"%V":y=>{var j=Math.floor((y.Ra+7-(y.Na+6)%7)/7);if(2>=(y.Na+371-y.Ra-2)%7&&j++,j)j==53&&(Z=(y.Na+371-y.Ra)%7,Z==4||Z==3&&at(y.Sa)||(j=1));else{j=52;var Z=(y.Na+7-y.Ra-1)%7;(Z==4||Z==5&&at(y.Sa%400-1))&&j++}return E(j,2)},"%w":y=>y.Na,"%W":y=>E(Math.floor((y.Ra+7-(y.Na+6)%7)/7),2),"%y":y=>(y.Sa+1900).toString().substring(2),"%Y":y=>y.Sa+1900,"%z":y=>{y=y.mb;var j=0<=y;return y=Math.abs(y)/60,(j?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.pb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(be in ue)u.includes(be)&&(u=u.replace(new RegExp(be,"g"),ue[be](m)));return u=u.replace(/\0\0/g,"%"),be=Oa(u),be.length>a?0:(_a(be,e),be.length-1)}F.Wa();var Ea=[B,Mt,w,I,N,le,ht,gt,g,H,z,Ce,yt,Sr,Ar,Mr,Pr,Dr,Ur,Fr,Br,Lr,kr,Nr],Ta={b:function(e,a,u){throw e>>>=0,new o(e).Wa(a>>>0,u>>>0),l=e,c++,l},L:function(e){zr(e>>>0,!D,1,!S,131072,!1),F.ab()},j:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):F.Za(F.Ma[e])},H:A,h:I,S:N,D:le,F:ht,T:gt,Q:g,J:H,P:z,n:Ce,E:yt,B:Sr,R:Ar,C:Mr,p:()=>1,z:function(e,a){e>>>=0,e==a>>>0?setTimeout(()=>xt()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,a,u,m){a>>>=0,Xt.length=u,m=m>>>0>>>3;for(var _=0;_<u;_++)Xt[_]=d()[m+_>>>0];return e=0>e?Ke[-e-1]:Ea[e],F.ib=a,a=e.apply(null,Xt),F.ib=0,a},K:Vt,o:function(e){P&&F.Ma[e>>>0].ref()},s:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),i()[u>>>2>>>0]=e.getUTCSeconds(),i()[u+4>>>2>>>0]=e.getUTCMinutes(),i()[u+8>>>2>>>0]=e.getUTCHours(),i()[u+12>>>2>>>0]=e.getUTCDate(),i()[u+16>>>2>>>0]=e.getUTCMonth(),i()[u+20>>>2>>>0]=e.getUTCFullYear()-1900,i()[u+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[u+28>>>2>>>0]=e},t:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),i()[u>>>2>>>0]=e.getSeconds(),i()[u+4>>>2>>>0]=e.getMinutes(),i()[u+8>>>2>>>0]=e.getHours(),i()[u+12>>>2>>>0]=e.getDate(),i()[u+16>>>2>>>0]=e.getMonth(),i()[u+20>>>2>>>0]=e.getFullYear()-1900,i()[u+24>>>2>>>0]=e.getDay(),a=(at(e.getFullYear())?xr:Cr)[e.getMonth()]+e.getDate()-1|0,i()[u+28>>>2>>>0]=a,i()[u+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var m=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=m&&e.getTimezoneOffset()==Math.min(m,a))|0,i()[u+32>>>2>>>0]=e},u:function(e){e>>>=0;var a=new Date(i()[e+20>>>2>>>0]+1900,i()[e+16>>>2>>>0],i()[e+12>>>2>>>0],i()[e+8>>>2>>>0],i()[e+4>>>2>>>0],i()[e>>>2>>>0],0),u=i()[e+32>>>2>>>0],m=a.getTimezoneOffset(),_=new Date(a.getFullYear(),6,1).getTimezoneOffset(),E=new Date(a.getFullYear(),0,1).getTimezoneOffset(),x=Math.min(E,_);return 0>u?i()[e+32>>>2>>>0]=+(_!=E&&x==m):0<u!=(x==m)&&(_=Math.max(E,_),a.setTime(a.getTime()+6e4*((0<u?x:_)-m))),i()[e+24>>>2>>>0]=a.getDay(),u=(at(a.getFullYear())?xr:Cr)[a.getMonth()]+a.getDate()-1|0,i()[e+28>>>2>>>0]=u,i()[e>>>2>>>0]=a.getSeconds(),i()[e+4>>>2>>>0]=a.getMinutes(),i()[e+8>>>2>>>0]=a.getHours(),i()[e+12>>>2>>>0]=a.getDate(),i()[e+16>>>2>>>0]=a.getMonth(),i()[e+20>>>2>>>0]=a.getYear(),e=a.getTime(),isNaN(e)?(i()[jr()>>>2>>>0]=61,e=-1):e/=1e3,Vr((Ue=e,1<=+Math.abs(Ue)?0<Ue?+Math.floor(Ue/4294967296)>>>0:~~+Math.ceil((Ue-+(~~Ue>>>0))/4294967296)>>>0:0)),e>>>0},q:Pr,r:Dr,y:function(e,a,u){function m(ue){return(ue=ue.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ue[1]:"GMT"}e>>>=0,a>>>=0,u>>>=0;var _=new Date().getFullYear(),E=new Date(_,0,1),x=new Date(_,6,1);_=E.getTimezoneOffset();var Q=x.getTimezoneOffset(),Pe=Math.max(_,Q);p()[e>>>2>>>0]=60*Pe,i()[a>>>2>>>0]=+(_!=Q),e=m(E),a=m(x),e=Rr(e),a=Rr(a),Q<_?(p()[u>>>2>>>0]=e,p()[u+4>>>2>>>0]=a):(p()[u>>>2>>>0]=a,p()[u+4>>>2>>>0]=e)},c:()=>{ne("")},O:function(e,a,u){e>>>=0,a>>>=0,u>>>=0,Jt.length=0;for(var m;m=f()[a++>>>0];){var _=m!=105;_&=m!=112,u+=_&&u%8?4:0,Jt.push(m==112?p()[u>>>2>>>0]:m==105?i()[u>>>2>>>0]:d()[u>>>3>>>0]),u+=_?8:4}return Ke[e].apply(null,Jt)},k:()=>{},i:()=>Date.now(),U:()=>{throw je+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>P?(Bn(),Ye(Fn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var a=f().length;if(e<=a||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var m=a*(1+.2/u);m=Math.min(m,e+100663296);var _=Math;m=Math.max(e,m);e:{_=(_.min.call(_,4294901760,m+(65536-m%65536)%65536)-J.buffer.byteLength+65535)/65536;try{J.grow(_),Te();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},M:Ur,N:Fr,G:nt,g:Br,m:Lr,v:kr,l:Nr,a:J||s.wasmMemory,w:$r,d:function(e,a,u,m){return $r(e>>>0,a>>>0,u>>>0,m>>>0)}},U=function(){function e(u,m){return U=u.exports,U=Sa(),F.bb.push(U.za),mt=U.Aa,Be.unshift(U.V),ge=m,se(),U}var a={a:Ta};if(we++,s.instantiateWasm)try{return s.instantiateWasm(a,e)}catch(u){oe(`Module.instantiateWasm callback failed with error: ${u}`),h(u)}return Et(a,function(u){e(u.instance,u.module)}).catch(h),{}}();s._OrtInit=(e,a)=>(s._OrtInit=U.W)(e,a),s._OrtGetLastError=(e,a)=>(s._OrtGetLastError=U.X)(e,a),s._OrtCreateSessionOptions=(e,a,u,m,_,E,x,Q,Pe,ue)=>(s._OrtCreateSessionOptions=U.Y)(e,a,u,m,_,E,x,Q,Pe,ue),s._OrtAppendExecutionProvider=(e,a)=>(s._OrtAppendExecutionProvider=U.Z)(e,a),s._OrtAddFreeDimensionOverride=(e,a,u)=>(s._OrtAddFreeDimensionOverride=U._)(e,a,u),s._OrtAddSessionConfigEntry=(e,a,u)=>(s._OrtAddSessionConfigEntry=U.$)(e,a,u),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=U.aa)(e),s._OrtCreateSession=(e,a,u)=>(s._OrtCreateSession=U.ba)(e,a,u),s._OrtReleaseSession=e=>(s._OrtReleaseSession=U.ca)(e),s._OrtGetInputOutputCount=(e,a,u)=>(s._OrtGetInputOutputCount=U.da)(e,a,u),s._OrtGetInputName=(e,a)=>(s._OrtGetInputName=U.ea)(e,a),s._OrtGetOutputName=(e,a)=>(s._OrtGetOutputName=U.fa)(e,a),s._OrtFree=e=>(s._OrtFree=U.ga)(e),s._OrtCreateTensor=(e,a,u,m,_,E)=>(s._OrtCreateTensor=U.ha)(e,a,u,m,_,E),s._OrtGetTensorData=(e,a,u,m,_)=>(s._OrtGetTensorData=U.ia)(e,a,u,m,_),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=U.ja)(e),s._OrtCreateRunOptions=(e,a,u,m)=>(s._OrtCreateRunOptions=U.ka)(e,a,u,m),s._OrtAddRunConfigEntry=(e,a,u)=>(s._OrtAddRunConfigEntry=U.la)(e,a,u),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=U.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=U.na)(e),s._OrtBindInput=(e,a,u)=>(s._OrtBindInput=U.oa)(e,a,u),s._OrtBindOutput=(e,a,u,m)=>(s._OrtBindOutput=U.pa)(e,a,u,m),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=U.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=U.ra)(e),s._OrtRunWithBinding=(e,a,u,m,_)=>(s._OrtRunWithBinding=U.sa)(e,a,u,m,_),s._OrtRun=(e,a,u,m,_,E,x,Q)=>(s._OrtRun=U.ta)(e,a,u,m,_,E,x,Q),s._OrtEndProfiling=e=>(s._OrtEndProfiling=U.ua)(e);var jr=()=>(jr=U.va)(),Ct=s._pthread_self=()=>(Ct=s._pthread_self=U.wa)(),Gr=s._malloc=e=>(Gr=s._malloc=U.xa)(e);s._free=e=>(s._free=U.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=U.za)();var zr=s.__emscripten_thread_init=(e,a,u,m,_,E)=>(zr=s.__emscripten_thread_init=U.Ba)(e,a,u,m,_,E);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=U.Ca)();var Yr=(e,a,u,m)=>(Yr=U.Da)(e,a,u,m),Kt=e=>(Kt=U.Ea)(e),er=s.__emscripten_thread_exit=e=>(er=s.__emscripten_thread_exit=U.Fa)(e),qr=()=>(qr=U.Ga)(),Vr=e=>(Vr=U.Ha)(e),Xr=(e,a)=>(Xr=U.Ia)(e,a),tr=()=>(tr=U.Ja)(),Pt=e=>(Pt=U.Ka)(e),rr=e=>(rr=U.La)(e);function Sa(){var e=U;e=Object.assign({},e);var a=m=>()=>m()>>>0,u=m=>_=>m(_)>>>0;return e.va=a(e.va),e.wa=a(e.wa),e.xa=u(e.xa),e.emscripten_main_runtime_thread_id=a(e.emscripten_main_runtime_thread_id),e.Ja=a(e.Ja),e.La=u(e.La),e}s.wasmMemory=J,s.stackAlloc=rr,s.stackSave=tr,s.stackRestore=Pt,s.keepRuntimeAlive=()=>0<je,s.UTF8ToString=rt,s.stringToUTF8=fe,s.lengthBytesUTF8=ae,s.ExitStatus=ke,s.PThread=F;var Dt;Ae=function e(){Dt||Jr(),Dt||(Ae=e)};function Jr(){if(!(0<we))if(M)b(s),M||Ge(Be),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Re.unshift(s.preRun.shift());Ge(Re),0<we||Dt||(Dt=!0,s.calledRun=!0,k||(M||Ge(Be),b(s),M||Ge(xe)))}}return Jr(),r.ready}})();typeof kn=="object"&&typeof mr=="object"?mr.exports=Ln:typeof define=="function"&&define.amd&&define([],()=>Ln)});var Wn=ot((Vo,Fa)=>{Fa.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var $n,Ba,hr,gr,Wt,Hn,La,ka,Na,jn,te,st=W(()=>{"use strict";$n=Rn();Ba=Nn(),gr=!1,Wt=!1,Hn=!1,La=t=>{if(t===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+t+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+t+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},ka=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Na=(t,r)=>t?r?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",jn=async t=>{if(gr)return Promise.resolve();if(Wt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Hn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Wt=!0;let r=t.initTimeout,n=t.numThreads,f=t.simd,i=La(n),p=f&&ka(),d=t.wasmPaths,s=typeof d=="string"?d:void 0,b=Na(p,i),h=typeof d=="object"?d[b]:void 0,O=!1,T=[];if(r>0&&T.push(new Promise(v=>{setTimeout(()=>{O=!0,v()},r)})),T.push(new Promise((v,S)=>{let D=i?Ba:$n,P={locateFile:(M,R)=>i&&M.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Wn()],{type:"text/javascript"})):M.endsWith(".wasm")?h||(s??R)+b:R+M};if(i)if(P.numThreads=n,typeof Blob>"u")P.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let M=`var ortWasmThreaded=${D.toString()};`;P.mainScriptUrlOrBlob=new Blob([M],{type:"text/javascript"})}D(P).then(M=>{Wt=!1,gr=!0,hr=M,v()},M=>{Wt=!1,Hn=!0,S(M)})})),await Promise.race(T),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},te=()=>{if(gr&&hr)return hr;throw new Error("WebAssembly is not initialized yet.")}});var re,bt,K,Ht=W(()=>{"use strict";st();re=(t,r)=>{let n=te(),f=n.lengthBytesUTF8(t)+1,i=n._malloc(f);return n.stringToUTF8(t,i,f),r.push(i),i},bt=(t,r,n,f)=>{if(typeof t=="object"&&t!==null){if(n.has(t))throw new Error("Circular reference in options");n.add(t)}Object.entries(t).forEach(([i,p])=>{let d=r?r+i:i;if(typeof p=="object")bt(p,d+".",n,f);else if(typeof p=="string"||typeof p=="number")f(d,p.toString());else if(typeof p=="boolean")f(d,p?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof p}`)})},K=t=>{let r=te(),n=r.stackSave();try{let f=r.stackAlloc(8);r._OrtGetLastError(f,f+4);let i=r.HEAP32[f/4],p=r.HEAPU32[f/4+1],d=p?r.UTF8ToString(p):"";throw new Error(`${t} ERROR_CODE: ${i}, ERROR_MESSAGE: ${d}`)}finally{r.stackRestore(n)}}});var Gn,zn=W(()=>{"use strict";st();Ht();Gn=t=>{let r=te(),n=0,f=[],i=t||{};try{if(t?.logSeverityLevel===void 0)i.logSeverityLevel=2;else if(typeof t.logSeverityLevel!="number"||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(t?.logVerbosityLevel===void 0)i.logVerbosityLevel=0;else if(typeof t.logVerbosityLevel!="number"||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);t?.terminate===void 0&&(i.terminate=!1);let p=0;return t?.tag!==void 0&&(p=re(t.tag,f)),n=r._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,p),n===0&&K("Can't create run options."),t?.extra!==void 0&&bt(t.extra,"",new WeakSet,(d,s)=>{let b=re(d,f),h=re(s,f);r._OrtAddRunConfigEntry(n,b,h)!==0&&K(`Can't set a run config entry: ${d} - ${s}.`)}),[n,f]}catch(p){throw n!==0&&r._OrtReleaseRunOptions(n),f.forEach(d=>r._free(d)),p}}});var Wa,Ha,$a,ja,Yn,qn=W(()=>{"use strict";st();Ht();Wa=t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}},Ha=t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}},$a=t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});let r=t.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),t.executionProviders&&t.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(t.enableMemPattern=!1)},ja=(t,r,n)=>{for(let f of r){let i=typeof f=="string"?f:f.name;switch(i){case"webnn":if(i="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let s=re("deviceType",n),b=re(d.deviceType,n);te()._OrtAddSessionConfigEntry(t,s,b)!==0&&K(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let s=d.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let b=re("numThreads",n),h=re(s.toString(),n);te()._OrtAddSessionConfigEntry(t,b,h)!==0&&K(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let s=re("powerPreference",n),b=re(d.powerPreference,n);te()._OrtAddSessionConfigEntry(t,s,b)!==0&&K(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(i="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let s=re("preferredLayout",n),b=re(d.preferredLayout,n);te()._OrtAddSessionConfigEntry(t,s,b)!==0&&K(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${i}`)}let p=re(i,n);te()._OrtAppendExecutionProvider(t,p)!==0&&K(`Can't append execution provider: ${i}.`)}},Yn=t=>{let r=te(),n=0,f=[],i=t||{};$a(i);try{let p=Wa(i.graphOptimizationLevel??"all"),d=Ha(i.executionMode??"sequential"),s=typeof i.logId=="string"?re(i.logId,f):0,b=i.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let h=i.logVerbosityLevel??0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);let O=typeof i.optimizedModelFilePath=="string"?re(i.optimizedModelFilePath,f):0;if(n=r._OrtCreateSessionOptions(p,!!i.enableCpuMemArena,!!i.enableMemPattern,d,!!i.enableProfiling,0,s,b,h,O),n===0&&K("Can't create session options."),i.executionProviders&&ja(n,i.executionProviders,f),i.freeDimensionOverrides)for(let[T,v]of Object.entries(i.freeDimensionOverrides)){if(typeof T!="string")throw new Error(`free dimension override name must be a string: ${T}`);if(typeof v!="number"||!Number.isInteger(v)||v<0)throw new Error(`free dimension override value must be a non-negative integer: ${v}`);let S=re(T,f);r._OrtAddFreeDimensionOverride(n,S,v)!==0&&K(`Can't set a free dimension override: ${T} - ${v}.`)}return i.extra!==void 0&&bt(i.extra,"",new WeakSet,(T,v)=>{let S=re(T,f),D=re(v,f);r._OrtAddSessionConfigEntry(n,S,D)!==0&&K(`Can't set a session config entry: ${T} - ${v}.`)}),[n,f]}catch(p){throw n!==0&&r._OrtReleaseSessionOptions(n),f.forEach(d=>r._free(d)),p}}});var yr,Vn,wr,Xn,Jn,$t,Qn,br=W(()=>{"use strict";yr=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},Vn=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},wr=t=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][t],Xn=t=>{switch(t){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}},Jn=t=>{switch(t){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${t}`)}},$t=t=>t==="float32"||t==="int32"||t==="int64"||t==="bool"||t==="float16"||t==="uint32",Qn=t=>{switch(t){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${t}`)}}});var vt,vr=W(()=>{"use strict";vt=async t=>{if(typeof t=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(t))}catch(r){if(r.code==="ERR_FS_FILE_TOO_LARGE"){let n=(void 0)(t),f=[];for await(let i of n)f.push(i);return new Uint8Array(Buffer.concat(f))}throw r}else{let r=await fetch(t);if(!r.ok)throw new Error(`failed to load external data file: ${t}`);let n=r.headers.get("Content-Length"),f=n?parseInt(n,10):0;if(f<1073741824)return new Uint8Array(await r.arrayBuffer());{if(!r.body)throw new Error(`failed to load external data file: ${t}, no response body.`);let i=r.body.getReader(),p;try{p=new ArrayBuffer(f)}catch(s){if(s instanceof RangeError){let b=Math.ceil(f/65536);p=new WebAssembly.Memory({initial:b,maximum:b}).buffer}else throw s}let d=0;for(;;){let{done:s,value:b}=await i.read();if(s)break;let h=b.byteLength;new Uint8Array(p,d,h).set(b),d+=h}return new Uint8Array(p,0,f)}}else return t instanceof Blob?new Uint8Array(await t.arrayBuffer()):t instanceof Uint8Array?t:new Uint8Array(t)}});var Ga,Kn,ea,Ot,za,Or,ta,ra,Zn,na,aa,oa,ia=W(()=>{"use strict";zn();qn();br();st();Ht();vr();Ga=(t,r)=>{te()._OrtInit(t,r)!==0&&K("Can't initialize onnxruntime.")},Kn=async t=>{Ga(t.wasm.numThreads,Jn(t.logLevel))},ea=async(t,r)=>{},Ot=new Map,za=t=>{let r=te(),n=r.stackSave();try{let f=r.stackAlloc(8);return r._OrtGetInputOutputCount(t,f,f+4)!==0&&K("Can't get session input/output count."),[r.HEAP32[f/4],r.HEAP32[f/4+1]]}finally{r.stackRestore(n)}},Or=t=>{let r=te(),n=r._malloc(t.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${t.byteLength}.`);return r.HEAPU8.set(t,n),[n,t.byteLength]},ta=async(t,r)=>{let n,f,i=te();Array.isArray(t)?[n,f]=t:t.buffer===i.HEAPU8.buffer?[n,f]=[t.byteOffset,t.byteLength]:[n,f]=Or(t);let p=0,d=0,s=0,b=[],h=[],O=[];try{if([d,b]=Yn(r),r?.externalData&&i.mountExternalData){let R=[];for(let L of r.externalData){let q=typeof L=="string"?L:L.path;R.push(vt(typeof L=="string"?L:L.data).then(X=>{i.mountExternalData(q,X)}))}await Promise.all(R)}p=i._OrtCreateSession(n,f,d),p===0&&K("Can't create a session.");let[T,v]=za(p),S=[],D=[],P=[];for(let R=0;R<T;R++){let L=i._OrtGetInputName(p,R);L===0&&K("Can't get an input name."),h.push(L),S.push(i.UTF8ToString(L))}for(let R=0;R<v;R++){let L=i._OrtGetOutputName(p,R);L===0&&K("Can't get an output name."),O.push(L);let q=i.UTF8ToString(L);D.push(q)}let M=null;return Ot.set(p,[p,h,O,M]),[p,S,D]}catch(T){throw h.forEach(v=>i._OrtFree(v)),O.forEach(v=>i._OrtFree(v)),s!==0&&i._OrtReleaseBinding(s),p!==0&&i._OrtReleaseSession(p),T}finally{i._free(n),d!==0&&i._OrtReleaseSessionOptions(d),b.forEach(T=>i._free(T)),i.unmountExternalData?.()}},ra=t=>{let r=te(),n=Ot.get(t);if(!n)throw new Error(`cannot release session. invalid session id: ${t}`);let[f,i,p,d]=n;d&&r._OrtReleaseBinding(d.handle),r.jsepUnregisterBuffers?.(t),i.forEach(s=>r._OrtFree(s)),p.forEach(s=>r._OrtFree(s)),r._OrtReleaseSession(f),Ot.delete(t)},Zn=(t,r,n,f,i)=>{if(!t){r.push(0);return}let p=te(),d=t[0],s=t[1],b=t[3],h,O;if(d==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let S=t[2].gpuBuffer,D=wr(yr(d));O=s.reduce((P,M)=>P*M,1)*D,h=p.jsepRegisterBuffer(f,i,S,O)}else{let S=t[2];if(Array.isArray(S)){O=4*S.length,h=p._malloc(O),n.push(h);let D=h/4;for(let P=0;P<S.length;P++){if(typeof S[P]!="string")throw new TypeError(`tensor data at index ${P} is not a string`);p.HEAPU32[D++]=re(S[P],n)}}else O=S.byteLength,h=p._malloc(O),n.push(h),p.HEAPU8.set(new Uint8Array(S.buffer,S.byteOffset,O),h)}let T=p.stackSave(),v=p.stackAlloc(4*s.length);try{let S=v/4;s.forEach(P=>p.HEAP32[S++]=P);let D=p._OrtCreateTensor(yr(d),h,O,v,s.length,Qn(b));D===0&&K(`Can't create tensor for input/output. session=${f}, index=${i}.`),r.push(D)}finally{p.stackRestore(T)}},na=async(t,r,n,f,i,p)=>{let d=te(),s=Ot.get(t);if(!s)throw new Error(`cannot run inference. invalid session id: ${t}`);let[b,h,O,T]=s,v=r.length,S=f.length,D=0,P=[],M=[],R=[],L=[],q=d.stackSave(),X=d.stackAlloc(v*4),V=d.stackAlloc(v*4),C=d.stackAlloc(S*4),Y=d.stackAlloc(S*4);try{[D,P]=Gn(p);for(let k=0;k<v;k++)Zn(n[k],M,L,t,r[k]);for(let k=0;k<S;k++)Zn(i[k],R,L,t,v+f[k]);let de=X/4,He=V/4,$e=C/4,oe=Y/4;for(let k=0;k<v;k++)d.HEAPU32[de++]=M[k],d.HEAPU32[He++]=h[r[k]];for(let k=0;k<S;k++)d.HEAPU32[$e++]=R[k],d.HEAPU32[oe++]=O[f[k]];let J;J=await d._OrtRun(b,V,X,v,Y,S,C,D),J!==0&&K("failed to call OrtRun().");let ge=[];for(let k=0;k<S;k++){let ie=d.HEAPU32[C/4+k];if(ie===R[k]){ge.push(i[k]);continue}let ye=d.stackSave(),ve=d.stackAlloc(4*4),Oe=!1,ee,pe=0;try{d._OrtGetTensorData(ie,ve,ve+4,ve+8,ve+12)!==0&&K(`Can't access output tensor data on index ${k}.`);let De=ve/4,Re=d.HEAPU32[De++];pe=d.HEAPU32[De++];let Be=d.HEAPU32[De++],xe=d.HEAPU32[De++],we=[];for(let se=0;se<xe;se++)we.push(d.HEAPU32[Be/4+se]);d._OrtFree(Be);let Se=we.reduce((se,ne)=>se*ne,1);ee=Vn(Re);let Ae=T?.outputPreferredLocations[f[k]];if(ee==="string"){if(Ae==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let se=[],ne=pe/4;for(let Ie=0;Ie<Se;Ie++){let _e=d.HEAPU32[ne++],Me=Ie===Se-1?void 0:d.HEAPU32[ne]-_e;se.push(d.UTF8ToString(_e,Me))}ge.push([ee,we,se,"cpu"])}else if(Ae==="gpu-buffer"&&Se>0){let se=d.jsepGetBuffer(pe),ne=wr(Re);if(ne===void 0||!$t(ee))throw new Error(`Unsupported data type: ${ee}`);Oe=!0,ge.push([ee,we,{gpuBuffer:se,download:d.jsepCreateDownloader(se,Se*ne,ee),dispose:()=>{d._OrtReleaseTensor(ie)}},"gpu-buffer"])}else{let se=Xn(ee),ne=new se(Se);new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength).set(d.HEAPU8.subarray(pe,pe+ne.byteLength)),ge.push([ee,we,ne,"cpu"])}}finally{d.stackRestore(ye),ee==="string"&&pe&&d._free(pe),Oe||d._OrtReleaseTensor(ie)}}return T&&d._OrtClearBoundOutputs(T.handle),ge}finally{d.stackRestore(q),M.forEach(de=>d._OrtReleaseTensor(de)),R.forEach(de=>d._OrtReleaseTensor(de)),L.forEach(de=>d._free(de)),D!==0&&d._OrtReleaseRunOptions(D),P.forEach(de=>d._free(de))}},aa=t=>{let r=te(),n=Ot.get(t);if(!n)throw new Error("invalid session id");let f=n[0],i=r._OrtEndProfiling(f);i===0&&K("Can't get an profile file name."),r._OrtFree(i)},oa=t=>{let r=[];for(let n of t){let f=n[2];!Array.isArray(f)&&"buffer"in f&&r.push(f.buffer)}return r}});var sa=ot((mi,qa)=>{qa.exports='/*!\n * ONNX Runtime Web v1.17.1\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var St=(u,d)=>()=>(u&&(d=u(u=0)),d);var et=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports),Tt=(u,d)=>{for(var a in d)Et(u,a,{get:d[a],enumerable:!0})},Zr=(u,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let l of Xr(d))!Qr.call(u,l)&&l!==a&&Et(u,l,{get:()=>d[l],enumerable:!(h=Jr(d,l))||h.enumerable});return u};var tt=u=>Zr(Et({},"__esModule",{value:!0}),u);var At={};Tt(At,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=St(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};Tt(Ct,{join:()=>tn});var tn,Dt=St(()=>{tn=void 0});var gr=et((mr,xt)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){var a=d,h,l;a.ready=new Promise((r,o)=>{h=r,l=o});var w=Object.assign({},a),g="./this.program",i=typeof window=="object",A=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",B,F,U;if(D){var k=(Mt(),tt(At)),L=(Dt(),tt(Ct));I=A?L.dirname(I)+"/":__dirname+"/",B=(r,o)=>(r=ye(r)?new URL(r):L.normalize(r),k.readFileSync(r,o?void 0:"utf8")),U=r=>(r=B(r,!0),r.buffer||(r=new Uint8Array(r)),r),F=(r,o,s,m=!0)=>{r=ye(r)?new URL(r):L.normalize(r),k.readFile(r,m?void 0:"utf8",(O,S)=>{O?s(O):o(m?S.buffer:S)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(i||A)&&(A?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),u&&(I=u),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",B=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},A&&(U=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),F=(r,o,s)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var _=console.log.bind(console),x=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&de("no native wasm support detected");var N,he=!1,ie,ae,E,Y,ue;function Re(){var r=N.buffer;a.HEAP8=ie=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAPU8=ae=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAP32=E=new Int32Array(r),a.HEAPU32=Y=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=ue=new Float64Array(r)}var Ie=[],ee=[],j=[],ce=0,P=null,te=null;function de(r){throw r="Aborted("+r+")",x(r),he=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}var ge=r=>r.startsWith("data:application/octet-stream;base64,"),ye=r=>r.startsWith("file://"),J;if(J="ort-wasm.wasm",!ge(J)){var fe=J;J=a.locateFile?a.locateFile(fe,I):I+fe}function we(r){if(U)return U(r);throw"both async and sync fetching of the wasm failed"}function Ae(r){if(i||A){if(typeof fetch=="function"&&!ye(r))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>we(r));if(F)return new Promise((o,s)=>{F(r,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>we(r))}function Me(r,o,s){return Ae(r).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{x(`failed to asynchronously prepare wasm: ${m}`),de(m)})}function Fe(r,o){var s=J;return typeof WebAssembly.instantiateStreaming!="function"||ge(s)||ye(s)||D||typeof fetch!="function"?Me(s,r,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(o,function(O){return x(`wasm streaming compile failed: ${O}`),x("falling back to ArrayBuffer instantiation"),Me(s,r,o)}))}var Ee,pe={919888:(r,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(r=be(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=a.za.get(r),!r)return 2;if(o>>>=0,s>>>=0,o+s>r.byteLength)return 3;try{return ae.set(r.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Oe(r){this.xa=r-24,this.Ha=function(o){Y[this.xa+4>>>2>>>0]=o},this.Ga=function(o){Y[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){Y[this.xa+16>>>2>>>0]=0}}var ve=0,re=0,Z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(r,o,s)=>{o>>>=0;var m=o+s;for(s=o;r[s]&&!(s>=m);)++s;if(16<s-o&&r.buffer&&Z)return Z.decode(r.subarray(o,s));for(m="";o<s;){var O=r[o++];if(O&128){var S=r[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|S);else{var R=r[o++]&63;O=(O&240)==224?(O&15)<<12|S<<6|R:(O&7)<<18|S<<12|R<<6|r[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},be=(r,o)=>(r>>>=0)?Ce(ae,r,o):"",_e=r=>{for(var o=0,s=0;s<r.length;++s){var m=r.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},ke=(r,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var S=0;S<r.length;++S){var R=r.charCodeAt(S);if(55296<=R&&57343>=R){var K=r.charCodeAt(++S);R=65536+((R&1023)<<10)|K&1023}if(127>=R){if(s>=m)break;o[s++>>>0]=R}else{if(2047>=R){if(s+1>=m)break;o[s++>>>0]=192|R>>6}else{if(65535>=R){if(s+2>=m)break;o[s++>>>0]=224|R>>12}else{if(s+3>=m)break;o[s++>>>0]=240|R>>18,o[s++>>>0]=128|R>>12&63}o[s++>>>0]=128|R>>6&63}o[s++>>>0]=128|R&63}}return o[s>>>0]=0,s-O},Ue=r=>r%4===0&&(r%100!==0||r%400===0),ze=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],De=r=>{var o=_e(r)+1,s=st(o);return s&&ke(r,ae,s,o),s},Ne=[],Pe={},He=()=>{if(!$e){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Pe)Pe[o]===void 0?delete r[o]:r[o]=Pe[o];var s=[];for(o in r)s.push(`${o}=${r[o]}`);$e=s}return $e},$e,Le=[null,[],[]],qe=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=[31,28,31,30,31,30,31,31,30,31,30,31];function Ge(r){var o=Array(_e(r)+1);return ke(r,o,0,o.length),o}function ot(r,o,s,m){function O(c,W,G){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=G[0]+c;return c}function S(c,W){return O(c,W,"0")}function R(c,W){function G(Ke){return 0>Ke?-1:0<Ke?1:0}var Se;return(Se=G(c.getFullYear()-W.getFullYear()))===0&&(Se=G(c.getMonth()-W.getMonth()))===0&&(Se=G(c.getDate()-W.getDate())),Se}function K(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function le(c){var W=c.ta;for(c=new Date(new Date(c.ua+1900,0,1).getTime());0<W;){var G=c.getMonth(),Se=(Ue(c.getFullYear())?qe:Ve)[G];if(W>Se-c.getDate())W-=Se-c.getDate()+1,c.setDate(1),11>G?c.setMonth(G+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return G=new Date(c.getFullYear()+1,0,4),W=K(new Date(c.getFullYear(),0,4)),G=K(G),0>=R(W,c)?0>=R(G,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}r>>>=0,o>>>=0,s>>>=0,m>>>=0;var oe=Y[m+40>>>2>>>0];m={Da:E[m>>>2>>>0],Ca:E[m+4>>>2>>>0],va:E[m+8>>>2>>>0],ya:E[m+12>>>2>>>0],wa:E[m+16>>>2>>>0],ua:E[m+20>>>2>>>0],oa:E[m+24>>>2>>>0],ta:E[m+28>>>2>>>0],Ia:E[m+32>>>2>>>0],Ba:E[m+36>>>2>>>0],Ea:oe?be(oe):""},s=be(s),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var se in oe)s=s.replace(new RegExp(se,"g"),oe[se]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ze="January February March April May June July August September October November December".split(" ");oe={"%a":c=>Qe[c.oa].substring(0,3),"%A":c=>Qe[c.oa],"%b":c=>Ze[c.wa].substring(0,3),"%B":c=>Ze[c.wa],"%C":c=>S((c.ua+1900)/100|0,2),"%d":c=>S(c.ya,2),"%e":c=>O(c.ya,2," "),"%g":c=>le(c).toString().substring(2),"%G":c=>le(c),"%H":c=>S(c.va,2),"%I":c=>(c=c.va,c==0?c=12:12<c&&(c-=12),S(c,2)),"%j":c=>{for(var W=0,G=0;G<=c.wa-1;W+=(Ue(c.ua+1900)?qe:Ve)[G++]);return S(c.ya+W,3)},"%m":c=>S(c.wa+1,2),"%M":c=>S(c.Ca,2),"%n":()=>`\n`,"%p":c=>0<=c.va&&12>c.va?"AM":"PM","%S":c=>S(c.Da,2),"%t":()=>"	","%u":c=>c.oa||7,"%U":c=>S(Math.floor((c.ta+7-c.oa)/7),2),"%V":c=>{var W=Math.floor((c.ta+7-(c.oa+6)%7)/7);if(2>=(c.oa+371-c.ta-2)%7&&W++,W)W==53&&(G=(c.oa+371-c.ta)%7,G==4||G==3&&Ue(c.ua)||(W=1));else{W=52;var G=(c.oa+7-c.ta-1)%7;(G==4||G==5&&Ue(c.ua%400-1))&&W++}return S(W,2)},"%w":c=>c.oa,"%W":c=>S(Math.floor((c.ta+7-(c.oa+6)%7)/7),2),"%y":c=>(c.ua+1900).toString().substring(2),"%Y":c=>c.ua+1900,"%z":c=>{c=c.Ba;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(se in oe)s.includes(se)&&(s=s.replace(new RegExp(se,"g"),oe[se](m)));return s=s.replace(/\\0\\0/g,"%"),se=Ge(s),se.length>o?0:(ie.set(se,r>>>0),se.length-1)}var $={a:function(r,o,s){throw r>>>=0,new Oe(r).Aa(o>>>0,s>>>0),ve=r,re++,ve},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getUTCSeconds(),E[s+4>>>2>>>0]=r.getUTCMinutes(),E[s+8>>>2>>>0]=r.getUTCHours(),E[s+12>>>2>>>0]=r.getUTCDate(),E[s+16>>>2>>>0]=r.getUTCMonth(),E[s+20>>>2>>>0]=r.getUTCFullYear()-1900,E[s+24>>>2>>>0]=r.getUTCDay(),E[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),E[s>>>2>>>0]=r.getSeconds(),E[s+4>>>2>>>0]=r.getMinutes(),E[s+8>>>2>>>0]=r.getHours(),E[s+12>>>2>>>0]=r.getDate(),E[s+16>>>2>>>0]=r.getMonth(),E[s+20>>>2>>>0]=r.getFullYear()-1900,E[s+24>>>2>>>0]=r.getDay(),E[s+28>>>2>>>0]=(Ue(r.getFullYear())?ze:at)[r.getMonth()]+r.getDate()-1|0,E[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();E[s+32>>>2>>>0]=(o!=m&&r.getTimezoneOffset()==Math.min(m,o))|0},p:function(r){r>>>=0;var o=new Date(E[r+20>>>2>>>0]+1900,E[r+16>>>2>>>0],E[r+12>>>2>>>0],E[r+8>>>2>>>0],E[r+4>>>2>>>0],E[r>>>2>>>0],0),s=E[r+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(S,O);return 0>s?E[r+32>>>2>>>0]=+(O!=S&&R==m):0<s!=(R==m)&&(O=Math.max(S,O),o.setTime(o.getTime()+6e4*((0<s?R:O)-m))),E[r+24>>>2>>>0]=o.getDay(),E[r+28>>>2>>>0]=(Ue(o.getFullYear())?ze:at)[o.getMonth()]+o.getDate()-1|0,E[r>>>2>>>0]=o.getSeconds(),E[r+4>>>2>>>0]=o.getMinutes(),E[r+8>>>2>>>0]=o.getHours(),E[r+12>>>2>>>0]=o.getDate(),E[r+16>>>2>>>0]=o.getMonth(),E[r+20>>>2>>>0]=o.getYear(),r=o.getTime(),isNaN(r)?(E[Ye()>>>2>>>0]=61,r=-1):r/=1e3,Je((Ee=r,1<=+Math.abs(Ee)?0<Ee?+Math.floor(Ee/4294967296)>>>0:~~+Math.ceil((Ee-+(~~Ee>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},t:function(r,o,s){function m(le){return(le=le.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?le[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),S=new Date(O,0,1),R=new Date(O,6,1);O=S.getTimezoneOffset();var K=R.getTimezoneOffset();Y[r>>>0>>>2>>>0]=60*Math.max(O,K),E[o>>>0>>>2>>>0]=+(O!=K),r=m(S),o=m(R),r=De(r),o=De(o),K<O?(Y[s>>>2>>>0]=r,Y[s+4>>>2>>>0]=o):(Y[s>>>2>>>0]=o,Y[s+4>>>2>>>0]=r)},d:()=>{de("")},B:function(r,o,s){r>>>=0,o>>>=0,s>>>=0,Ne.length=0;for(var m;m=ae[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Ne.push(m==112?Y[s>>>2>>>0]:m==105?E[s>>>2>>>0]:ue[s>>>3>>>0]),s+=O?8:4}return pe[r].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,s){return o>>>=0,ae.copyWithin(r>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(r){r>>>=0;var o=ae.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,r+100663296);var O=Math;m=Math.max(r,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow(O),Re();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var s=0;return He().forEach((m,O)=>{var S=o+s;for(O=Y[r+4*O>>>2>>>0]=S,S=0;S<m.length;++S)ie[O++>>>0>>>0]=m.charCodeAt(S);ie[O>>>0>>>0]=0,s+=m.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var s=He();Y[r>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),Y[o>>>2>>>0]=m,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,S=0;S<s;S++){var R=Y[o>>>2>>>0],K=Y[o+4>>>2>>>0];o+=8;for(var le=0;le<K;le++){var oe=ae[R+le>>>0],se=Le[r];oe===0||oe===10?((r===1?_:x)(Ce(se,0)),se.length=0):se.push(oe)}O+=K}return Y[m>>>2>>>0]=O,0},r:ot,c:function(r,o,s,m){return ot(r>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function r(s){return C=s.exports,C=ut(),N=C.K,Re(),ee.unshift(C.L),ce--,ce==0&&(P!==null&&(clearInterval(P),P=null),te&&(s=te,te=null,s())),C}var o={a:$};if(ce++,a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(s){x(`Module.instantiateWasm callback failed with error: ${s}`),l(s)}return Fe(o,function(s){r(s.instance)}).catch(l),{}}();a._OrtInit=(r,o)=>(a._OrtInit=C.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=C.N)(r,o),a._OrtCreateSessionOptions=(r,o,s,m,O,S,R,K,le,oe)=>(a._OrtCreateSessionOptions=C.O)(r,o,s,m,O,S,R,K,le,oe),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=C.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(r,o,s),a._OrtAddSessionConfigEntry=(r,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(r,o,s),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=C.S)(r),a._OrtCreateSession=(r,o,s)=>(a._OrtCreateSession=C.T)(r,o,s),a._OrtReleaseSession=r=>(a._OrtReleaseSession=C.U)(r),a._OrtGetInputOutputCount=(r,o,s)=>(a._OrtGetInputOutputCount=C.V)(r,o,s),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=C.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=C.X)(r,o),a._OrtFree=r=>(a._OrtFree=C.Y)(r),a._OrtCreateTensor=(r,o,s,m,O,S)=>(a._OrtCreateTensor=C.Z)(r,o,s,m,O,S),a._OrtGetTensorData=(r,o,s,m,O)=>(a._OrtGetTensorData=C._)(r,o,s,m,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=C.$)(r),a._OrtCreateRunOptions=(r,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(r,o,s,m),a._OrtAddRunConfigEntry=(r,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(r,o,s),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=C.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=C.da)(r),a._OrtBindInput=(r,o,s)=>(a._OrtBindInput=C.ea)(r,o,s),a._OrtBindOutput=(r,o,s,m)=>(a._OrtBindOutput=C.fa)(r,o,s,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=C.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=C.ha)(r),a._OrtRunWithBinding=(r,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(r,o,s,m,O),a._OrtRun=(r,o,s,m,O,S,R,K)=>(a._OrtRun=C.ja)(r,o,s,m,O,S,R,K),a._OrtEndProfiling=r=>(a._OrtEndProfiling=C.ka)(r);var Ye=()=>(Ye=C.la)(),st=a._malloc=r=>(st=a._malloc=C.ma)(r);a._free=r=>(a._free=C.na)(r);var Je=r=>(Je=C.pa)(r),it=()=>(it=C.qa)(),M=r=>(M=C.ra)(r),Be=r=>(Be=C.sa)(r);function ut(){var r=C;r=Object.assign({},r);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return r.la=o(r.la),r.ma=s(r.ma),r.qa=o(r.qa),r.sa=s(r.sa),r}a.stackAlloc=Be,a.stackSave=it,a.stackRestore=M,a.UTF8ToString=be,a.stringToUTF8=(r,o,s)=>ke(r,ae,o,s),a.lengthBytesUTF8=_e;var xe;te=function r(){xe||Xe(),xe||(te=r)};function Xe(){if(!(0<ce)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var r=a.preRun.shift();Ie.unshift(r)}for(;0<Ie.length;)Ie.shift()(a);if(!(0<ce||xe||(xe=!0,a.calledRun=!0,he))){for(;0<ee.length;)ee.shift()(a);for(h(a);0<j.length;)j.shift()(a)}}}return Xe(),d.ready}})();typeof mr=="object"&&typeof xt=="object"?xt.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=et(()=>{});var yr=et(()=>{});var br={};Tt(br,{cpus:()=>rn});var rn,wr=St(()=>{rn=void 0});var _r=et((vr,Ft)=>{"use strict";var Or=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){function a(){return j.buffer!=de.buffer&&we(),de}function h(){return j.buffer!=de.buffer&&we(),ge}function l(){return j.buffer!=de.buffer&&we(),ye}function w(){return j.buffer!=de.buffer&&we(),J}function g(){return j.buffer!=de.buffer&&we(),fe}var i=d,A,D;i.ready=new Promise((e,t)=>{A=e,D=t});var I=Object.assign({},i),B="./this.program",F=(e,t)=>{throw t},U=typeof window=="object",k=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=i.ENVIRONMENT_IS_PTHREAD||!1,x="";function N(e){return i.locateFile?i.locateFile(e,x):x+e}var he,ie,ae;if(L){var E=(Mt(),tt(At)),Y=(Dt(),tt(Ct));x=k?Y.dirname(x)+"/":__dirname+"/",he=(t,n)=>(t=be(t)?new URL(t):Y.normalize(t),E.readFileSync(t,n?void 0:"utf8")),ae=t=>(t=he(t,!0),t.buffer||(t=new Uint8Array(t)),t),ie=(t,n,f,y=!0)=>{t=be(t)?new URL(t):Y.normalize(t),E.readFile(t,y?void 0:"utf8",(b,v)=>{b?f(b):n(y?v.buffer:v)})},!i.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(t,n)=>{throw process.exitCode=t,n},i.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(U||k)&&(k?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof u<"u"&&u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",L||(he=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},k&&(ae=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ie=(e,t,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?t(f.response):n()},f.onerror=n,f.send(null)}));L&&typeof performance>"u"&&(global.performance=yr().performance);var ue=console.log.bind(console),Re=console.error.bind(console);L&&(ue=(...e)=>E.writeSync(1,e.join(" ")+`\n`),Re=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var Ie=ue,ee=Re;Object.assign(i,I),I=null,typeof WebAssembly!="object"&&Z("no native wasm support detected");var j,ce,P=!1,te,de,ge,ye,J,fe;function we(){var e=j.buffer;i.HEAP8=de=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ge=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=ye=new Int32Array(e),i.HEAPU32=J=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=fe=new Float64Array(e)}var Ae=16777216;if(_)j=i.wasmMemory;else if(i.wasmMemory)j=i.wasmMemory;else if(j=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(j.buffer instanceof SharedArrayBuffer))throw ee("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&ee("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");we(),Ae=j.buffer.byteLength;var Me=[],Fe=[],Ee=[],pe=0,Oe=null,ve=null;function re(){if(pe--,pe==0&&(Oe!==null&&(clearInterval(Oe),Oe=null),ve)){var e=ve;ve=null,e()}}function Z(e){throw e="Aborted("+e+")",ee(e),P=!0,te=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Ce=e=>e.startsWith("data:application/octet-stream;base64,"),be=e=>e.startsWith("file://"),_e;_e="ort-wasm-threaded.wasm",Ce(_e)||(_e=N(_e));function ke(e){if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function Ue(e){if(U||k){if(typeof fetch=="function"&&!be(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>ke(e));if(ie)return new Promise((t,n)=>{ie(e,f=>t(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>ke(e))}function ze(e,t,n){return Ue(e).then(f=>WebAssembly.instantiate(f,t)).then(f=>f).then(n,f=>{ee(`failed to asynchronously prepare wasm: ${f}`),Z(f)})}function at(e,t){var n=_e;return typeof WebAssembly.instantiateStreaming!="function"||Ce(n)||be(n)||L||typeof fetch!="function"?ze(n,e,t):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(t,function(y){return ee(`wasm streaming compile failed: ${y}`),ee("falling back to ArrayBuffer instantiation"),ze(n,e,t)}))}var De,Ne={921276:(e,t,n,f)=>{if(typeof i>"u"||!i.cb)return 1;if(e=Ge(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(t>>>=0,n>>>=0,f>>>=0,t+n>e.byteLength)return 3;try{return h().set(e.subarray(t,t+n),f>>>0),0}catch{return 4}}};function Pe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},$e=e=>{M.Pa.length==0&&(Je(),M.Ya(M.Pa[0]));var t=M.Pa.pop();if(!t)return 6;M.Qa.push(t),M.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return L&&t.unref(),t.postMessage(n,e.qb),0},Le=0,qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(e,t,n)=>{t>>>=0;var f=t+n;for(n=t;e[n]&&!(n>=f);)++n;if(16<n-t&&e.buffer&&qe)return qe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(f="";t<n;){var y=e[t++];if(y&128){var b=e[t++]&63;if((y&224)==192)f+=String.fromCharCode((y&31)<<6|b);else{var v=e[t++]&63;y=(y&240)==224?(y&15)<<12|b<<6|v:(y&7)<<18|b<<12|v<<6|e[t++]&63,65536>y?f+=String.fromCharCode(y):(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else f+=String.fromCharCode(y)}return f},Ge=(e,t)=>(e>>>=0)?Ve(h(),e,t):"",ot=e=>{var t=vt();return e=e(),ct(t),e};function $(e,t){var n=arguments.length-2,f=arguments;return ot(()=>{for(var y=_t(8*n),b=y>>>3,v=0;v<n;v++){var z=f[2+v];g()[b+v>>>0]=z}return ar(e,n,y,t)})}function C(e){if(_)return $(0,1,e);te=e,0<Le||(M.lb(),i.onExit?.(e),P=!0),F(e,new Pe(e))}var Ye=e=>{if(te=e,_)throw ut(e),"unwind";C(e)};function st(){for(var e=i.numThreads;e--;)Je();Me.unshift(()=>{pe++,it(()=>re())})}function Je(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),M.Pa.push(e)}function it(e){_?e():Promise.all(M.Pa.map(M.Ya)).then(e)}var M={Pa:[],Qa:[],bb:[],Ma:{},Wa(){_?(M.receiveObjectTransfer=M.jb,M.threadInitTLS=M.ab,M.setExitStatus=M.$a):st()},$a:e=>te=e,tb:["$terminateWorker"],lb:()=>{for(var e of M.Qa)He(e);for(e of M.Pa)He(e);M.Pa=[],M.Qa=[],M.Ma=[]},Za:e=>{var t=e.Oa;delete M.Ma[t],M.Pa.push(e),M.Qa.splice(M.Qa.indexOf(e),1),e.Oa=0,wt(t)},jb(){},ab(){M.bb.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var v=b.cmd;if(b.targetThread&&b.targetThread!=lt()){var z=M.Ma[b.targetThread];z?z.postMessage(b,b.transferList):ee(`Internal error! Worker sent a message "${v}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ft():v==="spawnThread"?$e(b):v==="cleanupThread"?M.Za(M.Ma[b.thread]):v==="killThread"?(b=b.thread,v=M.Ma[b],delete M.Ma[b],He(v),wt(b),M.Qa.splice(M.Qa.indexOf(v),1),v.Oa=0):v==="cancelThread"?M.Ma[b.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,L&&!e.Oa&&e.unref(),t(e)):v==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):v==="callHandler"?i[b.handler](...b.args):v&&ee(`worker sent an unknown command ${v}`)},e.onerror=b=>{throw ee(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},L&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var n=[],f=["onExit"],y;for(y of f)i.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:j,wasmModule:ce})})};i.PThread=M;var Be=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=lt(),t=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],ir(t,t-e),ct(t)};function ut(e){if(_)return $(1,0,e);Ye(e)}var xe=[],Xe;i.invokeEntryPoint=(e,t)=>{var n=xe[e];n||(e>=xe.length&&(xe.length=e+1),xe[e]=n=Xe.get(e)),e=n(t),0<Le?M.$a(e):Ot(e)};function r(e){this.Va=e-24,this.gb=function(t){w()[this.Va+4>>>2>>>0]=t},this.fb=function(t){w()[this.Va+8>>>2>>>0]=t},this.Wa=function(t,n){this.eb(),this.gb(t),this.fb(n)},this.eb=function(){w()[this.Va+16>>>2>>>0]=0}}var o=0,s=0;function m(e,t,n,f){return _?$(2,1,e,t,n,f):O(e,t,n,f)}function O(e,t,n,f){if(e>>>=0,t>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return ee("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return _&&y.length===0?m(e,t,n,f):(e={kb:n,Oa:e,hb:f,qb:y},_?(e.sb="spawnThread",postMessage(e,y),0):$e(e))}function S(e,t,n){return _?$(3,1,e,t,n):0}function R(e,t){if(_)return $(4,1,e,t)}var K=e=>{for(var t=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?t++:2047>=f?t+=2:55296<=f&&57343>=f?(t+=4,++n):t+=3}return t},le=(e,t,n,f)=>{if(n>>>=0,!(0<f))return 0;var y=n;f=n+f-1;for(var b=0;b<e.length;++b){var v=e.charCodeAt(b);if(55296<=v&&57343>=v){var z=e.charCodeAt(++b);v=65536+((v&1023)<<10)|z&1023}if(127>=v){if(n>=f)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=f)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=f)break;t[n++>>>0]=224|v>>12}else{if(n+3>=f)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-y},oe=(e,t,n)=>le(e,h(),t,n);function se(e,t){if(_)return $(5,1,e,t)}function Qe(e,t,n){if(_)return $(6,1,e,t,n)}function Ze(e,t,n){return _?$(7,1,e,t,n):0}function c(e,t){if(_)return $(8,1,e,t)}function W(e,t,n){if(_)return $(9,1,e,t,n)}function G(e,t,n,f){if(_)return $(10,1,e,t,n,f)}function Se(e,t,n,f){if(_)return $(11,1,e,t,n,f)}function Ke(e,t,n,f){if(_)return $(12,1,e,t,n,f)}function Bt(e){if(_)return $(13,1,e)}function Wt(e,t){if(_)return $(14,1,e,t)}function kt(e,t,n){if(_)return $(15,1,e,t,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(l(),e>>>2,e).value.then(ft),e+=128,Atomics.store(l(),e>>>2,1))}i.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!P))try{if(e(),!(0<Le))try{_?Ot(te):Ye(te)}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}}catch(t){t instanceof Pe||t=="unwind"||F(1,t)}};i.checkMailbox=ft;var gt=[],je=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,t,n,f,y,b,v,z){return _?$(16,1,e,t,n,f,y,b,v,z):-52}function Gt(e,t,n,f,y,b,v){if(_)return $(17,1,e,t,n,f,y,b,v)}var Yt=e=>{var t=K(e)+1,n=rr(t);return n&&oe(e,n,t),n},ht=[],yt={},jt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},t;for(t in yt)yt[t]===void 0?delete e[t]:e[t]=yt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt;function zt(e,t){if(_)return $(18,1,e,t);e>>>=0,t>>>=0;var n=0;return jt().forEach((f,y)=>{var b=t+n;for(y=w()[e+4*y>>>2>>>0]=b,b=0;b<f.length;++b)a()[y++>>>0>>>0]=f.charCodeAt(b);a()[y>>>0>>>0]=0,n+=f.length+1}),0}function qt(e,t){if(_)return $(19,1,e,t);e>>>=0,t>>>=0;var n=jt();w()[e>>>2>>>0]=n.length;var f=0;return n.forEach(y=>f+=y.length+1),w()[t>>>2>>>0]=f,0}function Vt(e){return _?$(20,1,e):52}function Jt(e,t,n,f){return _?$(21,1,e,t,n,f):52}function Xt(e,t,n,f,y){return _?$(22,1,e,t,n,f,y):70}var Gr=[null,[],[]];function Qt(e,t,n,f){if(_)return $(23,1,e,t,n,f);t>>>=0,n>>>=0,f>>>=0;for(var y=0,b=0;b<n;b++){var v=w()[t>>>2>>>0],z=w()[t+4>>>2>>>0];t+=8;for(var Te=0;Te<z;Te++){var ne=h()[v+Te>>>0],me=Gr[e];ne===0||ne===10?((e===1?Ie:ee)(Ve(me,0)),me.length=0):me.push(ne)}y+=z}return w()[f>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function Yr(e){var t=Array(K(e)+1);return le(e,t,0,t.length),t}var jr=(e,t)=>{a().set(e,t>>>0)};function er(e,t,n,f){function y(p,H,q){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=q[0]+p;return p}function b(p,H){return y(p,H,"0")}function v(p,H){function q(cr){return 0>cr?-1:0<cr?1:0}var We;return(We=q(p.getFullYear()-H.getFullYear()))===0&&(We=q(p.getMonth()-H.getMonth()))===0&&(We=q(p.getDate()-H.getDate())),We}function z(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Te(p){var H=p.Ra;for(p=new Date(new Date(p.Sa+1900,0,1).getTime());0<H;){var q=p.getMonth(),We=(je(p.getFullYear())?Zt:Kt)[q];if(H>We-p.getDate())H-=We-p.getDate()+1,p.setDate(1),11>q?p.setMonth(q+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return q=new Date(p.getFullYear()+1,0,4),H=z(new Date(p.getFullYear(),0,4)),q=z(q),0>=v(H,p)?0>=v(q,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,f>>>=0;var ne=w()[f+40>>>2>>>0];f={ob:l()[f>>>2>>>0],nb:l()[f+4>>>2>>>0],Ta:l()[f+8>>>2>>>0],Xa:l()[f+12>>>2>>>0],Ua:l()[f+16>>>2>>>0],Sa:l()[f+20>>>2>>>0],Na:l()[f+24>>>2>>>0],Ra:l()[f+28>>>2>>>0],ub:l()[f+32>>>2>>>0],mb:l()[f+36>>>2>>>0],pb:ne?Ge(ne):""},n=Ge(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in ne)n=n.replace(new RegExp(me,"g"),ne[me]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");ne={"%a":p=>fr[p.Na].substring(0,3),"%A":p=>fr[p.Na],"%b":p=>lr[p.Ua].substring(0,3),"%B":p=>lr[p.Ua],"%C":p=>b((p.Sa+1900)/100|0,2),"%d":p=>b(p.Xa,2),"%e":p=>y(p.Xa,2," "),"%g":p=>Te(p).toString().substring(2),"%G":p=>Te(p),"%H":p=>b(p.Ta,2),"%I":p=>(p=p.Ta,p==0?p=12:12<p&&(p-=12),b(p,2)),"%j":p=>{for(var H=0,q=0;q<=p.Ua-1;H+=(je(p.Sa+1900)?Zt:Kt)[q++]);return b(p.Xa+H,3)},"%m":p=>b(p.Ua+1,2),"%M":p=>b(p.nb,2),"%n":()=>`\n`,"%p":p=>0<=p.Ta&&12>p.Ta?"AM":"PM","%S":p=>b(p.ob,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>b(Math.floor((p.Ra+7-p.Na)/7),2),"%V":p=>{var H=Math.floor((p.Ra+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Ra-2)%7&&H++,H)H==53&&(q=(p.Na+371-p.Ra)%7,q==4||q==3&&je(p.Sa)||(H=1));else{H=52;var q=(p.Na+7-p.Ra-1)%7;(q==4||q==5&&je(p.Sa%400-1))&&H++}return b(H,2)},"%w":p=>p.Na,"%W":p=>b(Math.floor((p.Ra+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Sa+1900).toString().substring(2),"%Y":p=>p.Sa+1900,"%z":p=>{p=p.mb;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in ne)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),ne[me](f)));return n=n.replace(/\\0\\0/g,"%"),me=Yr(n),me.length>t?0:(jr(me,e),me.length-1)}M.Wa();var zr=[C,ut,m,S,R,se,Qe,Ze,c,W,G,Se,Ke,Bt,Wt,kt,$t,Gt,zt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,t,n){throw e>>>=0,new r(e).Wa(t>>>0,n>>>0),o=e,s++,o},L:function(e){nr(e>>>0,!k,1,!U,131072,!1),M.ab()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):M.Za(M.Ma[e])},H:O,h:S,S:R,D:se,F:Qe,T:Ze,Q:c,J:W,P:G,n:Se,E:Ke,B:Bt,R:Wt,C:kt,p:()=>1,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ft()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,n,f){t>>>=0,gt.length=n,f=f>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[f+y>>>0];return e=0>e?Ne[-e-1]:zr[e],M.ib=t,t=e.apply(null,gt),M.ib=0,t},K:mt,o:function(e){L&&M.Ma[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),t=(je(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=t,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=f&&e.getTimezoneOffset()==Math.min(f,t))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],f=t.getTimezoneOffset(),y=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(b,y);return 0>n?l()[e+32>>>2>>>0]=+(y!=b&&v==f):0<n!=(v==f)&&(y=Math.max(b,y),t.setTime(t.getTime()+6e4*((0<n?v:y)-f))),l()[e+24>>>2>>>0]=t.getDay(),n=(je(t.getFullYear())?Nt:Ht)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(l()[tr()>>>2>>>0]=61,e=-1):e/=1e3,sr((De=e,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:Gt,y:function(e,t,n){function f(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var y=new Date().getFullYear(),b=new Date(y,0,1),v=new Date(y,6,1);y=b.getTimezoneOffset();var z=v.getTimezoneOffset(),Te=Math.max(y,z);w()[e>>>2>>>0]=60*Te,l()[t>>>2>>>0]=+(y!=z),e=f(b),t=f(v),e=Yt(e),t=Yt(t),z<y?(w()[n>>>2>>>0]=e,w()[n+4>>>2>>>0]=t):(w()[n>>>2>>>0]=t,w()[n+4>>>2>>>0]=e)},c:()=>{Z("")},O:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,ht.length=0;for(var f;f=h()[t++>>>0];){var y=f!=105;y&=f!=112,n+=y&&n%8?4:0,ht.push(f==112?w()[n>>>2>>>0]:f==105?l()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Le+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>L?(wr(),tt(br)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=h().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=t*(1+.2/n);f=Math.min(f,e+100663296);var y=Math;f=Math.max(e,f);e:{y=(y.min.call(y,4294901760,f+(65536-f%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(y),we();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:zt,N:qt,G:Ye,g:Vt,m:Jt,v:Xt,l:Qt,a:j||i.wasmMemory,w:er,d:function(e,t,n,f){return er(e>>>0,t>>>0,n>>>0,f>>>0)}},T=function(){function e(n,f){return T=n.exports,T=Vr(),M.bb.push(T.za),Xe=T.Aa,Fe.unshift(T.V),ce=f,re(),T}var t={a:qr};if(pe++,i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){ee(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return at(t,function(n){e(n.instance,n.module)}).catch(D),{}}();i._OrtInit=(e,t)=>(i._OrtInit=T.W)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=T.X)(e,t),i._OrtCreateSessionOptions=(e,t,n,f,y,b,v,z,Te,ne)=>(i._OrtCreateSessionOptions=T.Y)(e,t,n,f,y,b,v,z,Te,ne),i._OrtAppendExecutionProvider=(e,t)=>(i._OrtAppendExecutionProvider=T.Z)(e,t),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=T._)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=T.$)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=T.ba)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=T.da)(e,t,n),i._OrtGetInputName=(e,t)=>(i._OrtGetInputName=T.ea)(e,t),i._OrtGetOutputName=(e,t)=>(i._OrtGetOutputName=T.fa)(e,t),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,t,n,f,y,b)=>(i._OrtCreateTensor=T.ha)(e,t,n,f,y,b),i._OrtGetTensorData=(e,t,n,f,y)=>(i._OrtGetTensorData=T.ia)(e,t,n,f,y),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,t,n,f)=>(i._OrtCreateRunOptions=T.ka)(e,t,n,f),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=T.la)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=T.oa)(e,t,n),i._OrtBindOutput=(e,t,n,f)=>(i._OrtBindOutput=T.pa)(e,t,n,f),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,t,n,f,y)=>(i._OrtRunWithBinding=T.sa)(e,t,n,f,y),i._OrtRun=(e,t,n,f,y,b,v,z)=>(i._OrtRun=T.ta)(e,t,n,f,y,b,v,z),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var tr=()=>(tr=T.va)(),lt=i._pthread_self=()=>(lt=i._pthread_self=T.wa)(),rr=i._malloc=e=>(rr=i._malloc=T.xa)(e);i._free=e=>(i._free=T.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.za)();var nr=i.__emscripten_thread_init=(e,t,n,f,y,b)=>(nr=i.__emscripten_thread_init=T.Ba)(e,t,n,f,y,b);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ca)();var ar=(e,t,n,f)=>(ar=T.Da)(e,t,n,f),wt=e=>(wt=T.Ea)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Fa)(e),or=()=>(or=T.Ga)(),sr=e=>(sr=T.Ha)(e),ir=(e,t)=>(ir=T.Ia)(e,t),vt=()=>(vt=T.Ja)(),ct=e=>(ct=T.Ka)(e),_t=e=>(_t=T.La)(e);function Vr(){var e=T;e=Object.assign({},e);var t=f=>()=>f()>>>0,n=f=>y=>f(y)>>>0;return e.va=t(e.va),e.wa=t(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=t(e.Ja),e.La=n(e.La),e}i.wasmMemory=j,i.stackAlloc=_t,i.stackSave=vt,i.stackRestore=ct,i.keepRuntimeAlive=()=>0<Le,i.UTF8ToString=Ge,i.stringToUTF8=oe,i.lengthBytesUTF8=K,i.ExitStatus=Pe,i.PThread=M;var dt;ve=function e(){dt||ur(),dt||(ve=e)};function ur(){if(!(0<pe))if(_)A(i),_||Be(Fe),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Me.unshift(i.preRun.shift());Be(Me),0<pe||dt||(dt=!0,i.calledRun=!0,P||(_||Be(Fe),A(i),_||Be(Ee)))}}return ur(),d.ready}})();typeof vr=="object"&&typeof Ft=="object"?Ft.exports=Or:typeof define=="function"&&define.amd&&define([],()=>Or)});var Er=et((On,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=gr();var an=_r(),Ut,Pt=!1,pt=!1,Sr=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,d)=>u?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ar=async u=>{if(Pt)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Sr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=u.initTimeout,a=u.numThreads,h=u.simd,l=on(a),w=h&&sn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,A=un(w,l),D=typeof g=="object"?g[A]:void 0,I=!1,B=[];if(d>0&&B.push(new Promise(F=>{setTimeout(()=>{I=!0,F()},d)})),B.push(new Promise((F,U)=>{let k=l?an:Tr,L={locateFile:(_,x)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Er()],{type:"text/javascript"})):_.endsWith(".wasm")?D||(i??x)+A:x+_};if(l)if(L.numThreads=a,typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;L.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(L).then(_=>{pt=!1,Pt=!0,Ut=_,F()},_=>{pt=!1,Sr=!0,U(_)})})),await Promise.race(B),I)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},X=()=>{if(Pt&&Ut)return Ut;throw new Error("WebAssembly is not initialized yet.")};var Q=(u,d)=>{let a=X(),h=a.lengthBytesUTF8(u)+1,l=a._malloc(h);return a.stringToUTF8(u,l,h),d.push(l),l},rt=(u,d,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([l,w])=>{let g=d?d+l:l;if(typeof w=="object")rt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},V=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let l=d.HEAP32[h/4],w=d.HEAPU32[h/4+1],g=w?d.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Mr=u=>{let d=X(),a=0,h=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let w=0;return u?.tag!==void 0&&(w=Q(u.tag,h)),a=d._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,w),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&rt(u.extra,"",new WeakSet,(g,i)=>{let A=Q(g,h),D=Q(i,h);d._OrtAddRunConfigEntry(a,A,D)!==0&&V(`Can\'t set a run config entry: ${g} - ${i}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),w}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let d=u.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,d,a)=>{for(let h of d){let l=typeof h=="string"?h:h.name;switch(l){case"webnn":if(l="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let i=Q("deviceType",a),A=Q(g.deviceType,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let A=Q("numThreads",a),D=Q(i.toString(),a);X()._OrtAddSessionConfigEntry(u,A,D)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=Q("powerPreference",a),A=Q(g.powerPreference,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=Q("preferredLayout",a),A=Q(g.preferredLayout,a);X()._OrtAddSessionConfigEntry(u,i,A)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let w=Q(l,a);X()._OrtAppendExecutionProvider(u,w)!==0&&V(`Can\'t append execution provider: ${l}.`)}},Cr=u=>{let d=X(),a=0,h=[],l=u||{};cn(l);try{let w=fn(l.graphOptimizationLevel??"all"),g=ln(l.executionMode??"sequential"),i=typeof l.logId=="string"?Q(l.logId,h):0,A=l.logSeverityLevel??2;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log serverity level is not valid: ${A}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let I=typeof l.optimizedModelFilePath=="string"?Q(l.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(w,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,i,A,D,I),a===0&&V("Can\'t create session options."),l.executionProviders&&dn(a,l.executionProviders,h),l.freeDimensionOverrides)for(let[B,F]of Object.entries(l.freeDimensionOverrides)){if(typeof B!="string")throw new Error(`free dimension override name must be a string: ${B}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let U=Q(B,h);d._OrtAddFreeDimensionOverride(a,U,F)!==0&&V(`Can\'t set a free dimension override: ${B} - ${F}.`)}return l.extra!==void 0&&rt(l.extra,"",new WeakSet,(B,F)=>{let U=Q(B,h),k=Q(F,h);d._OrtAddSessionConfigEntry(a,U,k)!==0&&V(`Can\'t set a session config entry: ${B} - ${F}.`)}),[a,h]}catch(w){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),w}};var Rt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],xr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Ur=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Pr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Rr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let l of a)h.push(l);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(u);if(!d.ok)throw new Error(`failed to load external data file: ${u}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let l=d.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(i){if(i instanceof RangeError){let A=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:A,maximum:A}).buffer}else throw i}let g=0;for(;;){let{done:i,value:A}=await l.read();if(i)break;let D=A.byteLength;new Uint8Array(w,g,D).set(A),g+=D}return new Uint8Array(w,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,d)=>{X()._OrtInit(u,d)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,Fr(u.logLevel))},Br=async(u,d)=>{},nt=new Map,mn=u=>{let d=X(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},Lt=u=>{let d=X(),a=d._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return d.HEAPU8.set(u,a),[a,u.byteLength]},Wr=async(u,d)=>{let a,h,l=X();Array.isArray(u)?[a,h]=u:u.buffer===l.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let w=0,g=0,i=0,A=[],D=[],I=[];try{if([g,A]=Cr(d),d?.externalData&&l.mountExternalData){let x=[];for(let N of d.externalData){let he=typeof N=="string"?N:N.path;x.push(Rr(typeof N=="string"?N:N.data).then(ie=>{l.mountExternalData(he,ie)}))}await Promise.all(x)}w=l._OrtCreateSession(a,h,g),w===0&&V("Can\'t create a session.");let[B,F]=mn(w),U=[],k=[],L=[];for(let x=0;x<B;x++){let N=l._OrtGetInputName(w,x);N===0&&V("Can\'t get an input name."),D.push(N),U.push(l.UTF8ToString(N))}for(let x=0;x<F;x++){let N=l._OrtGetOutputName(w,x);N===0&&V("Can\'t get an output name."),I.push(N);let he=l.UTF8ToString(N);k.push(he)}let _=null;return nt.set(w,[w,D,I,_]),[w,U,k]}catch(B){throw D.forEach(F=>l._OrtFree(F)),I.forEach(F=>l._OrtFree(F)),i!==0&&l._OrtReleaseBinding(i),w!==0&&l._OrtReleaseSession(w),B}finally{l._free(a),g!==0&&l._OrtReleaseSessionOptions(g),A.forEach(B=>l._free(B)),l.unmountExternalData?.()}},kr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,l,w,g]=a;g&&d._OrtReleaseBinding(g.handle),d.jsepUnregisterBuffers?.(u),l.forEach(i=>d._OrtFree(i)),w.forEach(i=>d._OrtFree(i)),d._OrtReleaseSession(h),nt.delete(u)},Ir=(u,d,a,h,l)=>{if(!u){d.push(0);return}let w=X(),g=u[0],i=u[1],A=u[3],D,I;if(g==="string"&&A==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(A==="gpu-buffer"){let U=u[2].gpuBuffer,k=It(Rt(g));I=i.reduce((L,_)=>L*_,1)*k,D=w.jsepRegisterBuffer(h,l,U,I)}else{let U=u[2];if(Array.isArray(U)){I=4*U.length,D=w._malloc(I),a.push(D);let k=D/4;for(let L=0;L<U.length;L++){if(typeof U[L]!="string")throw new TypeError(`tensor data at index ${L} is not a string`);w.HEAPU32[k++]=Q(U[L],a)}}else I=U.byteLength,D=w._malloc(I),a.push(D),w.HEAPU8.set(new Uint8Array(U.buffer,U.byteOffset,I),D)}let B=w.stackSave(),F=w.stackAlloc(4*i.length);try{let U=F/4;i.forEach(L=>w.HEAP32[U++]=L);let k=w._OrtCreateTensor(Rt(g),D,I,F,i.length,Pr(A));k===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${l}.`),d.push(k)}finally{w.stackRestore(B)}},Nr=async(u,d,a,h,l,w)=>{let g=X(),i=nt.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[A,D,I,B]=i,F=d.length,U=h.length,k=0,L=[],_=[],x=[],N=[],he=g.stackSave(),ie=g.stackAlloc(F*4),ae=g.stackAlloc(F*4),E=g.stackAlloc(U*4),Y=g.stackAlloc(U*4);try{[k,L]=Mr(w);for(let P=0;P<F;P++)Ir(a[P],_,N,u,d[P]);for(let P=0;P<U;P++)Ir(l[P],x,N,u,F+h[P]);let ue=ie/4,Re=ae/4,Ie=E/4,ee=Y/4;for(let P=0;P<F;P++)g.HEAPU32[ue++]=_[P],g.HEAPU32[Re++]=D[d[P]];for(let P=0;P<U;P++)g.HEAPU32[Ie++]=x[P],g.HEAPU32[ee++]=I[h[P]];let j;j=await g._OrtRun(A,ae,ie,F,Y,U,E,k),j!==0&&V("failed to call OrtRun().");let ce=[];for(let P=0;P<U;P++){let te=g.HEAPU32[E/4+P];if(te===x[P]){ce.push(l[P]);continue}let de=g.stackSave(),ge=g.stackAlloc(4*4),ye=!1,J,fe=0;try{g._OrtGetTensorData(te,ge,ge+4,ge+8,ge+12)!==0&&V(`Can\'t access output tensor data on index ${P}.`);let Ae=ge/4,Me=g.HEAPU32[Ae++];fe=g.HEAPU32[Ae++];let Fe=g.HEAPU32[Ae++],Ee=g.HEAPU32[Ae++],pe=[];for(let re=0;re<Ee;re++)pe.push(g.HEAPU32[Fe/4+re]);g._OrtFree(Fe);let Oe=pe.reduce((re,Z)=>re*Z,1);J=Dr(Me);let ve=B?.outputPreferredLocations[h[P]];if(J==="string"){if(ve==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Z=fe/4;for(let Ce=0;Ce<Oe;Ce++){let be=g.HEAPU32[Z++],_e=Ce===Oe-1?void 0:g.HEAPU32[Z]-be;re.push(g.UTF8ToString(be,_e))}ce.push([J,pe,re,"cpu"])}else if(ve==="gpu-buffer"&&Oe>0){let re=g.jsepGetBuffer(fe),Z=It(Me);if(Z===void 0||!Ur(J))throw new Error(`Unsupported data type: ${J}`);ye=!0,ce.push([J,pe,{gpuBuffer:re,download:g.jsepCreateDownloader(re,Oe*Z,J),dispose:()=>{g._OrtReleaseTensor(te)}},"gpu-buffer"])}else{let re=xr(J),Z=new re(Oe);new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength).set(g.HEAPU8.subarray(fe,fe+Z.byteLength)),ce.push([J,pe,Z,"cpu"])}}finally{g.stackRestore(de),J==="string"&&fe&&g._free(fe),ye||g._OrtReleaseTensor(te)}}return B&&g._OrtClearBoundOutputs(B.handle),ce}finally{g.stackRestore(he),_.forEach(ue=>g._OrtReleaseTensor(ue)),x.forEach(ue=>g._OrtReleaseTensor(ue)),N.forEach(ue=>g._free(ue)),k!==0&&g._OrtReleaseRunOptions(k),L.forEach(ue=>g._free(ue))}},Hr=u=>{let d=X(),a=nt.get(u);if(!a)throw new Error("invalid session id");let h=a[0],l=d._OrtEndProfiling(h);l===0&&V("Can\'t get an profile file name."),d._OrtFree(l)},$r=u=>{let d=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=u=>{let{type:d,in:a}=u.data;try{switch(d){case"init-wasm":Ar(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:l}=a;Br(l,h).then(()=>{postMessage({type:d})},w=>{postMessage({type:d,err:w})});break}case"copy-from":{let{buffer:h}=a,l=Lt(h);postMessage({type:d,out:l});break}case"create":{let{model:h,options:l}=a;Wr(h,l).then(w=>{postMessage({type:d,out:w})},w=>{postMessage({type:d,err:w})});break}case"release":kr(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:l,inputs:w,outputIndices:g,options:i}=a;Nr(h,l,w,g,new Array(g.length).fill(null),i).then(A=>{A.some(D=>D[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:A},$r(A))},A=>{postMessage({type:d,err:A})});break}case"end-profiling":Hr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'});var Qe,Ee,_t,Gt,zt,_r,Er,ut,ft,Va,jt,ua,fa,la,ca,da,pa,ma,Tr=W(()=>{"use strict";Je();ia();st();Qe=()=>!!$.wasm.proxy&&typeof document<"u",_t=!1,Gt=!1,zt=!1,Er=new Map,ut=(t,r)=>{let n=Er.get(t);n?n.push(r):Er.set(t,[r])},ft=()=>{if(_t||!Gt||zt||!Ee)throw new Error("worker not ready")},Va=t=>{switch(t.data.type){case"init-wasm":_t=!1,t.data.err?(zt=!0,_r[1](t.data.err)):(Gt=!0,_r[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=Er.get(t.data.type);t.data.err?r.shift()[1](t.data.err):r.shift()[0](t.data.out);break}default:}},jt=typeof document<"u"?document?.currentScript?.src:void 0,ua=async()=>{if(!Gt){if(_t)throw new Error("multiple calls to 'initWasm()' detected.");if(zt)throw new Error("previous call to 'initWasm()' failed.");if(_t=!0,Qe())return $.wasm.wasmPaths===void 0&&jt&&jt.indexOf("blob:")!==0&&($.wasm.wasmPaths=jt.substr(0,+jt.lastIndexOf("/")+1)),new Promise((t,r)=>{Ee?.terminate();let n=URL.createObjectURL(new Blob([sa()],{type:"text/javascript"}));Ee=new Worker(n,{name:"ort-wasm-proxy-worker"}),Ee.onerror=i=>r(i),Ee.onmessage=Va,URL.revokeObjectURL(n),_r=[t,r];let f={type:"init-wasm",in:$};Ee.postMessage(f)});try{await jn($.wasm),await Kn($),Gt=!0}catch(t){throw zt=!0,t}finally{_t=!1}}},fa=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("init-ep",[r,n]);let f={type:"init-ep",in:{epName:t,env:$}};Ee.postMessage(f)});await ea($,t)},la=async t=>Qe()?(ft(),new Promise((r,n)=>{ut("copy-from",[r,n]);let f={type:"copy-from",in:{buffer:t}};Ee.postMessage(f,[t.buffer])})):Or(t),ca=async(t,r)=>{if(Qe()){if(r?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ft(),new Promise((n,f)=>{ut("create",[n,f]);let i={type:"create",in:{model:t,options:r}},p=[];t instanceof Uint8Array&&p.push(t.buffer),Ee.postMessage(i,p)})}else return ta(t,r)},da=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("release",[r,n]);let f={type:"release",in:t};Ee.postMessage(f)});ra(t)},pa=async(t,r,n,f,i,p)=>{if(Qe()){if(n.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(i.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return ft(),new Promise((d,s)=>{ut("run",[d,s]);let b=n,h={type:"run",in:{sessionId:t,inputIndices:r,inputs:b,outputIndices:f,options:p}};Ee.postMessage(h,oa(b))})}else return na(t,r,n,f,i,p)},ma=async t=>{if(Qe())return ft(),new Promise((r,n)=>{ut("end-profiling",[r,n]);let f={type:"end-profiling",in:t};Ee.postMessage(f)});aa(t)}});var ha,Xa,Yt,ga=W(()=>{"use strict";Je();Tr();br();vr();ha=(t,r)=>{switch(t.location){case"cpu":return[t.type,t.dims,t.data,"cpu"];case"gpu-buffer":return[t.type,t.dims,{gpuBuffer:t.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${t.location} for ${r()}`)}},Xa=t=>{switch(t[3]){case"cpu":return new ce(t[0],t[2],t[1]);case"gpu-buffer":{let r=t[0];if(!$t(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:n,download:f,dispose:i}=t[2];return ce.fromGpuBuffer(n,{dataType:r,dims:t[1],download:f,dispose:i})}default:throw new Error(`invalid data location: ${t[3]}`)}},Yt=class{async fetchModelAndCopyToWasmMemory(r){return la(await vt(r))}async loadModel(r,n){Ne();let f;typeof r=="string"?typeof process<"u"&&process.versions&&process.versions.node?f=await vt(r):f=await this.fetchModelAndCopyToWasmMemory(r):f=r,[this.sessionId,this.inputNames,this.outputNames]=await ca(f,n),We()}async dispose(){return da(this.sessionId)}async run(r,n,f){Ne();let i=[],p=[];Object.entries(r).forEach(v=>{let S=v[0],D=v[1],P=this.inputNames.indexOf(S);if(P===-1)throw new Error(`invalid input '${S}'`);i.push(D),p.push(P)});let d=[],s=[];Object.entries(n).forEach(v=>{let S=v[0],D=v[1],P=this.outputNames.indexOf(S);if(P===-1)throw new Error(`invalid output '${S}'`);d.push(D),s.push(P)});let b=i.map((v,S)=>ha(v,()=>`input "${this.inputNames[p[S]]}"`)),h=d.map((v,S)=>v?ha(v,()=>`output "${this.outputNames[s[S]]}"`):null),O=await pa(this.sessionId,p,b,s,h,f),T={};for(let v=0;v<O.length;v++)T[this.outputNames[s[v]]]=d[v]??Xa(O[v]);return We(),T}startProfiling(){}endProfiling(){ma(this.sessionId)}}});var Ja,qt,ya=W(()=>{"use strict";Je();Tr();ga();Ja=()=>{if((typeof $.wasm.initTimeout!="number"||$.wasm.initTimeout<0)&&($.wasm.initTimeout=0),typeof $.wasm.simd!="boolean"&&($.wasm.simd=!0),typeof $.wasm.proxy!="boolean"&&($.wasm.proxy=!1),typeof $.wasm.trace!="boolean"&&($.wasm.trace=!1),typeof $.wasm.numThreads!="number"||!Number.isInteger($.wasm.numThreads)||$.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&($.wasm.numThreads=1);let t=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;$.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}},qt=class{async init(r){Ja(),await ua(),await fa(r)}async createInferenceSessionHandler(r,n){let f=new Yt;return await f.loadModel(r,n),Promise.resolve(f)}}});var wa={};it(wa,{wasmBackend:()=>Qa});var Qa,ba=W(()=>{"use strict";ya();Qa=new qt});var Ka={};it(Ka,{InferenceSession:()=>_n,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>Ne,TRACE_FUNC_END:()=>We,Tensor:()=>ce,TrainingSession:()=>An,default:()=>Za,env:()=>$,registerBackend:()=>Ve});Je();Je();Je();var xn="1.17.1";var Za=ur;{let t=(ba(),Ye(wa)).wasmBackend;Ve("cpu",t,10),Ve("wasm",t,10),Ve("webnn",t,9)}Object.defineProperty($.versions,"web",{value:xn,enumerable:!0});return Ye(Ka);})();
//# sourceMappingURL=ort.wasm.min.js.map
